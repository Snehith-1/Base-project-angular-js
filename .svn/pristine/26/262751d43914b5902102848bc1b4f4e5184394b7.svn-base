<h3>
    Compliance Management
</h3>
<div ng-controller="request360controller">
    <div class="row">
        <div class="col-lg-3 col-sm-3 col-md-3" ng-hide="relpath1=='Rejected'||relpath1=='Completed'">
            <div class="list-group-item">
                <div class="media-box">
                    <div class="pull-left">
                        <span class="fa-stack">
                            <em class="fa fa-circle fa-stack-2x text-green"></em>
                            <em class="fa fa-upload fa-stack-1x fa-inverse text-white"></em>
                        </span>
                    </div>
                    <div class="media-box-body clearfix" ng-click="updatestatus(relpath1)">

                        <div class="media-box-heading">
                            <b class="text-green m0">Update Status - {{relpath1}}</b><u class="text-info m0"> Click Here</u>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        <div ng-hide="relpath1=='Pending'||relpath1=='Rejected'||relpath1=='Completed'">
            <div class="col-lg-3 col-sm-3 col-md-3" ng-hide="seeklawyer">
                <div class="list-group-item">
                    <div class="media-box">
                        <div class="pull-left">
                            <span class="fa-stack">
                                <em class="fa fa-circle fa-stack-2x text-pink"></em>
                                <em class="fa fa-star fa-stack-1x fa-inverse text-white"></em>
                            </span>
                        </div>
                        <div class="media-box-body clearfix" ng-click="seeklawyeropinion()">

                            <div class="media-box-heading">
                                <b class="text-pink m0">Seek Lawyer Opinion</b><br />
                                <u class="text-info m0"> Click Here</u>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-lg-12 col-sm-12 col-md-12">
            <br />
            <div class="panel widget" ng-show="seeklawyer">
                <div class="panel-primary panel-heading ">
                    <div class="panel-heading">
                        <em class="fa fa-file fa-lg"></em>&emsp;
                        Seek Lawyer Opinion
                    </div>
                    <div class="dd-handle ng-scope">

                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6 form-group">
                                <label>Assign Lawyer <span style="color:red">*</span></label>
                                <br />
                                <select name="assignlawyer" chosen="" multiple="multiple" id="assignlawyer" ng-model="$parent.cboassignlawyer" required=""
                                        class="chosen-select form-control" ng-options="c.lawyeruser_name for c in lawyer_list" size="1"></select>
                            </div>
                            <div class="col-lg-6 col-md-6 col-sm-6 form-group">
                                <label>Assign LawFirm <span style="color:red">*</span></label>
                                <br />
                                <select name="assignlawfirm" id="assignlawfirm" ng-model="$parent.cboassignlawfirm" required=""
                                        chosen="" multiple="multiple" class="chosen-select form-control" ng-options="m.lawyeruser_name for m in lawfirm_list" size="1"></select>
                            </div>
                        </div>

                        <div class="row">
                            <div class="text-center">
                                <a class="btn btn-success" ng-click="assignLawyerSubmit()">
                                    <em class="fa fa-check"></em>
                                    <span>Assign</span>
                                </a>

                                <button id="response_cancel" class="btn btn-danger" ng-click="cancelassignLawyer()">
                                    <i class="fa fa-remove">&nbsp;Cancel</i>
                                </button>
                            </div>

                        </div>
                    </div>

                </div>

            </div>

        </div>
    </div>


    <div class="row">
        <div class="col-lg-7 col-md-7 col-sm-7 ">
            <div class="panel panel-primary" ui-scroll-viewport="" style="height:500px; overflow-y: auto;">
                <div class="panel-heading">
                    <em class="fa fa-eye"></em>&nbsp; Request Compliance Details
                </div>
                <br />
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Request  Ref No</strong><br />
                            <p>{{requestref_no}}</p>
                        </div>
                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Request Date</strong>
                            <br />
                            <p>{{request_date}}</p>
                        </div>
                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Request type</strong>
                            <br />
                            <p>{{request_type}}</p>
                        </div>

                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Requested By</strong><br />
                            <p>{{requested_by}}</p>
                        </div>
                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Requester Branch</strong>
                            <br />
                            <p>{{branch_name}}</p>
                        </div>
                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Requester Department </strong>
                            <br />
                            <p>{{department_name}}</p>
                        </div>

                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">

                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <strong>Description</strong>

                            <p>{{txtremarks}}</p>
                        </div>
                    </div>
                </div>
                <div class="row" ng-show="relpath1=='Rejected'">
                    <div class="col-lg-12 col-md-12 col-sm-12">

                        <div class="col-lg-8  col-sm-8 col-md-8">
                            <b style="color:darkblue">
                                <em class="fa fa-thumbs-o-down text-primary fa-lg"></em>&emsp;
                                Rejected Remarks
                            </b>

                            <p>{{rejected_remarks}}</p>
                        </div>
                    </div>
                    <br />
                </div>

                <div class="row">
                    <div class="col-lg-12 col-sm-12 col-md-12">
                        <div class="col-sm-4 col-md-4 col-lg-4">
                            <b style="color:darkblue">
                                <em class="fa fa-file text-primary fa-lg"></em>&emsp;
                                Uploaded Documents
                            </b>
                        </div>
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-lg-12 col-sm-12 col-md-12">

                        <div class="col-lg-12 col-sm-12 col-md-12 table-responsive cell-border">
                            <table class="table">

                                <tbody>

                                    <tr ng-repeat="data in list">

                                        <td>
                                            {{$index+1}}
                                        </td>
                                        <td>
                                            {{data.file_name}}
                                        </td>
                                        <td>
                                            <a class="btn" download="" href="" id="btnpdf" ng-click="downloads(data.file_path,data.file_name)"><span class="fa fa-download"></span></a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                        </div>

                    </div>
                </div>
                <br />

            </div>
        </div>
        <div class="col-lg-5 col-md-5 col-sm-5">
            <div class="panel panel-primary">
                <div class="panel-heading">
                    <em class="icon icon-cloud-upload"></em>&nbsp;Upload Corrected Document
                </div>
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="col-lg-3 col-md-3 col-sm-3">
                                <label>File Upload</label>
                            </div>

                            <div class="col-lg-8 col-md-8 col-sm-8">
                                <input type="file" id="addupload" ng-model="test_document" onchange="angular.element(this).scope().upload(this.files, angular.element(this).scope().documentupload, this.name)"
                                       filestyle="" data-classbutton="btn btn-default" data-classinput="form-control inline" data-button-text="Select" />
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div class="col-lg-12 col-sm-12 col-md-12">
                                <div ui-scroll-viewport="" style="height:115px; overflow-y: auto;" class="row">
                                    <div class="table-responsive">
                                        <table class="table table-striped table-secondary table-bordered">

                                            <tbody>
                                                <tr ng-repeat="data in UploadDocumentList" width="100%">

                                                    <td align="left" scope="col" title="'Document Name'">
                                                        {{data.document_name}}
                                                    </td>
                                                    <td align="center" scope="col" data-title="'Action'">

                                                        <button title="Delete Document"
                                                                ng-click="deletedocument(data.document_gid)"
                                                                class="btn btn-danger">
                                                            <em class="fa fa-close"></em>
                                                        </button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="text-center">

                            <button type="button" class="btn btn-success btn-md" ng-disabled="userform.$invalid" ng-click="correcteddoc_submit()"><i class="fa fa-arrow-circle-right"></i>&nbsp;&nbsp;Submit</button>&nbsp;&nbsp;
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div class="col-lg-12 col-sm-12 col-md-12">
                                <div ui-scroll-viewport="" style="height:250px; overflow-y: auto;" class="row">
                                    <div class="table-responsive">
                                        <table class="table table-striped table-secondary table-bordered">

                                            <tbody>
                                                <tr ng-repeat="data in file_list" width="100%">

                                                    <td align="left" scope="col" title="'Document Name'">
                                                        {{data.document_name}}
                                                    </td>
                                                    <td>
                                                        <a class="btn" download="" href="" id="btnpdf"  ng-click="downloadsdocument(data.document_path,data.document_name)"><span class="fa fa-download"></span></a>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div class="row">
        <div class="col-lg-12 col-sm-12 col-md-12">
            <div class="panel widget panel-primary">
                <div class="panel-heading ">
                    <em class="fa fa-question-circle  fa-lg"> </em>&emsp;Query

                </div>
                <div ng-repeat="data in querieslog_list">
                    <div ng-switch="data.session_user">
                        <div class="row">
                            <div class="col-lg-12 col-sm-12 col-md-12">
                                &nbsp;<div style="padding-left:200px;" ng-switch-when="Y" class="col-lg-12 col-md-12 col-sm-12">
                                    <div class="media bb p bg-green-50" style="width:initial;border-radius:15px;">
                                        <small class="pull-right text-bold">{{data.created_date}}</small>
                                        <div class="media-body">
                                            <span class="media-heading">
                                                <p class="m0">
                                                    <strong class="text-info">{{data.sender_name}}</strong>
                                                </p>
                                                <p class="m0">{{data.queries}}</p>
                                            </span>
                                        </div>
                                    </div>
                                </div>

                                <div ng-switch-when="N" style="padding-right:200px;" class="col-lg-12 col-sm-12 col-md-12">
                                    <div class="media bb p bg-deep-orange-50" style="width:initial;border-radius:15px;">
                                        <small class="pull-right text-bold">
                                            {{data.created_date}}
                                        </small>
                                        <div class="media-body">
                                            <span class="media-heading">
                                                <p class="m0">
                                                    <strong class="text-info">{{data.sender_name}}</strong>
                                                </p>
                                                <p class="m0 ">{{data.queries}}</p>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>

                    </div>
                </div>
                <div class="col-lg-12 col-sm-12 col-md-12">
                    <br />
                    <div class="row text-center">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <textarea id="txtqueries" name="txtqueries" rows="3" cols="60" ng-model="txtqueries"
                                      placeholder="Enter Queries..." class="form-control" align="left"></textarea>
                            <br />
                            <button id="response_send" ng-disabled="!txtqueries" class="btn btn-green" ng-click="sendclick()">
                                <i class="fa fa-send">&nbsp;Send</i>
                            </button>
                            <button id="response_cancel" ng-disabled="!txtqueries" class="btn btn-danger" ng-click="cancelclick()">
                                <i class="fa fa-remove">&nbsp;Cancel</i>
                            </button>
                        </div>
                    </div>
                    <br />
                </div>

            </div>
        </div>
    </div>



    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="text-center">
                <!--<button type="button" class="btn btn-success btn-md" ng-disabled="userform.$invalid" ng-click="requestSubmit(requestcompliance_gid)"><i class="fa fa-arrow-circle-right"></i>&nbsp;&nbsp;Submit</button>&nbsp;&nbsp;-->
                <!--<button type="button" class="mb-sm btn btn-warning" ng-disabled="userform.$invalid" ng-click="requestquery(requestcompliance_gid)"><i class="fa fa-question-circle"></i>&nbsp;&nbsp;Query</button>&nbsp;&nbsp;-->
                <button ng-click="requestback(relpath1)" class="btn btn-info"><i class="fa fa-arrow-circle-left"></i>&nbsp;&nbsp;Back</button>&nbsp;&nbsp;
            </div>
        </div>
    </div>
    <br />

    <script type="text/ng-template" id="/uploadcorrecteddocument.html">
        <div class="modal-header bg-green-200">
            <h4 id="myModalLabel" class="modal-title">
                &emsp;
                <span class="btn-label bg-green-200">
                    <i class="fa fa-upload"><b> Upload Corrected Document</b></i>
                </span>
            </h4>
        </div>
        <div class="modal-body">
            <div class="row" style="display:none;">
                <div class="col-lg-12 col-md-12 col-sm-12 ">
                </div>
            </div>
            <div class="pd-sm-10">
                <form novalidate="" name="userform3" ng-submit="form.submitForm1()" autocomplete="off" class="form-validate form-horizontal">
                    <br />
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12 ">
                            <div class="col-lg-5 col-sm-5 col-md-5">
                                <strong>Upload Corrected Document</strong>
                            </div>
                            <div class="col-lg-5 col-sm-5 col-md-5">

                                <input type="file" id="addupload" ng-model="test_document" onchange="angular.element(this).scope().uploaddoc(this.files, angular.element(this).scope().documentupload, this.name)"
                                       data-classbutton="btn btn-default" data-classinput="form-control inline" data-button-text="Select" />

                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12 ">
                            <div class="col-lg-12 col-sm-12 col-md-12 ">
                                <div class="mda-form-group float-label">
                                    <div class="mda-form-group">
                                        <textarea ng-model="txtcorrected_remarks" required rows="4" aria-multiline="true" tabindex="0" aria-invalid="false" class="mda-form-control"></textarea>
                                        <label>Remarks <span style="color:red">*</span></label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </form>
            </div>
            <div>
                <div class="text-center">
                    <button type="button" class="btn btn-success btn-md" ng-disabled="userform3.$invalid" ng-click="documentupload()">
                        <i class="fa fa-upload"></i> &nbsp;&nbsp;Upload
                    </button>
                    <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                </div>
            </div>
        </div>
    </script>

    <script type="text/ng-template" id="/lawyeruploadContent.html">

        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <h2><em class="fa fa-send (alias)"></em>&nbsp;Send Information To Assigned Lawyer</h2>
                <span flex></span>
                <md-button class="md-icon-button" ng-click="close()" title="Close">
                    <md-icon md-svg-src="app/img/icons/ic_close_24px.svg" aria-label="Close dialog"></md-icon>
                </md-button>
            </div>
        </md-toolbar>

        <div class="modal-body ng-scope">
            <div class="panel-body">
                <form method="post">
                    <div class="row">
                        <div class="text-center">
                            <label style="font-size:14px;">Assign Lawyer : {{lawyeruser_name}}</label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <b style="color:darkblue">
                                    <em class="fa fa-file text-primary fa-lg"></em>&emsp;
                                    Document Upload
                                </b>
                                <div class="dd-handle ng-scope" style="height:405px;">
                                    <div class="row">
                                        <div class="col-lg-10 col-sm-12 col-md-12">
                                            <input type="file" id="addupload" ng-model="test_document"
                                                   onchange="angular.element(this).scope().uploadseek(this.files, angular.element(this).scope().documentupload, this.name)"
                                                   data-classbutton="btn btn-default" data-classinput="form-control inline" data-button-text="Select"
                                                   accept="images/jpg,images/jpeg,images/tif,images/tiff,images/pdf" />
                                        </div>

                                    </div>
                                    <div class="row">
                                        <br />
                                        <div class="col-lg-11 col-sm-12 col-md-12">
                                            <div ui-scroll-viewport="" style="height:345px; overflow-y: auto;" class="row">
                                                <div class="col-lg-12 col-sm-12 col-md-12">
                                                    <div class="table-responsive table-bordered bg-teal-100">
                                                        <table class="table">
                                                            <thead class="bg-teal-500">
                                                                <tr>
                                                                    <th>Document Name</th>
                                                                    <th>Action</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="uploadseek in uploadseek_list">

                                                                    <td>{{uploadseek.document_name}}</td>
                                                                    <td>
                                                                        <button title="Cancel" class="btn btn-default btn-sm"
                                                                                ng-click="uploadcancel(uploadseek.tmpseek_documentgid)">
                                                                            <em class="fa fa-close"></em>
                                                                        </button>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>



                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="col-lg-6 col-md-6 col-sm-6">
                                <b style="color:darkblue">
                                    <em class="fa text-primary fa-lg"></em>&emsp;
                                    Remarks
                                </b>
                                <br />
                                <textarea ng-model="$parent.seeklawyerremarks" placeholder="Enter Remarks" required rows="8" aria-multiline="true" tabindex="0" aria-invalid="false" class="form-control"></textarea>

                            </div>
                        </div>
                    </div>

                </form>
            </div>
        </div>

        <div class="text-center">
            <button ng-click="assignconfirm(relpath1)" class="btn btn-success">
                <i class="fa fa-check (alias)">
                </i>&nbsp;Send
            </button>
            <button ng-click="ok()" class="btn btn-danger">
                <i class="fa fa-close (alias)">
                </i>&nbsp;Cancel
            </button>
        </div>
        <br />
    </script>
    <script type="text/ng-template" id="/statusupdation.html">
        <div class="modal-header bg-green-200 ng-scope">
            <h4 id="myModalLabel" class="modal-title">
                <span class="btn-label bg-green-200">
                    <em class="fa fa-upload"></em>
                    Update Status
                </span>
            </h4>
        </div>
        <div class="modal-body ng-scope">
            <div class="pd-sm-10">

                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Request  Ref No</strong><br />
                            <p>{{requestref_no}}</p>
                        </div>
                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Request Date</strong>
                            <br />
                            <p>{{request_date}}</p>
                        </div>
                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Request type</strong>
                            <br />
                            <p>{{request_type}}</p>
                        </div>

                    </div>
                </div>


                <div class="row">
                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <div class="col-lg-12 col-md-12 col-sm-12">

                            <label><strong>Status </strong> <span style="color:red">*</span></label>
                            <select name="cbostatus" ng-model="cbostatus" class="form-control ng-valid ng-touched ng-valid-parse"
                                    size="1">
                                <option value=""> ---Select Status--- </option>

                                <option value="Rejected"> Rejected / Not Relevent </option>
                                <option value="Completed"> Completed</option>

                            </select>
                        </div>
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <div class="col-lg-12 col-md-12 col-sm-12" ng-show="cbostatus=='Rejected'">

                            <label><strong>Remarks </strong> <span style="color:red">*</span></label>
                            <textarea name="txtrejected_remarks"
                                      ng-model="txtrejected_remarks" class="form-control" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <div class="col-lg-12 col-md-12 col-sm-12" ng-show="cbostatus=='Completed'">

                            <label><strong>Remarks </strong> <span style="color:red">*</span></label>
                            <textarea name="txtcompleted_remarks"
                                      ng-model="txtcompleted_remarks" class="form-control" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <div class="row" ng-show="mandatoryfields">

                    <div class="col-sm-12 col-md-12 col-lg-12 text-center">

                        <label style="color:red;"> Enter Remarks</label>
                        <br />
                    </div>
                </div>
                <div class="class">
                    <br />
                    <div class="text-center">
                        <a class="btn btn-success" ng-click="submit()" ng-disabled!="cbostatus.$invalid">
                            <em class="fa fa-check"></em>
                            <span>Update</span>
                        </a>
                        <a class="btn btn-danger" ng-click="ok()">
                            <em class="fa fa-close"></em>
                            <span>Cancel</span>
                        </a>
                    </div>
                </div>



            </div>

        </div>
    </script>
</div>

