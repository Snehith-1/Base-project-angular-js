<h3>
   URN Grouping
</h3>
<div ng-controller="MstRMCadUrnAcceptedCustomerDtlsController">
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="panel panel-default">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div style="color :#000000 ;font-size:14px;font-weight :bold;background-color:#3a4ccb;color:white;padding-top:10px;padding-bottom:10px;">
                            <h5>&nbsp;&nbsp; <em class="fa fa-users" style="font-size: 18px;"></em>&nbsp;&nbsp;URN - {{customer_urn}} </h5>
                        </div>
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="table-responsive">
                                <table class="table table-hover table-striped">
                                    <thead>
                                        <tr class="text-white nowrap" style="background-color:#09385f;">
                                            <th class="text-center" style="display:none;"> S.No</th>
                                            <th> Application Reference Number</th>
                                            <th> Customer Name </th>
                                            <th> RM Name </th>
                                            <th> Overall Limit </th>
                                            <!--<th> Type </th>-->
                                            <!--<th> CAD Accepted By / Date </th>-->
                                            <th> Approval Status </th>
                                            <th> Application Type </th>
                                            <!--<th> CAD Accepted By </th>-->
                                            <th class="text-center">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="data in urngrouping_list">
                                            <td data-title="'S.No'" class="text-center" style="display:none;"> {{$index+1}} </td>
                                            <td data-title="'Application Reference Number'"> {{data.application_no}} </td>
                                            <td data-title="'Customer Name'"> {{data.customer_name}} </td>
                                            <td data-title="'RM Name'"> {{data.relationshipmanager_name}} </td>
                                            <td data-title="'Overall Limit'"> {{data.overalllimit_amount}} </td>
                                            <!--<td data-title="'Type'"> {{data.type}} </td>-->
                                            <!--<td data-title="'CAD Accepted Date'"> {{data.cadaccepted_date}} </td>-->
                                            <!--<td data-title="'CAD Accepted By'"> {{data.cadaccepted_by}} / {{data.cadaccepted_date}} </td>-->
                                            <td data-title="'Approval Status'"> {{data.approval_status}} </td>
                                            <td data-title="'Application Type'" ng-if="data.renewal_flag=='Y'">
                                                <label class="label label-pink" style="font-size:10px;"> Renewal </label>                                              
                                            </td>
                                            <td data-title="'Application Type'" ng-if="data.enhancement_flag=='Y'">
                                                <label class="label label-success" style="font-size:10px;">Enhancement </label>
                                            </td>
                                            <td data-title="'Application Type'" ng-if="data.renewal_flag=='N' && data.enhancement_flag=='N'">
                                                <label class="label label-primary" style="font-size:10px;"> New </label>
                                            </td>
                                            <td class="nowrap" data-title="'Action'" style="text-align: center;">
                                                <button title="View" ng-click="view(data.application_gid,data.customer_urn)" class="btn btn-info">
                                                    <em class="fa fa-eye"></em>
                                                </button>
                                                <button title="Process" ng-click="process(data.application_gid,data.customer_urn)" style="background-color:#871490;" class="btn btn-pink">
                                                    <em class="fa fa-spinner"></em>
                                                </button>
                                                <button title="Enhancement" ng-show="(data.renewalenhancementapproval_status=='Y')" 
                                                        ng-click="enhancement(data.application_gid,data.customer_urn)" class="btn btn-pink" style="background-color:#C10B68;">
                                                    <em class="fa fa-ge"></em>
                                                </button>
                                                <button title="Enhancement" ng-show="(data.renewalenhancementapproval_status!='Y')"
                                                      disabled  class="btn btn-pink" style="background-color:#C10B68;">
                                                    <em class="fa fa-ge"></em>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tbody>
                                        <tr ng-repeat="data in rmrenewalapplication_list">
                                            <td data-title="'S.No'" class="text-center" style="display:none;"> {{($index+1)+1}} </td>
                                            <td data-title="'Application Reference Number'"> {{data.application_no}} </td>
                                            <td data-title="'Customer Name'"> {{data.customer_name}} </td>
                                            <td data-title="'RM Name'"> {{data.relationshipmanager_name}} </td>
                                            <td data-title="'Overall Limit'"> {{data.overalllimit_amount}} </td>
                                            <!--<td data-title="'Type'"> {{data.type}} </td>-->
                                            <!--<td data-title="'CAD Accepted Date'"> {{data.cadaccepted_date}} </td>-->
                                            <!--<td data-title="'CAD Accepted By'"> {{data.cadaccepted_by}} {{data.cadaccepted_date}} </td>-->
                                            <td data-title="'Approval Status'"> {{data.approval_status}} </td>
                                            <td data-title="'Application Type'" ng-show="data.renewal_flag=='Y'">
                                                <label class="label label-pink" style="font-size:10px;">Renewed </label>                                               
                                            </td>
                                            <td data-title="'Application Type'" ng-show="data.enhancement_flag=='Y'">
                                                <label class="label label-success" style="font-size:10px;">Enhancement </label>
                                            </td>                                           
                                            <td class="nowrap" data-title="'Action'" style="text-align: center;">
                                                <button title="View" disabled class="btn btn-info">
                                                    <em class="fa fa-eye"></em>
                                                </button>
                                                <button title="Process" disabled style="background-color:#871490;" class="btn btn-pink">
                                                    <em class="fa fa-spinner"></em>
                                                </button>
                                                <button title="Enhancement" disabled class="btn btn-pink" style="background-color:#C10B68;">
                                                    <em class="fa fa-ge"></em>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="text-center">
                        <button ng-click="Back()" class="btn btn-info"><i class="fa fa-arrow-circle-left"></i>&nbsp;&nbsp;Back</button>
                    </div>
                    <br />
                </div>
            </div>
        </div>
    </div>
    <script type="text/ng-template" id="/Enhancementpopup.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <em style="font-size:16px" class="fa fa-ge"></em>&nbsp;<label style="font-size:16px">Enhancement</label>
                <span flex></span>
                <button ng-click="ok()" class="pull-right btn btn-primary"><i class="fa fa-close"></i></button>
            </div>

        </md-toolbar>
        <div class="modal-content">
            <div class="modal-body ng-scope">
                <div ng-show="enhancementshow">
                    <form novalidate="" name="EnhancementForm" ng-submit="form.EnhancementForm()" autocomplete="off" class="form-validate mb-lg">
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="text-center">
                                    <h4> Do you want to Enhancement this Application? </h4>
                                </div>
                            </div>
                        </div>
                        <br />
                        <div class="text-center">
                            <button ng-click="enhancement_confirm()" class="btn btn-success"><em class="fa fa-check"></em>&nbsp;&nbsp;Confirm</button>
                            <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                        </div>
                    </form>
                </div>
                <div ng-show="enhancementedshow">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <p style="font-size:18px;color:#148417" class="text-center"><b>Enhancement Successfully! </b> </p>
                            <p style="font-size:14px;"><b> New Application created with Application number <span style="color:#7f1187;">{{enhancementapplication_no}}</span>.</b></p>
                            <p style="font-size:14px;"><b>Kindly, update the Customer information and proceed for further process. </b></p>
                        </div>
                    </div>
                    <br />
                    <div class="text-center">
                        <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                    </div>
                </div>
            </div>
        </div>
    </script>
</div>
