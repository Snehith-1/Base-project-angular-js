<h3>
    Allocation Transfer
</h3>
<div ng-controller="allocationTransferInitiate">
    <div class="panel">
        <div class="panel-body">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="col-lg-4 col-md-4 col-sm-4">
                        Showing 1 to {{totalDisplayed}} of {{total}} Entries
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-4">

                        Show <input ng-model="pagecount" id="pagecount" type="number" />
                        <button class="btn" id="loadmore" ng-click="loadMore(pagecount)">Load More</button>

                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-4">
                        <div class="input-group">
                            <input type="text" ng-model="searchtxt" placeholder="Search Here .." class="form-control input-sm" />
                            <span class="input-group-btn">
                                <button type="submit" class="btn btn-default btn-sm">
                                    <i class="fa fa-search"></i>
                                </button>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <br />
            <div class="table-responsive">
                <table class="table hover table-striped row-border">
                    <thead>
                        <tr class="bg-primary-light text-white">
                            <th>S.No</th>
                            <th class="text-nowrap">URN No.</th>
                            <th>Customer</th>
                            <th class="text-nowrap">Vertical</th>
                            <th class="text-nowrap">State / District</th>
                            <th>Zonal Risk Manager</th>
                            <th>Assigned RM</th>
                            <th>Allocation Status</th>
                            <th class="text-nowrap">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="data in allocationlist|filter :searchtxt|limitTo:totalDisplayed" ng-switch="data.allocation_flag">
                            <td data-title="'S.No'">{{$index+1}}</td>
                            <td data-title="'URN No.'">{{data.customer_urn}}</td>
                            <td data-title="'Customer'">{{data.customername}}</td>
                            <td data-title="'Vertical'">{{data.vertical}}</td>
                            <td data-title="'State / District'">{{data.state_name}} / {{data.district_name}}</td>
                            <td data-title="'Zonal Risk Manager'" class="text-nowrap">{{data.ZonalRMname}}</td>
                            <td data-title="'Assigned RM'" class="text-nowrap">{{data.assigned_RM}}</td>
                            <td ng-switch="data.allocation_status">

                                <label class="label label-info" ng-switch-when=Allocated>Allocated</label>

                                <label ng-switch-default>-</label>
                            </td>
                            <td class="text-nowrap">
                                <button title="Initiate RM Transfer" class="btn btn-success btn-sm" ng-switch-default
                                        ng-click="AllocationtransferRM(data.allocationdtl_gid,data.customer_gid)">
                                    <em class="fa fa-exchange"></em>
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <br/>
            <div class="row">
                <div class="text-center">
                    <a class="btn btn-info" href="#/app/allocationTransfer">
                        <em class="fa fa-arrow-left"></em>
                        <span>Back</span>
                    </a>
                </div>
            </div>
        </div>

    </div>

    <script type="text/ng-template" id="/AllocationRMTransfer.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <h2><em class="fa fa-exchange"></em>&nbsp; Initiate RM Transfer</h2>
                <span flex></span>

            </div>
        </md-toolbar>
        <div class="modal-body ng-scope">
            <div class="pd-sm-10">

                <div class="row">
                    <form name="mappingEditform" id="mappingEditform" novalidate="" class="form-validate mb-lg" autocomplete="off">

                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div class="row">
                                <div class="col-lg-6 col-sm-6 col-md-6 form-group float-label">
                                    <label>Customer Name / URN </label>
                                    <p>{{customerdtl}}</p>
                                </div>
                                <div class="col-lg-6 col-sm-6 col-md-6 form-group float-label">
                                    <label ng-model="zonal_gid">Zonal / State / District </label>
                                    <p>{{location}}</p>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-4 col-sm-4 col-md-4 form-group float-label">
                                    <label>Zonal Risk Manager</label>
                                    <p>{{zonalRM_name}}</p>
                                </div>
                                <div class="col-lg-4 col-sm-4 col-md-4 form-group float-label">
                                    <label>Risk Manager</label>
                                    <p>{{assignedRM_name}}</p>
                                </div>
                                <div class="col-lg-4 col-sm-4 col-md-4 form-group float-label">
                                    <div class="form-group">
                                        <label>Transfer <span style="color:red">*</span></label>
                                        <div class="col">
                                            <p class="mda-radio">
                                                <input type="radio" name="radio_escrow" ng-model="cbotransferstatus" ng-change="WithinZone(zonal_gid)" value="WithinZone">
                                                <em class="bg-teal-500"></em> Within Zone
                                            </p>
                                        </div>
                                        <div class="col">
                                            &nbsp; &nbsp;
                                        </div>
                                        <div class="col">
                                            <p class="mda-radio">
                                                <input type="radio" name="radio_escrow" ng-change="CrossZone(state_gid)" ng-model="cbotransferstatus" value="CrossZone">
                                                <em class="bg-teal-500"></em> Cross Zone
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div ng-show="withinZonediv">
                                <!--<div class="col-lg-6 col-sm-6 col-md-6 form-group float-label">
                                    <label>Transfer State <span style="color:red">*</span></label>
                                    <select id="state_name" name="state_gid" dropzone="" ng-model="state_gid"
                                            ng-options="statedtl.state_gid as statedtl.state_name for statedtl in statedtllist"
                                            class="form-control ng-valid ng-touched ng-valid-parse">
                                        <option value=""> Select State </option>
                                    </select>
                                </div>-->
                                <div class="row">
                                    <div class="col-lg-4 col-sm-4 col-md-4 form-group float-label">
                                        <label>State <span style="color:red">*</span></label>
                                        <select id="withincrossstate_name" name="state_gid" dropzone="" ng-model="withincrossstate_gid"
                                                ng-options="statedtl.state_gid as statedtl.state_name for statedtl in statedtllist" ng-change="withinStatechange(withincrossstate_gid)"
                                                class="form-control ng-valid ng-touched ng-valid-parse">
                                            <option value=""> Select State </option>
                                        </select>
                                        <!--<label ng-model="withincrossstate_gid">State</label>
                                        <p>{{withincrossstate_name}}</p>-->
                                        
                                    </div>
                                    <div class="col-lg-4 col-sm-4 col-md-4 form-group float-label">
                                        <label>District <span style="color:red">*</span></label>
                                        <select id="withindistrict_name" name="state_gid" dropzone="" ng-model="withincrossdistrict_gid"
                                                ng-options="districtdtl.district_gid as districtdtl.district_name for districtdtl in distrtictwithindtl"
                                                ng-change="withinDistrictchange(withincrossdistrict_gid)" class="form-control ng-valid ng-touched ng-valid-parse">
                                            <option value=""> Select District </option>
                                        </select>
                                        <!--<label ng-model="withincrossdistrict_gid">District</label>
                                        <p>{{withincrossdistrict_name}}</p>-->
                                         
                                    </div>
                                    <div class="col-lg-4 col-sm-4 col-md-4 form-group float-label">
                                        <label ng-model="withinZone_employeeGid">Transfer RM</label>
                                        <p ng-model="withinZone_employeename">{{withinZone_employeename}}</p>

                                        <!--<label>Transfer RM <span style="color:red">*</span></label>
                                        <select id="withinZone_employeename" name="employee_id" dropzone="" ng-model="withinZone_employeeGid"
                                                ng-options="withinZone.assignedRM_gid as withinZone.assigned_RMname for withinZone in employee_assignedRM"
                                                class="form-control ng-valid ng-touched ng-valid-parse" ng-change="withzoneRMchange(allocationdtl_gid,withinZone_employeeGid)">
                                            <option value=""> Select Employee Name </option>
                                        </select>-->
                                    </div>
                                </div>
                            </div>
                            <div ng-show="CrossZonediv">
                                <div class="row">
                                    <div class="col-lg-6 col-sm-6 col-md-6 form-group float-label">
                                        <label>Transfer Zonal <span style="color:red">*</span></label>
                                        <select id="district_name" name="district_gid" dropzone="" ng-model="zonalmapping_gid" ng-change="zonalRMname(zonalmapping_gid)"
                                                ng-options="zonallist.zonalmapping_gid as zonallist.zonal_name for zonallist in zonalMappinglist"
                                                class="form-control ng-valid ng-touched ng-valid-parse">
                                            <option value=""> Select Zonal </option>
                                        </select>
                                    </div>
                                    <div class="col-lg-6 col-sm-6 col-md-6 form-group float-label">
                                        <label ng-model="zonalrisk_managerGid">Zonal Risk Manager</label>
                                        <p>{{zonalrisk_managername}}</p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4 col-sm-6 col-md-6 form-group float-label">
                                        <!--<label ng-model="withincrossstate_gid">State</label>
                                        <p>{{withincrossstate_name}}</p>-->
                                        <label>State <span style="color:red">*</span></label>
                                        <select id="withincrossstate_name" name="state_gid" dropzone="" ng-model="withincrossstate_gid"
                                                ng-options="statedtl.state_gid as statedtl.state_name for statedtl in statedtllist" ng-change="crossStatechange(withincrossstate_gid)"
                                                class="form-control ng-valid ng-touched ng-valid-parse">
                                            <option value=""> Select State </option>
                                        </select>
                                    </div>

                                    <div class="col-lg-4 col-sm-6 col-md-6 form-group float-label">
                                        <!--<label ng-model="withincrossdistrict_gid">District</label>
                                        <p>{{withincrossdistrict_name}}</p>-->
                                        <label>District <span style="color:red">*</span></label>
                                        <select id="crossdistrict_name" name="state_gid" dropzone="" ng-model="withincrossdistrict_gid"
                                                ng-options="districtdtl.district_gid as districtdtl.district_name for districtdtl in distrtictcrossdtl"
                                                ng-change="CrossDistrictchange(withincrossdistrict_gid)" class="form-control ng-valid ng-touched ng-valid-parse">
                                            <option value=""> Select District </option>
                                        </select>
                                    </div>
                                    <div class="col-lg-4 col-sm-6 col-md-6 form-group float-label">
                                        <label ng-model="crosszone_employeeGid">Transfer RM</label>
                                        <p ng-model="CrossZone_employeename">{{CrossZone_employeename}}</p>
                                        <!--<label>Transfer RM <span style="color:red">*</span></label>
                                        <select id="CrossZone_employeename" name="employee_id" dropzone="" ng-model="crosszone_employeeGid"
                                                ng-options="crosszoneRM.assignedRM_gid as crosszoneRM.assigned_RMname for crosszoneRM in assignedcrossRMlist"
                                                class="form-control ng-valid ng-touched ng-valid-parse" ng-change="withzoneRMchange(allocationdtl_gid,crosszone_employeeGid)">
                                            <option value=""> Select Employee Name </option>
                                        </select>-->
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-lg-12 col-sm-12 col-md-12 form-group">
                                    <label>
                                        Remarks <span style="color:red">*</span>
                                    </label>
                                    <textarea name="specificcondition" placeholder="Enter Remarks..." required
                                              ng-model="txttransferremarks" class="form-control" rows="4"></textarea>
                                </div>
                            </div>
                            <div class="class">
                                <div class="text-center">
                                    <button class="btn btn-success" ng-click="submitAllocationtransfer()" ng-disabled="mappingEditform.$invalid">
                                        <em class="fa fa-check"></em>
                                        <span>Submit</span>
                                    </button>
                                    <a class="btn btn-danger" ng-click="ok()">
                                        <em class="fa fa-close"></em>
                                        <span>Cancel</span>
                                    </a>
                                </div>
                            </div>
                        </div>

                    </form>
                </div>

            </div>

        </div>
    </script>
</div>