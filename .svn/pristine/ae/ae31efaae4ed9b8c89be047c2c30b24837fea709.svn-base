<h3>
    Edit Deferral
</h3>
<div ng-controller="manageDeferraledit as dpick">
    <div class="col-lg-12 col-md-12 col-sm-12">
        <div class=" panel panel-success" style="padding-left:1px ;padding-right:1px">
            <div class="panel-heading">
                <span class="btn-label">
                    <i class="fa fa-edit"></i>
                </span>EDIT DEFERRAL
            </div>
            <div class="panel-body">
                <form novalidate="" id="userform" name="userform" autocomplete="off" class="form-validate mb-lg">
                    <div class="modal-body" style="padding-right:40px;">
                        <div class="row">
                            <br />
                            <div class="col-lg-12 col-md-12 col-sm-12 ">
                                <div class="col-lg-5">
                                    <label>Entity *</label>
                                    <select name="entityEdit" chosen="" dropzone="" ng-model="entityEdit" class="chosen-select form-control" required=""
                                            ng-options="entitydata.entity_gid as entitydata.entity_name for entitydata in entity_list">
                                        <option value="">---Select Entity---</option>

                                    </select>
                                </div>
                                <div class="col-lg-1">
                                </div>
                                <div class="col-lg-5">
                                    <label>Branch *</label>
                                    <select name="branchEdit" chosen="" dropzone="" ng-model="branchEdit" class="chosen-select form-control" required=""
                                            ng-options="branchdata.branch_gid as branchdata.branch_name for branchdata in branch_list">
                                        <option value="">---Select Branch---</option>

                                    </select>
                                </div>
                            </div>
                        </div>
                        <br />

                        <div class="row">
                            <div class="col-sm-12 col-md-12 col-lg-12 ">

                                <div class="col-lg-3">
                                    <label>Customer </label>
                                    <p>{{customer_name}}</p>
                                </div>
                                <div class="col-lg-2">
                                    <label>Loan </label>
                                    <br />
                                    <p>{{loanRefNoedit}}</p>
                                </div>

                                <div class="col-lg-1">
                                </div>
                                <div class="col-lg-5">
                                    <label class="col-form-label control-label"><strong>Vertical *</strong></label><br>
                                   {{vertical_code}}
                                    <!--<label><strong>Vertical</strong></label>
                            <p ng-model="vertical_code">{{vertical_code}}</p>-->
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <br />
                            <div class="col-lg-12 col-md-12 col-sm-12 ">
                                <div class="col-lg-5">
                                    <label class="col-form-label control-label"><strong>Zonal Head</strong></label>
                                    <select id="zonal_name" name="zonalHead" dropzone=""  ng-model="zonalHead" 
                                    class="chosen-select form-control"
                                            tabindex="0" aria-label="State" aria-expanded="false" size="1" ng-disabled="true" 
                                            ng-options="zonedata.employee_gid as zonedata.employee_name for zonedata in zonallist">
                                        <option value="">---Select Zonal Head---</option>

                                    </select>
                                </div>
                                <div class="col-lg-1">
                                </div>
                                <div class="col-lg-5">
                                    <label class="col-form-label control-label"><strong>Business Head</strong></label>
                                    <select id="businesshead_name" name="businessHead" dropzone="" ng-model="businessHead" class="chosen-select form-control"
                                            tabindex="0" aria-label="State" aria-expanded="false" size="1" ng-disabled="true" 
                                            ng-options="bhdata.employee_gid as bhdata.employee_name for bhdata in businesshead_list">
                                        <option value="">---Select Business Head---</option>

                                    </select>
                                </div>
                            </div>
                        </div>
                        <br />
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12 ">
                                <div class="col-lg-5">
                                    <label class="col-form-label control-label"><strong>Cluster Manager</strong></label>
                                    <select id="cluster_manager_name" name="cluster_manager" dropzone="" ng-model="cluster_manager" class="chosen-select form-control"
                                            tabindex="0" aria-label="State" aria-expanded="false" size="1" ng-disabled="true" 
                                            ng-options="cmdata.employee_gid as cmdata.employee_name for cmdata in clusterlist">
                                        <option value="">---Select Cluster Manager---</option>

                                    </select>
                                </div>
                                <div class="col-lg-1">
                                </div>
                                <div class="col-lg-5">
                                    <label class="col-form-label control-label"><strong>Relationship Manager</strong></label>
                                    <select id="relationshipmgmt_name" name="relationshipMgmt" dropzone="" ng-model="relationshipMgmt" class="chosen-select form-control"
                                            tabindex="0" aria-label="State" aria-expanded="false" size="1" ng-disabled="true"
                                            ng-options="rmdata.employee_gid as rmdata.employee_name for rmdata in relationshiplist">
                                        <option value="">---Select Relationship Manager---</option>

                                    </select>
                                </div>
                            </div>
                        </div>
                        <br />
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12 ">
                                <div class="col-lg-5">
                                    <label class="col-form-label control-label"><strong>Credit Manager</strong></label>
                                    <select id="creditmanager_name" name="creditmanager" dropzone="" ng-model="creditmgmt_name"
                                     class="chosen-select form-control"
                                            tabindex="0" aria-label="State" aria-expanded="false" size="1" ng-disabled="true" 
                                            ng-options="crdata.employee_gid as crdata.employee_name for crdata in creditlist">
                                        <option value="">---Select Credit Manager---</option>

                                    </select>
                                </div>
                                <div class="col-lg-1">
                                </div>
                                <div class="col-lg-5">

                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-md-12 col-lg-12 ">
                                <div class="col-lg-5">
                                    <br />
                                    <label class="col-form-label control-label"><strong>Category *</strong></label>
                                    <select name="deferral" dropzone="" ng-model="deferralcategoryedit" required="" 
                                    class="chosen-select form-control" size="1">
                                        <option value="">-----Select Category----</option>
                                        <option value="Credit Deferral">Credit Deferral</option>
                                        <option value="Sanction Item">Sanction Item</option>
                                        <option value="CAD Internal">CAD Internal</option>
                                        <option value="RM Internal">RM Internal</option>
                                        <option value="CMD Internal">CMD Internal</option>
                                        <option value="Credit deferral – Others">Credit deferral – Others</option>
                                        <option value="Sanction Item – Others">Sanction Item – Others</option>
                                    </select>
                                </div>
                                <div class="col-lg-1">
                                </div>
                                <div class="col-lg-5">
                                    <br />
                                    <label class="col-form-label"><strong>Tracking Type *</strong></label>
                                    <div class="col">
                                        <div class="radio c-radio">
                                            <label>
                                                <input type="radio" required="" name="tracking_type" value="Deferral" ng-click="isShowHide('hide')" ng-model="tracking_type" />
                                                &nbsp;&nbsp;<span class="fa fa-circle"></span>Deferral
                                            </label>
                                            <label>
                                                <input type="radio" required="" name="tracking_type" value="Covenant" ng-click="isShowHide('show')" ng-model="tracking_type" />
                                                <span class="fa fa-circle"></span>Covenant
                                            </label>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-md-12 col-lg-12 ">
                                <div class="col-lg-5">
                                </div>
                                <div class="col-lg-1">
                                </div>
                                <div class="col-lg-5">
                                    <div ng-show="hideval">
                                        <select name="deferralname" id="deferral_name" ng-change="onselectedchangedeferral(deferralname)" 
                                        dropzone="" ng-model="deferralname" chosen="" 
                                        class="chosen-select form-control" size="1"
                                                ng-options="deferraldata.deferraltype_gid as deferraldata.deferral_name for deferraldata in deferral_list">
                                            <option value="">Select Deferral</option>

                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-md-12 col-lg-12 ">
                                <div class="col-lg-5">
                                </div>
                                <div class="col-lg-1">
                                </div>
                                <div class="col-lg-5">
                                    <div ng-show="showval">
                                        <select id="covenanttype_name" name="covenanttype" ng-change="onselectedchangecovenant(covenanttype)" dropzone="" chosen="" ng-model="covenanttype"
                                                size="1"
                                                 class="chosen-select form-control"
                                                ng-options="covenantdata.covenanttype_gid as covenantdata.covenanttype_name for covenantdata in covenanttype_list">
                                            <option value="">Select Covenant Type</option>
                                            <option ng-repeat="data in covenanttype_list" value="{{data.covenanttype_gid}}">{{data.covenanttype_name}}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm-12 col-lg-12 col-md-12 ">
                                <div class="col-lg-3">
                                    <label class="col-form-label control-label"><strong>Due Date *</strong></label>
                                    <p class="input-group">
                                        <input type="text" name="date" ng-model="due_dateedit" datepicker-popup="{{dpick.format}}"
                                               style="height:25px;" is-open="dpick.opened" min-date="dpick.minDate" datepicker-options="dpick.dateOptions"
                                               close-text="Close" class="form-control" max-date="'3000-12-22'" />
                                        <span class="input-group-btn">
                                            <button type="button" ng-click="dpick.open($event)" style="height:25px;" class="btn btn-default">
                                                <em class="fa fa-calendar"></em>
                                            </button>
                                        </span>
                                    </p>
                                </div>
                                <div class="col-lg-3">
                                </div>
                                <div class="col-lg-5">
                                    <div>

                                        <label class="col-form-label control-label"><strong>Criticality</strong></label>
                                        <p>{{criticallity}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12 col-lg-12 col-md-12 ">
                                <div class="col-lg-6">

                                    <label>Internal Remarks </label>&nbsp;<span
                                                        style="color:Red;">*</span>
                                                    <textarea ng-model="remarks" placeholder="Internal Remarks" rows="4"
                                                        required="" class="form-control" id="input_13" ng-trim="false"
                                                        aria-multiline="true" tabindex="0"
                                                        aria-invalid="true"></textarea>
                                </div>
                                <div class="col-lg-6">
                                    <div class="col-lg-1">
                                        <button type="button" title="Copy Internal Remarks to Customer Remarks" ng-click="btncopy()">
                                            <em class="fa fa-copy text-primary fa-sm"></em>
                                        </button>
                                        
                                    </div>
                                    <label>Customer Remarks </label>&nbsp;<span
                                    style="color:Red;">*</span>
                                <textarea ng-model="customerremarks"  placeholder="Customer Remarks"
                                    rows="4" required="" class="form-control" id="input_13"
                                    ng-trim="false" aria-multiline="true" tabindex="0"
                                    aria-invalid="true"></textarea>


                                </div>
                            </div>
                        </div>
                        <!--<div class="row" ng-show="showvalchecker_pushback">
                            <div class="col-lg-12 col-md-12 col-sm-12 ">
                                <div class="col-lg-12 col-md-12 col-sm-12 ">
                                    <strong>Checker Remarks</strong>
                                    <p ng-model="checker_remarks">{{Getdeferral.checker_remarks}}</p>
                                </div>
                            </div>
                        </div>-->
                        <div class="row" ng-show="showvalchecker_pushback">
                            <div class="col-lg-12 col-md-12 col-sm-12 ">

                                <div class="col-lg-12 col-md-12 col-sm-12 ">

                                    <div class="table-responsive" id="stages">
                                        <p class="lead bb text-primary text-bold"><label style="font-weight:bold;font-size:16px;">Checker History</label></p>
                                        <table ng-table="userTable" class="table table-striped table-bordered table-success">
                                            <thead class="panel-footer">
                                                <tr class="bg-brown-300 text-center text-white">
                                                    <td style="width:20%;"><strong>Checker Status</strong></td>
                                                    <td style="width:40%;"><strong>Checker Remarks</strong></td>
                                                    <td style="width:40%;"><strong>Checked By</strong></td>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="data in checker_list" class="bg-brown-50 row-border">
                                                    <td style="width:20px;">
                                                        {{data.checker_status}}
                                                    </td>
                                                    <td style="width:40px;">
                                                        {{data.checker_remarks}}
                                                    </td>
                                                    <td style="width:40px;">
                                                        {{data.checked_by}}
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="padding-left:0px ;padding-right:1px;">
                            <div class="panel-body">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <strong>Upload Documents</strong>
                                        <input type="file" id="load" ng-model="test_document" onchange="angular.element(this).scope().upload(this.files, angular.element(this).scope().documentupload, this.name)"
                                               data-classbutton="btn btn-default" data-classinput="form-control inline" data-button-text="Select" />
                                    </div>
                                </div>
                                <br />
                                <div class="table-responsive">
                                    <div>
                                        <table ng-table="usersTable" class="table table-striped table-bordered table-success">
                                            <thead class="panel-footer" style="background-color:#5a152f21;">
                                                <tr class="text-center">

                                                    <td style="width:75%;"><strong>Document Details</strong></td>

                                                    <td style="width:25%"><strong>Download</strong></td>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="data in filename_list" style="background-color:white;">
                                                    <td style="width:95px;">
                                                        {{data.upload_by}}
                                                    </td>
                                                    <td class="text-center"><em class="fa fa-download" ng-click="downloads(data.path,data.filename)"><a download="" href="" id="btnpdf"></a></em></td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="ng-scope">
                        <div class="text-center">
                            <button type="button" class="btn btn-success btn-md"  ng-click="deferralUpdateEdit()"><i class="fa fa-arrow-circle-up"></i> &nbsp;&nbsp;Update</button>
                            <button ng-click="deferralback()" class="btn btn-info"><i class="fa fa-arrow-circle-left"></i>&nbsp;&nbsp;Back</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

