<h3>
    Marketing Dashboard
</h3>
<div ng-controller="marketingDashboardController">
    <div class="panel">
        <br/>
  
       <!--  <div class="col-lg-2 col-md-2 col-sm-2">
           
            <button title="Create Document Label" class="btn btn-info btn-sm"
                ng-click="createlabel()">
             <em class="fa fa-plus"></em>&nbsp;&nbsp; Add Lead
            </button>
        </div> -->
        <div class="col-lg-12 col-md-12 col-sm-12  dd-handle ng-scope">
            <table class="table m0">
                <thead>
                   <tr class="bg-gray-light text-white">
                    <th></th>
                      <th>Marketing Team Name</th>
                      <th>Branch</th>
                      <th>Assigned Employee</th>
                      <th>Total Call</th>
                      <th>Total Lead</th>
                      <th>Total Customer</th>
                      <th>Total Followup</th>
                      <th>Total Prospect</th>
                      <th>Total potential</th>
                      <th>Total Close</th>
                      <th>Total Drop</th>
                   </tr>
                </thead>
                <tbody ng-repeat="loop in Dashboardcount_list">
                   <tr>
                    <td>
                        <!-- <a ng-hide="loop.expand" ng-click="loop.expand=true">
                            <button title="Click to Expand">
                                <em class="fa fa-chevron-circle-down" style="font-size:14px;"></em>
                            </button>
                        </a>
                        <a ng-show="loop.expand" ng-click="loop.expand=false">
                            <button title="Click to Collapse">
                                <em class="fa fa-chevron-circle-up" style="font-size:14px;"></em>
                            </button>
                        </a> -->
                    </td>
                        <td> {{loop.campaign_title}} </td>
                        <td> {{loop.branch_name}} </td>
                        <td> {{loop.employeecount}} </td>
                        <td> {{loop.total_call}}</td>
                        <td> {{loop.total_lead}} </td>
                        <td> {{loop.total_customer}}</td>
                        <td> {{count_followup}}</td>
                        <td> {{count_prospect}}</td>
                        <td> {{count_potential}}</td>
                        <td> 0</td>
                        <td> {{count_drop}}</td>
                   </tr>
                   <tr ng-show="loop.expand" class="bg-indigo-300 text-white">
                    <th></th>

                    <th> Employee Name </th>
                    <th>Branch</th>
                    <th>Assigned Employee</th>
                    <th>Total Call</th>
                    <th>Total Lead</th>
                    <th>Total Customer</th>
                </tr>
                <tr ng-show="loop.expand" class="bg-indigo-100" ng-repeat="nest in loop.alltabcount_list">
                    <td></td>
                    <td> {{nest.assign_to}} </td>
                    <td> {{nest.branch_name}} </td>
                    <td> {{nest.employeecount}} </td>
                    <td> {{nest.total_call}}</td>
                    <td> {{nest.total_lead}} </td>
                    <td>{{nest.total_customer}}</td>
                </tr>
                </tbody>
             </table>
        </div>
        <br/><br/><br/> <br/><br/><br/>
   
    
    <br /><br /><br /> 
  
        <tabset justified="true">
            <!--New-->
            <tab ng-click="new_tab()" select="tab.activateTabId = 'New'" active="newtab">
                <tab-heading title="New">
                  New &nbsp;
                    <label class="label label-primary">{{count_new}}</label>
                </tab-heading>
                <div class="panel-body">
                    <div class="row">
                        <form name="allotedform" ng-submit="form.submitForm1()" novalidate="" autocomplete="off" class="form-validate form-horizontal">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    Showing 1 to {{totalDisplayednew}} of {{totalnew}} Entries
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    Show <input ng-model="pagecountnew" id="pagecountnew" type="text" name="pagecountnew" maxlength="5" ng-pattern="/^\d+$/" />
                                    <button class="btn btn-info" id="loadmorenew" ng-disabled="!pagecountnew" style="text-align:left;"
                                            ng-click="loadMorenew(pagecountnew)">
                                        Load More
                                    </button>
                                    <div ng-messages="allotedform.pagecountnew.$dirty && allotedform.pagecountnew.$error">
                                        <p class="text-danger" ng-message="pattern">This field required only numbers</p>
                                    </div>

                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    <div class="input-group">
                                        <input type="text" ng-model="searchtxtnew" placeholder="Search Here .."
                                               class="form-control input-sm" />
                                        <span class="input-group-btn">
                                            <button type="submit" class="btn btn-default btn-sm">
                                                <i class="fa fa-search"></i>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <br />
                    <div class="table-responsive">
                        <table class="table table-striped row-border hover">
                            <thead>
                                <tr class="bg-primary-light text-white">
                                    <th style="width:8%;">Team Name</th>
                                    <th>Assigned To</th>
                                    <th>Customer Name</th>
                                    <th>Contact Details</th>
                                    <th>Region/Source</th>
                                    <th>Remarks</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="data in newtab_list|filter:searchtxtnew|limitTo:totalDisplayednew">
                                    <td data-title="'Team Name'">{{data.team_name}}</td>
                                    <td data-title="'Assigned To'">{{data.assign_to}}</td>
                                    <td data-title="'Customer Name'">{{data.customer_name}}</td>
                                    <td data-title="'Contact Details'">{{data.contact_details}}</td>
                                    <td data-title="'Region/Source'">{{data.region_name}}</td>
                                     <td style="width:18%;">
                                          <textarea name="Remarks"
                                                    ng-model="data.internal_notes" class="form-control"
                                                    rows="2" disabled></textarea>
                                      </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </tab>
        <!--Followup--> 
            <tab ng-click="Followup_Tab()" select="tab.activateTabId = 'followup'" active="FollowupTab">
                <tab-heading>
                   Followup &nbsp;
                    <label class="label label-primary">{{count_followup}}</label>
                </tab-heading>
                <div class="panel-body">
                    <div class="row">
                        <form name="workinprogressform" ng-submit="form.submitForm1()" novalidate="" autocomplete="off" class="form-validate form-horizontal">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    Showing 1 to {{totalDisplayedfollowup}} of {{totalfollowup}} Entries
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    Show <input ng-model="followuptab" id="followuptab" type="text" name="followuptab" maxlength="5" ng-pattern="/^\d+$/" />
                                    <button class="btn btn-info" id="loadmoreFollowup" ng-disabled="!followuptab" style="text-align:left;"
                                            ng-click="loadmoreFollowup(followuptab)">
                                        Load More
                                    </button>
                                    <div ng-messages="forwardform.followuptab.$dirty && forwardform.followuptab.$error">
                                        <p class="text-danger" ng-message="pattern">This field required only numbers</p>
                                    </div>

                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    <div class="input-group">
                                        <input type="text" ng-model="searchtxt" placeholder="Search Here .."
                                               class="form-control input-sm" />
                                        <span class="input-group-btn">
                                            <button type="submit" class="btn btn-default btn-sm">
                                                <i class="fa fa-search"></i>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>

                    <br />
                    <div class="table-responsive">
                        <table class="table table-striped row-border hover">
                            <thead>
                                <tr class="bg-primary-light text-white">
                                    <th style="width:8%;">Team Name</th>
                                    <th>Assigned To</th>
                                    <th>Customer Name</th>
                                    <th>Contact Details</th>
                                    <th style="width:10%;">Call Response</th>
                                    <th>Region/Source</th>
                                    <th>Remarks</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="data in FollowUptab_list|filter:searchtxt|limitTo:totalDisplayedfollowup">
                                    <td data-title="'Team Name'">{{data.team_name}}</td>
                                    <td data-title="'Assigned To'">{{data.assign_to}}</td>
                                    <td data-title="'Customer Name'">{{data.customer_name}}</td>
                                    <td data-title="'Contact Details'">{{data.contact_details}}</td>
                                    <td data-title="'Call Response'">{{data.call_response}}</td>
                                    <td data-title="'Region/Source'">{{data.region_name}}</td>
                                     <td style="width:18%;">
                                          <textarea name="Remarks"
                                                    ng-model="data.internal_notes" class="form-control"
                                                    rows="2" disabled></textarea>
                                      </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </tab>
       
            <!--Prospect-->
            <tab ng-click="Prospect_Tab()" select="tab.activateTabId = 'prospect'" active="ProspectTab">
                <tab-heading>
                    Prospect &nbsp;
                    <label class="label label-primary">{{count_prospect}}</label>
                </tab-heading>
                <div class="panel-body">
                    <div class="row">
                        <form name="forwardform" ng-submit="form.submitForm1()" novalidate="" autocomplete="off" class="form-validate form-horizontal">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    Showing 1 to {{totalDisplayedProspectloadmore}} of {{totalprospect}} Entries
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    Show <input ng-model="countprospect" id="countprospect" type="text" name="countprospect" maxlength="5" ng-pattern="/^\d+$/" />
                                    <button class="btn btn-info" id="countprospect" ng-disabled="!countprospect" style="text-align:left;"
                                            ng-click="loadmoreProspect(countprospect)">
                                        Load More
                                    </button>
                                    <div ng-messages="forwardform.countprospect.$dirty && forwardform.countprospect.$error">
                                        <p class="text-danger" ng-message="pattern">This field required only numbers</p>
                                    </div>

                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    <div class="input-group">
                                        <input type="text" ng-model="searchtxtforward" placeholder="Search Here .."
                                               class="form-control input-sm" />
                                        <span class="input-group-btn">
                                            <button type="submit" class="btn btn-default btn-sm">
                                                <i class="fa fa-search"></i>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <br />
                    <div class="table-responsive">
                        <table class="table table-striped row-border hover">
                            <thead>
                                <tr class="bg-primary-light text-white">
                                    <th style="width:8%;">Team Name</th>
                                    <th>Assigned To</th>
                                    <th>Customer Name</th>
                                    <th>Contact Details</th>
                                    <th>Region/Source</th>
                                    <th>Remarks</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="data in Prospecttab_list|filter:searchtxt|limitTo:totalDisplayedProspectloadmore">
                                    <td data-title="'Team Name'">{{data.team_name}}</td>
                                    <td data-title="'Assigned To'">{{data.assign_to}}</td>
                                    <td data-title="'Customer Name'">{{data.customer_name}}</td>
                                    <td data-title="'Contact Details'">{{data.contact_details}}</td>
                                    <td data-title="'Region/Source'">{{data.region_name}}</td>
                                    <td style="width:18%;">
                                          <textarea name="Remarks"
                                                    ng-model="data.internal_notes" class="form-control"
                                                    rows="2" disabled></textarea>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </tab>

            <!--Potential-->
            <tab ng-click="Potential_Tab()" select="tab.activateTabId = 'potential'" active="PotentialTab">
                <tab-heading>
                   Potential  &nbsp;
                  <label class="label label-primary">{{count_potential}}</label>
                </tab-heading>
                <div class="panel-body">
                    <div class="row">
                        <form name="completedform" ng-submit="form.submitForm1()" novalidate="" autocomplete="off" class="form-validate form-horizontal">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    Showing 1 to {{totalDisplayedPotential}} of {{totalcpotential}} Entries
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    Show <input ng-model="Potentialcount" id="Potentialcount" type="text" name="Potentialcount" maxlength="5" ng-pattern="/^\d+$/" />
                                    <button class="btn btn-info" id="Potentialcount" ng-disabled="!Potentialcount" style="text-align:left;"
                                            ng-click="loadMorePotential(Potentialcount)">
                                        Load More
                                    </button>
                                    <div ng-messages="completedform.Potentialcount.$dirty && completedform.Potentialcount.$error">
                                        <p class="text-danger" ng-message="pattern">This field required only numbers</p>
                                    </div>

                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    <div class="input-group">
                                        <input type="text" ng-model="searchtxtcompleted" placeholder="Search Here .."
                                               class="form-control input-sm" />
                                        <span class="input-group-btn">
                                            <button type="submit" class="btn btn-default btn-sm">
                                                <i class="fa fa-search"></i>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <br />
                    <div class="table-responsive">
                        <table class="table table-striped row-border hover">
                            <thead>
                                <tr class="bg-primary-light text-white">
                                    <th style="width:8%;">Team Name</th>
                                    <th>Assigned To</th>
                                    <th>Customer Name</th>
                                    <th>Contact Details</td>
                                    <th>Region/Source</th>
                                    <th>Remarks</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="data in Potentialtab_list|filter:searchtxt|limitTo:totalDisplayedPotential">
                                    <td data-title="'Team Name'">{{data.team_name}}</td>
                                    <td data-title="'Assigned To'">{{data.assign_to}}</td>
                                    <td data-title="'Customer Name'">{{data.customer_name}}</td>
                                    <td data-title="'Contact Details'">{{data.contact_details}}</td>
                                    <td data-title="'Region/Source'">{{data.region_name}}</td>
                                    <td style="width:18%;">
                                          <textarea name="Remarks"
                                                    ng-model="data.internal_notes" class="form-control"
                                                    rows="2" disabled></textarea>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </tab>
            <!--Close-->
            <tab ng-click="close_Tab()" select="tab.activateTabId = 'Close'" active="closeTab">
                <tab-heading>
                    Close  &nbsp;
                   <label class="label label-primary">0</label>
                </tab-heading>
                <div class="panel-body">
                    <div class="row">
                        <form name="closedform" ng-submit="form.submitForm1()" novalidate="" autocomplete="off" class="form-validate form-horizontal">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    Showing 1 to {{totalDisplayedclosed}} of {{totalclosed}} Entries
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    Show <input ng-model="pagecountclosed" id="pagecountclosed" type="text" name="pagecountclosed" maxlength="5" ng-pattern="/^\d+$/" />
                                    <button class="btn btn-info" id="loadmoreclosed" ng-disabled="!pagecountclosed" style="text-align:left;"
                                            ng-click="loadMoreclosed(pagecountclosed)">
                                        Load More
                                    </button>
                                    <div ng-messages="closedform.pagecountclosed.$dirty && closedform.pagecountclosed.$error">
                                        <p class="text-danger" ng-message="pattern">This field required only numbers</p>
                                    </div>

                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    <div class="input-group">
                                        <input type="text" ng-model="searchtxtclosed" placeholder="Search Here .."
                                               class="form-control input-sm" />
                                        <span class="input-group-btn">
                                            <button type="submit" class="btn btn-default btn-sm">
                                                <i class="fa fa-search"></i>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <br />
                    <div class="table-responsive">
                        <table class="table table-striped row-border hover">
                            <thead>
                                <tr class="bg-primary-light text-white">
                                    <th style="width:8%;">Team Name</th>
                                    <th>Assigned To</th>
                                    <th>Customer Name</th>
                                    <th>Contact Details</th>
                                    <th>Region/Source</th>
                                    <th>Remarks</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td data-title="'Team Name'">{{data.team_name}}</td>
                                    <td data-title="'Assigned To'">{{data.assign_to}}</td>
                                    <td data-title="'Customer Name'">{{data.customer_name}}</td>
                                    <td data-title="'Contact Details'">{{data.contact_details}}</td>
                                    <td data-title="'Region/Source'">{{data.region_name}}</td>
                                    <td style="width:18%;">
                                          <textarea name="Remarks"
                                                    ng-model="data.internal_notes" class="form-control"
                                                    rows="2" disabled></textarea>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </tab>
             <!--Drop-->
             <tab ng-click="Drop_Tab()" select="tab.activateTabId = 'drop'" active="DropTab">
                <tab-heading>
                    Drop  &nbsp;
                  <label class="label label-primary">{{count_drop}}</label>
                </tab-heading>
                <div class="panel-body">
                    <div class="row">
                        <form name="closedform" ng-submit="form.submitForm1()" novalidate="" autocomplete="off" class="form-validate form-horizontal">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    Showing 1 to {{totalDisplayedDroploadmore}} of {{totalDrop}} Entries
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    Show <input ng-model="dropcount" id="dropcount" type="text" name="dropcount" maxlength="5" ng-pattern="/^\d+$/" />
                                    <button class="btn btn-info" id="loadmoreclosed" ng-disabled="!dropcount" style="text-align:left;"
                                            ng-click="loadMoreDrop(dropcount)">
                                        Load More
                                    </button>
                                    <div ng-messages="closedform.dropcount.$dirty && closedform.dropcount.$error">
                                        <p class="text-danger" ng-message="pattern">This field required only numbers</p>
                                    </div>

                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    <div class="input-group">
                                        <input type="text" ng-model="searchtxtclosed" placeholder="Search Here .."
                                               class="form-control input-sm" />
                                        <span class="input-group-btn">
                                            <button type="submit" class="btn btn-default btn-sm">
                                                <i class="fa fa-search"></i>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <br />
                    <div class="table-responsive">
                        <table class="table table-striped row-border hover">
                            <thead>
                                <tr class="bg-primary-light text-white">
                                    <th style="width:8%;">Team Name</th>
                                    <th>Assigned To</th>
                                    <th>Customer Name</th>
                                    <th>Contact Details</th>
                                    <th>Region/Source</th>
                                    <th>Remarks</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="data in Droptab_list|filter:searchtxt|limitTo:totalDisplayedDroploadmore">
                                    <td data-title="'Team Name'">{{data.team_name}}</td>
                                    <td data-title="'Assigned To'">{{data.assign_to}}</td>
                                    <td data-title="'Customer Name'">{{data.customer_name}}</td>
                                    <td data-title="'Contact Details'">{{data.contact_details}}</td>
                                    <td data-title="'Region/Source'">{{data.region_name}}</td>
                                    <td style="width:18%;">
                                          <textarea name="Remarks"
                                                    ng-model="data.internal_notes" class="form-control"
                                                    rows="2" disabled></textarea>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </tab>
            <tab ng-click="All_Tab()" select="tab.activateTabId = 'all'" active="AllTab">
                <tab-heading>
                    All  &nbsp;
                 <label class="label label-primary">{{count_all}}</label>
                </tab-heading>
                <div class="panel-body">
                    <div class="row">
                        <form name="closedform" ng-submit="form.submitForm1()" novalidate="" autocomplete="off" class="form-validate form-horizontal">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    Showing 1 to {{totalDisplayedAll}} of {{totalAll}} Entries
                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    Show <input ng-model="countAll" id="countAll" type="text" name="countAll" maxlength="5" ng-pattern="/^\d+$/" />
                                    <button class="btn btn-info" id="countAll" ng-disabled="!countAll" style="text-align:left;"
                                            ng-click="loadMoreAll(countAll)">
                                        Load More
                                    </button>
                                    <div ng-messages="closedform.countAll.$dirty && closedform.countAll.$error">
                                        <p class="text-danger" ng-message="pattern">This field required only numbers</p>
                                    </div>

                                </div>
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    <div class="input-group">
                                        <input type="text" ng-model="searchtxtclosed" placeholder="Search Here .."
                                               class="form-control input-sm" />
                                        <span class="input-group-btn">
                                            <button type="submit" class="btn btn-default btn-sm">
                                                <i class="fa fa-search"></i>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <br />
                    <div class="table-responsive">
                        <table class="table table-striped row-border hover">
                            <thead>
                                <tr class="bg-primary-light text-white">
                                    <th style="width:8%;">Team Name</th>
                                    <th>Assigned To</th>
                                    <th>Customer Name</th>
                                    <th>Contact Details</th>
                                    <th>Region/Source</th>
                                    <th>Remarks</th>
                                    <th style="width:8%;">Lead Stage</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="data in Alltab_list|filter:searchtxt|limitTo:totalDisplayedAll">
                                    <td data-title="'Team Name'">{{data.team_name}}</td>
                                    <td data-title="'Assigned To'" >{{data.assign_to}}</td>
                                    <td data-title="'Customer Name'" >{{data.customer_name}}</td>
                                    <td data-title="'Contact Details'">{{data.contact_details}}</td>
                                    <td data-title="'Region/Source'">{{data.region_name}}</td>
                                    <td style="width:18%;">
                                          <textarea name="Remarks"
                                                    ng-model="data.internal_notes" class="form-control"
                                                    rows="2" disabled></textarea>
                                    </td>
                                    <td data-title="'Region/Source'">{{data.leadstage_name}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </tab>
        </tabset>
    </div>
    
    
</div>