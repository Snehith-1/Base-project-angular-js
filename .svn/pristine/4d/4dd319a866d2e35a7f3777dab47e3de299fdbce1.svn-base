<h3>
    Deferral Details
</h3>
<div ng-controller="rmManagementRequest">
    <div id="panelDemo8" class="panel panel-success ">
        <div class="panel-heading">DEFERRAL DETAILS</div>

        <div class="panel-body">
            <div class="row" style="display:none;">
                <div class="col-lg-12 col-md-12 col-sm-12 ">
                    <div class="col-lg-6 col-md-6 col-sm-6 ">
                        <input name="customer_gid" id="customer_gid" style="font-size:12px" placeholder="Enter Customer gid"
                               ng-model="customer_gid" class="form-control" required>
                    </div>
                </div>
            </div>

            <div class="row">

                <div class="row" style="display:none;">
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Loan Reference Number</strong><br />
                            <p>{{UploadDocumentname.loanref_no}}</p>
                        </div>

                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Customer ID</strong>
                            <br />
                            <p>{{UploadDocumentname.customer_code}}</p>
                        </div>

                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Customer Name</strong>
                            <br />
                            <p>{{UploadDocumentname.customer_name}}</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Vertical</strong><br />
                            <p>{{UploadDocumentname.vertical_code}}</p>
                        </div>

                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Entity</strong>
                            <br />
                            <p>{{UploadDocumentname.entity_name}}</p>
                        </div>

                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Branch</strong>
                            <br />
                            <p>{{UploadDocumentname.branch_name}}</p>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">


                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong>Record ID</strong><br />
                            <p>{{record_id}}</p>
                        </div>
                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong>Deferral Type</strong><br />
                            <p>{{UploadDocumentname.deferral_name}}</p>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4">
                            <strong>Zonal Head</strong>
                            <br />
                            <p>{{UploadDocumentname.zonal_name}}</p>
                        </div>

                    </div>
                </div>


                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 ">

                        <div class="col-lg-4 col-md-4 col-sm-4">
                            <strong>Business Head </strong><br />
                            <p>{{businesshead_name}}</p>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4">
                            <strong>Cluster Manager</strong><br />
                            <p>{{UploadDocumentname.cluster_manager_name}}</p>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4">
                            <strong>Relationship Manager </strong>
                            <p>{{UploadDocumentname.rm_name}}</p>
                        </div>
                    </div>

                </div>

                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 ">

                        <div class="col-lg-4 col-md-4 col-sm-4">
                            <strong>Credit Manager </strong><br />
                            <p>{{UploadDocumentname.credit_manager}}</p>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4">
                            <strong>Catagory</strong>
                            <p>{{UploadDocumentname.deferral_catagory}}</p>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4">
                            <strong>Due Date</strong>
                            <p>{{UploadDocumentname.duedate}}</p>
                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 ">
                        <div class="col-lg-4 col-md-4 col-sm-4">
                            <strong>Deferral Stage</strong>
                            <p ng-model="approval_remarks">{{UploadDocumentname.approval_status}}</p>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4">
                            <strong>Criticality</strong>
                            <p>{{UploadDocumentname.criticallity}}</p>
                        </div>
                        
                        <div class="col-lg-4 col-md-4 col-sm-4">
                            <strong>Sanction Ref.No</strong>
                            <p>{{UploadDocumentname.sanction_refno}}</p>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 ">
                        <div class="col-lg-4 col-md-4 col-sm-4">
                            <strong>Sanction Date</strong>
                            <p>{{UploadDocumentname.sanctiondate}}</p>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4">
                            <strong>Upload Documents</strong>
                            <input type="file" id="addupload" ng-model="test_document" onchange="angular.element(this).scope().upload(this.files, angular.element(this).scope().documentupload, this.name)"
                                   data-classbutton="btn btn-default" data-classinput="form-control inline" data-button-text="Select" required />
                        </div>
                       
                        <div class="col-lg-4 col-md-4 col-sm-4" ng-show="uploaddoc">
                           
                        </div>

                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 ">
                        <div class="col-lg-12 col-md-12 col-sm-12 ">
                            <strong>Deferral Remarks</strong>
                            <p ng-model="approval_remarks">{{UploadDocumentname.remarks}}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="table-responsive" id="stages">
            <div>
                <table ng-table="userTable" class="table table-striped table-bordered table-success">
                    <thead class="panel-footer" >
                        <tr class="text-center">
                            <td style="width:30%;"><strong>Deferral Stages</strong></td>
                            <td style="width:40%"><strong>Remarks</strong></td>
                            <td style="width:10%;"><strong>Extended Date</strong></td>
                            <td style="width:30%"><strong>Updated By</strong></td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="data in stage_list" style="background-color:white;">
                            <!--<td class="text-center">{{$index +1}}</td>-->
                            <td style="width:30px;">
                                {{data.approval_status}}
                            </td>
                            <td style="width:40px;">
                                {{data.approval_remarks}}
                            </td>
                            <td style="width:40px;">
                                {{data.extended_date}}
                            </td>
                            <td style="width:30px;">
                                {{data.approved_by}}
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="panel-footer table-responsive">
            <table ng-table="usersTable" class="table table-striped table-bordered table-success">

                <thead class="bg-success text-white">
                    <tr width="100%">
                        <td style="width:10%; text-align :center; text-transform :uppercase ; font-weight :bold ;">S.No</td>
                        <td style="width:30%;text-align :center;text-transform :uppercase ;font-weight :bold ;">Document Name</td>
                        <td style="width:30%;text-align :center;text-transform :uppercase ;font-weight :bold ;">Uploaded By</td>
                        <td style="width:20%;text-align :center;text-transform :uppercase ;font-weight :bold ;">Uploaded Date</td>
                        <td style="width:10%;text-align :center;text-transform :uppercase ;font-weight :bold ;">Download</td>
                    </tr>
                </thead>
                <tr ng-repeat="data in filename_list">
                    <td class="text-center">{{$index +1}}</td>
                    <td style="padding-left:20px;">{{data.filename}}</td>
                    <td style="padding-left:20px;">{{data.uploaded_by}}</td>
                    <td style="padding-left:20px;">{{data.created_date}}</td>
                    <td class="text-center"><em class="fa fa-download" ng-click="downloads(data.path,data.filename)">
                                                <a download="" href="" id="btnpdf" style="display:none;"></a></em></td>
                </tr>
            </table>
        </div>
        <form novalidate="" name="deferralform" ng-submit="form.Approve()" autocomplete="off" class="form-validate form-horizontal">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 ">
                    <div class="col-lg-5">
                        <label class="col-form-label"><strong>Requesting for *</strong></label>
                        <select name="deferral_status" dropzone="" ng-click="onselectedchange(deferral_status)" ng-model="deferral_status" required="" class="mda-form-control" size="1">
                            <option value="">-----Select Requesting for----</option>
                            <option value="Approval">Approval</option>
                            <option value="Extension">Extension</option>
                        </select>
                    </div>
                    <div class="col-lg-1">
                    </div>
                    <div class="col-lg-5">

                       
                    </div>
                </div>
            </div>
            <br />
            <div class="row" ng-show="showval">
                <div class="col-lg-12 col-sm-12 col-md-12">
                    <div class="col-lg-2 col-md-2 col-sm-2">
                        <label class="col-form-label"><strong>Extended Date</strong></label>
                    </div>
                    <div class="col-lg-4 col-md-4 col-sm-4">
                        <input type="date" id="due_date" name="due_date" ng-model="extened_date">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 ">
                    <div class="col-lg-12">
                        <md-input-container flex="" class="md-default-theme" style="height: auto;">
                            <label for="input_13">Remarks</label>
                            <textarea ng-model="applied_remarks" rows="3" md-maxlength="1000" class="ng-valid md-input ng-valid-md-maxlength ng-touched ng-dirty ng-valid-parse"
                                      id="input_13" ng-trim="false" aria-multiline="true" tabindex="0" aria-invalid="true"></textarea>
                        </md-input-container>
                    </div>
                </div>
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12 ">
                        <div class="ng-scope">
                            <div class="text-center">
                                <div align="center" ng-switch="UploadDocumentname.approval_status">
                                    <button type="button" ng-switch-when="Pending" class="btn btn-success btn-md" ng-disabled="deferralform.$invalid" ng-click="Approve()"><i class="fa fa-arrow-circle-right"></i> &nbsp;&nbsp;Submit</button>
                                    <button type="button" ng-switch-when="PushBack" class="btn btn-success btn-md" ng-disabled="deferralform.$invalid" ng-click="Approve()"><i class="fa fa-arrow-circle-right"></i> &nbsp;&nbsp;Submit</button>
                                    <button type="button" ng-switch-when="ReOpen" class="btn btn-success btn-md" ng-disabled="deferralform.$invalid" ng-click="Approve()"><i class="fa fa-arrow-circle-right"></i> &nbsp;&nbsp;Submit</button>
                                    <button ng-click="deferralback()" class="btn btn-info"><i class="fa fa-arrow-circle-left"></i>&nbsp;&nbsp;Back</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>

</div>
