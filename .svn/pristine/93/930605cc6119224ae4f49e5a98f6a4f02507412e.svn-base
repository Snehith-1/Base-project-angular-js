!function(){"use strict";function e(e,t,a,o,n,i,r,l,s,p,c,d,u){function m(){var e="api/applyLeave/leavetype";l.get(e).then(function(e){t.leavetype_list=e.data.leavetype_list})}var g=this;g.title="applyLeavecontroller",m(),t.applyleave=function(e){function t(e,t){e.ok=function(){t.close("closed")},e.fullclick=function(){e.leavefull=!0,e.leavehalf=!1},e.halfclick=function(){e.leavefull=!1,e.leavehalf=!0},e.fullleavesubmit=function(){var o={leave_from:e.fromdate,leave_to:e.todate,leave_reason:e.leave_reason,leavetype_name:e.leavetypeName},n="api/applyLeave/applyleavesummary";l.post(n,o).then(function(e){1==e.data.status?(t.close("closed"),s.alert("Leave Applied Successfully!!","success"),m()):(s.alert("Error Occurred!","warning"),m())}),a.go("app.applyLeave")}}var o={leavetype_gid:e},i="api/applyLeave/leavetype";l.post(i,o).then(function(t){e=e,console.log(e),1==t.data.status?($modalInstance.close("closed"),s.alert("Leave Applied Successfully!!","success"),m()):(s.alert("Error Occurred!","warning"),m())});n.open({templateUrl:"/myModalContent.html",controller:t,size:"md"});t.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("applyLeavecontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function e(e,t,a,o,n,i,r,l,s,p,c,d,u,m,g,v){function f(){var e="api/approveLeave/getapproval_count";lockUI(),p.get(e).then(function(e){t.count_approval=e.data.count_approval,t.count_rejected=e.data.count_rejected,t.count_history=e.data.count_history,t.count_approvalpending=e.data.count_approvalpending,t.pending_leave=e.data.pending_leave,t.pending_login=e.data.pending_login,t.pending_logout=e.data.pending_logout,t.pending_onduty=e.data.pending_onduty,t.pending_compoff=e.data.pending_compoff,t.pending_permission=e.data.pending_permission,t.approved_leave=e.data.approved_leave,t.approved_login=e.data.approved_login,t.approved_logout=e.data.approved_logout,t.approved_onduty=e.data.approved_onduty,t.approved_compoff=e.data.approved_compoff,t.approved_permission=e.data.approved_permission,t.rejected_leave=e.data.rejected_leave,t.rejected_login=e.data.rejected_login,t.rejected_logout=e.data.rejected_logout,t.rejected_onduty=e.data.rejected_onduty,t.rejected_compoff=e.data.rejected_compoff,t.rejected_permission=e.data.rejected_permission});var e="api/approveLeave/getleaveapprovependingdetails";p.get(e).then(function(e){t.leavepending_list=e.data.leave_list,console.log(e.data.leave_list)});var e="api/approveLeave/getloginsummarydetails";p.get(e).then(function(e){t.loginapproval_pendinglist=e.data.loginpending_list});var e="api/approveLeave/getlogoutsummarydetails";p.get(e).then(function(e){t.logoutapproval_pendinglist=e.data.logoutpending_list});var e="api/approveLeave/getODsummarydetails";p.get(e).then(function(e){t.ODapproval_pendinglist=e.data.ODpending_list});var e="api/approveLeave/getCompoffsummarydetails";p.get(e).then(function(e){t.compoffpending_list=e.data.compoffpending_list});var e="api/approveLeave/getPermissionsummarydetails";p.get(e).then(function(e){t.permissionapproval_pendinglist=e.data.permissionpending_list});var e="api/approveLeave/getloginleaveapprovedetails";p.get(e).then(function(e){t.loginsummary_list=e.data.login_list});var e="api/approveLeave/getlogoutleaveapprovedetails";p.get(e).then(function(e){t.logoutsummary_list=e.data.logout_list});var e="api/approveLeave/getodleaveapprovedetails";p.get(e).then(function(e){t.onduty_details=e.data.od_list});var e="api/approveLeave/getcompoffleaveapprovedetails";p.get(e).then(function(e){t.compoff_details=e.data.compoffdtl_list});var e="api/approveLeave/getpermissionleaveapprovedetails";p.get(e).then(function(e){t.permission_details=e.data.permission_list});var e="api/approveLeave/getloginleaverejectdetails";p.get(e).then(function(e){t.loginsummaryrej_list=e.data.login_list});var e="api/approveLeave/getlogoutleaverejectdetails";p.get(e).then(function(e){t.logoutsummaryrej_list=e.data.logout_list});var e="api/approveLeave/getodleaverejectdetails";p.get(e).then(function(e){t.ondutyrej_details=e.data.od_list});var e="api/approveLeave/getcompoffleaverejectdetails";p.get(e).then(function(e){t.compoffrej_details=e.data.compoffdtl_list});var e="api/approveLeave/getpermissionleaverejectdetails";p.get(e).then(function(e){t.permissionrej_details=e.data.permission_list});var e="api/approveLeave/getleaveapprovedetails";p.get(e).then(function(e){t.leave_list=e.data.leave_list});var e="api/approveLeave/getleaverejectdetails";p.get(e).then(function(e){t.leavereject_list=e.data.leave_list}),unlockUI()}var _=this;_.title="approveleavecontroller",f(),t.approveleave=function(e){var a={leave_gid:e},o="api/approveLeave/approveleaveclick";lockUI(),p.post(o,a).then(function(e){if(unlockUI(),1==e.data.status){var a="api/approveLeave/getleaveapprovependingdetails";p.get(a).then(function(e){t.leavepending_list=e.data.leave_list});var a="api/approveLeave/getapproval_count";p.get(a).then(function(e){t.count_approvalpending=e.data.count_approvalpending,t.count_history=e.data.count_history,t.pending_leave=e.data.pending_leave}),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3})}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},t.rejectleave=function(e){var a={leave_gid:e};console.log(a);var o="api/approveLeave/rejectleaveclick";lockUI(),p.post(o,a).then(function(e){if(unlockUI(),1==e.data.status){var a="api/approveLeave/getleaveapprovependingdetails";p.get(a).then(function(e){t.leavepending_list=e.data.leave_list});var a="api/approveLeave/getapproval_count";p.get(a).then(function(e){t.count_rejected=e.data.count_rejected,t.count_approvalpending=e.data.count_approvalpending,t.count_history=e.data.count_history}),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}),f()}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3});f()})},t.documentleave=function(e){var t={leave_gid:e};console.log(t);var a="api/approveLeave/getleavedocument";lockUI(),p.getparams(a,t).then(function(e){function t(t,a){t.filename_list=e.data.filename_list,t.ok=function(){a.close("closed")},t.document_downloadclick=function(e,t){var a=e,o=a.split("EMS"),n=o[1].replace("\\","/"),i=window.location.host,r="http://",l=r.concat(i,n),s=document.createElement("a"),p=t.split(".");s.download=p[0];var c=l;s.href=c,s.click()}}if(unlockUI(),1==e.data.status){r.open({templateUrl:"/myModalContent.html",controller:t,size:"md"});t.$inject=["$scope","$modalInstance"]}else v.swal("No Documents...!")})},t.approvelogin=function(e,a,o){var n={attendancelogintmp_gid:e,loginattendence_date:o,apply_employeegid:a},i="api/approveLeave/approvelogin";lockUI(),p.post(i,n).then(function(e){if(unlockUI(),1==e.data.status){var a="api/approveLeave/getloginsummarydetails";p.get(a).then(function(e){t.loginapproval_pendinglist=e.data.loginpending_list});var a="api/approveLeave/getapproval_count";p.get(a).then(function(e){t.count_approvalpending=e.data.count_approvalpending,t.pending_login=e.data.pending_login,t.count_history=e.data.count_history}),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}),f()}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3});f()})},t.rejectlogin=function(e){var a={attendancelogintmp_gid:e},o="api/approveLeave/rejectlogin";lockUI(),p.post(o,a).then(function(e){if(unlockUI(),1==e.data.status){var a="api/approveLeave/getloginsummarydetails";p.get(a).then(function(e){t.loginapproval_pendinglist=e.data.loginpending_list});var a="api/approveLeave/getapproval_count";p.get(a).then(function(e){t.count_rejected=e.data.count_rejected,t.count_approvalpending=e.data.count_approvalpending,t.count_history=e.data.count_history}),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}),f()}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3});f()})},t.approvelogout=function(e,a,o){var n={attendancelogouttmp_gid:e,logoutattendence_date:a,apply_employeegid:o},i="api/approveLeave/approvelogout";lockUI(),p.post(i,n).then(function(e){if(unlockUI(),1==e.data.status){var a="api/approveLeave/getlogoutsummarydetails";p.get(a).then(function(e){t.logoutapproval_pendinglist=e.data.logoutpending_list});var a="api/approveLeave/getapproval_count";p.get(a).then(function(e){t.count_approvalpending=e.data.count_approvalpending,t.count_history=e.data.count_history,t.pending_logout=e.data.pending_logout}),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3})}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3});f()})},t.rejectlogout=function(e){var a={attendancelogouttmp_gid:e},o="api/approveLeave/rejectlogout";lockUI(),p.post(o,a).then(function(e){if(unlockUI(),1==e.data.status){var a="api/approveLeave/getlogoutsummarydetails";p.get(a).then(function(e){t.logoutapproval_pendinglist=e.data.logoutpending_list});var a="api/approveLeave/getapproval_count";p.get(a).then(function(e){t.count_history=e.data.count_history,t.count_rejected=e.data.count_rejected,t.count_approvalpending=e.data.count_approvalpending}),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3})}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3});f()})},t.approveOD=function(e){var a={ondutytracker_gid:e},o="api/approveLeave/approveOD";lockUI(),p.post(o,a).then(function(e){if(unlockUI(),1==e.data.status){var a="api/approveLeave/getODsummarydetails";p.get(a).then(function(e){t.ODapproval_pendinglist=e.data.ODpending_list});var a="api/approveLeave/getapproval_count";p.get(a).then(function(e){t.count_history=e.data.count_history,t.count_approvalpending=e.data.count_approvalpending,t.pending_onduty=e.data.pending_onduty}),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3})}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3});f()})},t.rejectOD=function(e){var a={ondutytracker_gid:e},o="api/approveLeave/rejectOD";lockUI(),p.post(o,a).then(function(e){if(unlockUI(),1==e.data.status){var a="api/approveLeave/getODsummarydetails";p.get(a).then(function(e){t.ODapproval_pendinglist=e.data.ODpending_list});var a="api/approveLeave/getapproval_count";p.get(a).then(function(e){t.count_history=e.data.count_history,t.count_rejected=e.data.count_rejected,t.count_approvalpending=e.data.count_approvalpending}),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3})}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3});f()})},t.approvecompoff=function(e){var a={compensatoryoff_gid:e},o="api/approveLeave/approvecompoff";lockUI(),p.post(o,a).then(function(e){if(1==e.data.status){var a="api/approveLeave/getCompoffsummarydetails";p.get(a).then(function(e){t.compoffpending_list=e.data.compoffpending_list});var a="api/approveLeave/getapproval_count";p.get(a).then(function(e){t.count_history=e.data.count_history,t.count_approvalpending=e.data.count_approvalpending,t.pending_compoff=e.data.pending_compoff}),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3})}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3});f()})},t.rejectcompoff=function(){var e={},a="api/approveLeave/rejectcompoff";lockUI(),p.post(a,e).then(function(e){if(unlockUI(),1==e.data.status){var a="api/approveLeave/getCompoffsummarydetails";p.get(a).then(function(e){t.compoffpending_list=e.data.compoffpending_list});var a="api/approveLeave/getapproval_count";p.get(a).then(function(e){t.count_rejected=e.data.count_rejected,t.count_history=e.data.count_history,t.count_approvalpending=e.data.count_approvalpending}),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3})}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3});f()})},t.approvepermission=function(e){t.permissiondtl_gid=e;var a={permissiondtl_gid:t.permissiondtl_gid};console.log(a);var o="api/approveLeave/approvepermission";p.getparams(o,a).then(function(e){if(1==e.data.status){var a="api/approveLeave/getPermissionsummarydetails";p.get(a).then(function(e){t.permissionapproval_pendinglist=e.data.permissionapproval_pendinglist});var a="api/approveLeave/getapproval_count";p.get(a).then(function(e){t.count_rejected=e.data.count_rejected,t.count_history=e.data.count_history,t.count_approvalpending=e.data.count_approvalpending}),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3})}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3});f()})},t.rejectpermission=function(e){t.permissiondtl_gid=e;var a={permissiondtl_gid:t.permissiondtl_gid},o="api/approveLeave/rejectpermission";p.getparams(o,a).then(function(e){if(1==e.data.status){var a="api/approveLeave/getPermissionsummarydetails";p.get(a).then(function(e){t.permissionapproval_pendinglist=e.data.permissionapproval_pendinglist});var a="api/approveLeave/getapproval_count";p.get(a).then(function(e){t.count_rejected=e.data.count_rejected,t.count_history=e.data.count_history,t.count_approvalpending=e.data.count_approvalpending}),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3})}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3});f()})},t.rejectcompoff=function(e){t.compensatoryoff_gid=e;var a={compensatoryoff_gid:t.compensatoryoff_gid},o="api/approveLeave/rejectcompoff";p.getparams(o,a).then(function(e){if(1==e.data.status){var a="api/approveLeave/getCompoffsummarydetails";p.get(a).then(function(e){t.compoffpending_list=e.data.compoffpending_list});var a="api/approveLeave/getapproval_count";p.get(a).then(function(e){t.count_rejected=e.data.count_rejected,t.count_history=e.data.count_history,t.count_approvalpending=e.data.count_approvalpending}),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3})}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3});f()})}}angular.module("angle").controller("approveleavecontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","Colors","ChartData","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","SweetAlert"]}(),function(){"use strict";function e(e,t,a,o,n,i,r,l,s,p,c,d,u,m){function g(){var e="api/companyPolicy/policy";lockUI(),l.get(e).then(function(e){unlockUI(),t.policy_list=e.data.policy_list})}var v=this;v.title="companypoliciescontroller",g(),t.trustAsHtml=function(e){return m.trustAsHtml(e)}}angular.module("angle").controller("companypoliciescontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","$sce"]}(),function(){"use strict";function e(e,t,a,o,n,i,r,l,s,p,c,d,u){function m(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){console.log(e.coords.latitude,e.coords.longitude);var a,o,n={lat:e.coords.latitude,lon:e.coords.longitude},i="api/geoMap/locate";l.post(i,n).then(function(e){t.data=e.data,t.show=!0,u.putObject("location",e.data.freeformAddress)}),a=new atlas.Map("map",{center:[e.coords.longitude,e.coords.latitude],zoom:7,view:"Auto",authOptions:{authType:"subscriptionKey",subscriptionKey:"uYsh9CG084Em15TPYkTRUtaBHu0VPYijY4I0JNG-M5M"}}),a.events.add("ready",function(){o=new atlas.HtmlMarker({htmlContent:'<div class="pulseIcon"></div>',position:[e.coords.longitude,e.coords.latitude]}),a.markers.add(o)})})}m()}angular.module("angle").controller("geo",e),e.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","$cookies"]}(),function(){"use strict";function e(e,t,a,o,n,i,r,l,s,p,c,d,u){function m(){var e="api/holidayCalender/holidaycalender";l.get(e).then(function(e){t.holidaycalender_list=e.data.holidaycalender_list});var e="api/holidayCalender/event";l.get(e).then(function(e){t.createeventdata=e.data.createevent});var e="api/holidayCalender/todayactivity";l.get(e).then(function(e){t.todayschdule_details=e.data.createevent})}var g=this;g.title="holidayCalendercontroller",m(),t.createevent=function(){function e(e,t){e.ok=function(){t.close("closed")},e.eventsubmit=function(){var o=new Date;o.setFullYear(e.event_date.getFullYear()),o.setMonth(e.event_date.getMonth()),o.setDate(e.event_date.getDate());var n;if(void 0==e.eventtime){var i=new Date;n=i.getHours()+":"+i.getMinutes()}else{var r=e.eventtime;n=r.getHours()+":"+r.getMinutes()}var p={event_date:o,event_title:e.event_title,event_time:n};console.log(p);var c="api/holidayCalender/createevent";l.post(c,p).then(function(e){1==e.data.status?(t.close("closed"),s.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}),a.reload()):s.alert("Error Occurred!","warning")})}}n.open({templateUrl:"/myModalContent.html",controller:e,size:"md"});e.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("holidayCalendercontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function e(e,t,a,o,n,i,r,l,s,p){function c(){var e="api/AdminLogin/SValues";lockUI(),r.get(e).then(function(e){unlockUI();var t=window.location.host,a="https://",o=window.open(a.concat(t,"/Framework/adlogin.aspx?userCode=",e.data.user_code,"&?&userPassword=",e.data.user_password,"&?&companyCode=",e.data.company_code),"_blank");o.focus()}),a.go("app.hrmDashboard")}var d=this;d.title="hrmAdminLogincontroller",c()}angular.module("angle").controller("hrmAdminLogincontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","ScopeValueService","$http","SocketService","Notify","$location","$route"]}(),function(){"use strict";function e(e,t,a,o,n,i,r,l,s,p,c,d,u,m,g,v,f){function _(){function e(e,t,a,o,n,i,r){t.opened.then(function(){var t="api/hrmDashboard/iattendence";n.get(t).then(function(t){e.punchstatus=t.data.update_flag}),e.mapOptionsModal={zoom:14}}),e.punchinlocation=function(){var t=o.getObject("location"),a={location:t},i="api/hrmDashboard/punchIn";lockUI(),n.post(i,a).then(function(t){unlockUI(),1==t.data.status?(e.ok(),h(),c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3})):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.punch_outlocation=function(){var t=o.getObject("location"),a={location:t},i="api/hrmDashboard/punchOut";lockUI(),n.post(i,a).then(function(t){unlockUI(),1==t.data.status?(e.ok(),h(),c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3})):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.ok=function(){t.close("closed")},e.cancel=function(){t.dismiss("cancel")}}var a="api/user/companydetails",o={user_gid:localStorage.getItem("user_gid")};p.getparams(a,o).then(function(e){var a=location.href.split("/"),o=a[0]+"//"+a[2],n=e.data.company_logo;n=n.substring(n.indexOf("EMS/")+3),t.company_logo=o.concat(n),t.company_name=e.data.company_name});var a="api/hrmDashboard/loginSummary";p.get(a).then(function(e){t.loginsummary_list=e.data.loginsummary_list,console.log(t.loginsummary_list)});var a="api/hrmDashboard/logoutSummary";p.get(a).then(function(e){t.logoutsummary_list=e.data.logoutsummary_list});var a="api/hrmDashboard/ondutySummary";p.get(a).then(function(e){t.onduty_details=e.data.onduty_details});var a="api/hrmDashboard/compOffSummary";p.get(a).then(function(e){t.compoff_details=e.data.compoffSummary_details,console.log(t.compoff_details)});var a="api/hrmDashboard/permissionSummary";p.get(a).then(function(e){t.permission_details=e.data.permissionSummary_details});var a="api/holidayCalender/todayactivity";p.get(a).then(function(e){t.todayschdule_details=e.data.createevent}),t.close=!0,t.applylogininfodiv=!0,t.applylogoutinfodiv=!0,t.applyodinfodiv=!0,t.applycompoffinfodiv=!0,t.applypermissioninfodiv=!0;var a="api/hrmDashboard/monthlyAttendence";p.get(a).then(function(e){t.monthlyattendence=e.data,t.last6monthattendence=e.data.last6MonthAttendence_list,t.countPresent=parseInt(e.data.countPresent),t.countAbsent=parseInt(e.data.countAbsent),t.countLeave=parseInt(e.data.countLeave),t.countholiday=parseInt(e.data.countholiday),t.countWeekOff=parseInt(e.data.countWeekOff),y()}),D.mytime=new Date,D.hstep=1,D.mstep=15,D.ismeridian=!1,D.calender1=function(e){e.preventDefault(),e.stopPropagation(),D.open1=!0},D.calender2=function(e){e.preventDefault(),e.stopPropagation(),D.open2=!0},D.calender3=function(e){e.preventDefault(),e.stopPropagation(),D.open3=!0},D.calender4=function(e){e.preventDefault(),e.stopPropagation(),D.open4=!0},D.calender5=function(e){e.preventDefault(),e.stopPropagation(),D.open5=!0},D.calender6=function(e){e.preventDefault(),e.stopPropagation(),D.open6=!0},D.dateOptions={formatYear:"yy",startingDay:1},D.formats=["dd-MM-yyyy"],D.format=D.formats[0];var a="api/hrmDashboard/monthlyAttendence";p.get(a).then(function(e){var t=e.data.last6MonthAttendence_list;null==t?D.barData={labels:[],datasets:[{fillColor:n.byName("green"),strokeColor:n.byName("green"),highlightFill:n.byName("info"),highlightStroke:n.byName("info"),data:[]},{fillColor:n.byName("danger"),strokeColor:n.byName("danger"),highlightFill:n.byName("primary"),highlightStroke:n.byName("primary"),data:[]}]}:D.barData={labels:[t[4].monthname,t[3].monthname,t[2].monthname,t[1].monthname,t[0].monthname],datasets:[{fillColor:n.byName("green"),strokeColor:n.byName("green"),highlightFill:n.byName("info"),highlightStroke:n.byName("info"),data:[t[4].countPresent,t[3].countPresent,t[2].countPresent,t[1].countPresent,t[0].countPresent]},{fillColor:n.byName("danger"),strokeColor:n.byName("danger"),highlightFill:n.byName("primary"),highlightStroke:n.byName("primary"),data:[t[4].countAbsent,t[3].countAbsent,t[2].countAbsent,t[1].countAbsent,t[0].countAbsent]}]}}),D.barOptions={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animationSteps:100,animationEasing:"easeInOutSine"};var a="api/hrmDashboard/iattendence";p.get(a).then(function(e){console.log(e),t.punchstatus=e.data.update_flag,t.login_time_audit=e.data.login_time_audit,t.iattendence_privilege=e.data.iattendence_privilege}),D.open=function(t){r.open({templateUrl:"/myModalContent.html",controller:e,size:t})},e.$inject=["$scope","$modalInstance","$timeout","$cookies","SocketService","SweetAlert","$state"]}function h(){var e="api/hrmDashboard/iattendence";p.get(e).then(function(e){t.punchstatus=e.data.update_flag,t.login_time_audit=e.data.login_time_audit})}function y(){D.pieData=[{value:t.countPresent,color:n.byName("green"),highlight:n.byName("info"),label:"Present"},{value:t.countAbsent,color:n.byName("danger"),highlight:n.byName("info"),label:"Absent"},{value:t.countLeave,color:n.byName("yellow"),highlight:n.byName("info"),label:"Leave"},{value:t.countholiday,color:n.byName("purple"),highlight:n.byName("info"),label:"Holiday"},{value:t.countWeekOff,color:n.byName("success"),highlight:n.byName("info"),label:"WeekOff"}]}var D=this;D.title="hrmDashboardcontroller",_(),D.pieOptions={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:0,animationSteps:100,animationEasing:"easeInOutBack",animateRotate:!0,animateScale:!1},t.punchinclick=function(){t.punchin=!0},t.closeclick=function(){t.close=!1,t.punchin=!1},t.applylogintime=function(){lockUI(),t.applylogindiv=!0,t.applylogininfodiv=!1,t.applyloginbutton=!0,unlockUI()},t.logincloseclick=function(){lockUI(),t.applylogininfodiv=!0,t.applylogindiv=!1,t.applyloginbutton=!1,document.getElementById("logintimeform1").reset(),unlockUI()},t.loginApply=function(){var e;if(void 0==t.logintime){var a=new Date;e=a.getHours()+":"+a.getMinutes()}else{var o=t.logintime;e=o.getHours()+":"+o.getMinutes()}var n=new Date;n.setFullYear(t.attendencedate.getFullYear()),n.setMonth(t.attendencedate.getMonth()),n.setDate(t.attendencedate.getDate());var i={loginreq_date:n,login_date:n,logintime:e,loginreq_reason:t.txtlogintimereason};console.log(i);var r="api/hrmDashboard/applyLoginReq";lockUI(),p.post(r,i).then(function(e){if(document.getElementById("logintimeform1").reset(),unlockUI(),1==e.data.status){var a="api/hrmDashboard/loginSummary";p.get(a).then(function(e){t.loginsummary_list=e.data.loginsummary_list}),t.logincloseclick(),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3})}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},t.deletelogin=function(e){var a={attendancelogintmp_gid:e};v.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(e){if(e){var o="api/hrmDashboard/loginPendingDelete";p.getparams(o,a).then(function(e){if(1==e.data.status){var a="api/hrmDashboard/loginSummary";p.get(a).then(function(e){t.loginsummary_list=e.data.loginsummary_list})}else c.alert("Error Occurred !",{status:"warning",pos:"top-center",timeout:3e3})}),v.swal("Deleted Successfully!")}})},t.deletelogout=function(e){var a={attendancetmp_gid:e};v.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(e){if(e){var o="api/hrmDashboard/logoutPendingDelete";p.getparams(o,a).then(function(e){if(1==e.data.status){var a="api/hrmDashboard/logoutSummary";p.get(a).then(function(e){t.logoutsummary_list=e.data.logoutsummary_list})}else c.alert("Error Occurred !",{status:"warning",pos:"top-center",timeout:3e3})}),v.swal("Deleted Successfully!")}})},t.deleteonduty=function(e){var a={ondutytracker_gid:e};v.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(e){if(e){var o="api/hrmDashboard/ODPendingDelete";p.getparams(o,a).then(function(e){if(1==e.data.status){var a="api/hrmDashboard/ondutySummary";p.get(a).then(function(e){t.onduty_details=e.data.onduty_details})}else c.alert("Error Occurred !",{status:"warning",pos:"top-right",timeout:3e3})}),v.swal("Deleted Successfully!")}})},t.deletecompoff=function(e){var a={compensatoryoff_gid:e};v.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(e){if(e){var o="api/hrmDashboard/compoffPendingDelete";p.getparams(o,a).then(function(e){if(1==e.data.status){var a="api/hrmDashboard/compOffSummary";p.get(a).then(function(e){t.compoff_details=e.data.compoffSummary_details})}else c.alert("Error Occurred !",{status:"warning",pos:"top-center",timeout:3e3})}),v.swal("Deleted Successfully!")}})},t.deletepermission=function(e){var a={permissiondtl_gid:e};v.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(e){if(e){var o="api/hrmDashboard/permissionPendingDelete";p.getparams(o,a).then(function(e){if(1==e.data.status){var a="api/hrmDashboard/permissionSummary";p.get(a).then(function(e){t.permission_details=e.data.permissionSummary_details})}else c.alert("Error Occurred !",{status:"warning",pos:"top-center",timeout:3e3})}),v.swal("Deleted Successfully!")}})},t.applylogouttime=function(){lockUI(),t.applylogoutinfodiv=!1,t.applylogoutdiv=!0,t.applylogoutbutton=!0,unlockUI()},t.logoutcloseclick=function(){t.applylogoutinfodiv=!0,t.applylogoutdiv=!1,document.getElementById("logoutform").reset(),t.applylogoutbutton=!1},t.logoutApply=function(){var e,a;if(void 0==t.logouttime){var o=new Date;e=o.getHours()+":"+o.getMinutes()}else a=t.logouttime,e=a.getHours()+":"+a.getMinutes();var n=new Date;n.setFullYear(t.logoutattendencedate.getFullYear()),n.setMonth(t.logoutattendencedate.getMonth()),n.setDate(t.logoutattendencedate.getDate());var i={logoutattendence_date:n,logouttime:e,logouttime_reason:t.txtlogouttimereason},r="api/hrmDashboard/applyLogOutReq";lockUI(),p.post(r,i).then(function(e){if(document.getElementById("logoutform").reset(),unlockUI(),1==e.data.status){var a="api/hrmDashboard/logoutSummary";p.get(a).then(function(e){t.logoutsummary_list=e.data.logoutsummary_list}),t.logoutcloseclick(),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3})}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},t.applyod=function(){t.applyoddiv=!0,t.applyodinfodiv=!1,t.applyodbutton=!0},t.odcloseclick=function(){t.applyodinfodiv=!0,t.applyoddiv=!1,t.applyodbutton=!1,document.getElementById("odform1").reset()},t.odhalf=function(e){"show"==e?t.session=!0:(t.session=!1,t.radio_FNAN="")},t.onselectedchangeto=function(e){var a=(e.getTime()-t.workingFrom_date.getTime())/864e5,o=a+1;o<=0?(alert("To Date should be greater than From Date"),t.workingTo_date="",t.leave_days=""):t.leave_days=a+1},t.odApply=function(){var e,a,o,n,i,r,l;if(void 0==t.od_from&&void 0==t.od_to?(l=new Date,o=i=l.getHours(),n=r=l.getMinutes()):void 0==t.od_from?(a=t.od_to,i=a.getHours(),r=a.getMinutes(),l=new Date,o=l.getHours(),n=l.getMinutes()):void 0==t.od_to?(e=t.od_from,o=e.getHours(),n=e.getMinutes(),l=new Date,i=l.getHours(),r=l.getMinutes()):(e=t.od_from,a=t.od_to,o=e.getHours(),n=e.getMinutes(),i=a.getHours(),r=a.getMinutes()),i<o){alert("To Hours should be greater than From Hours")}else{var s=new Date;s.setFullYear(t.oddate.getFullYear()),s.setMonth(t.oddate.getMonth()),s.setDate(t.oddate.getDate());var d={od_date:s,od_fromhr:o,od_frommin:n,od_tohr:i,od_tomin:r,onduty_period:t.radio_halffull,od_session:t.radio_FNAN,od_reason:t.txt_odreason};console.log(d);var u="api/hrmDashboard/applyonduty";lockUI(),p.post(u,d).then(function(e){if(document.getElementById("odform1").reset(),unlockUI(),1==e.data.status){var a="api/hrmDashboard/ondutySummary";p.get(a).then(function(e){t.onduty_details=e.data.onduty_details}),t.odcloseclick(),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3})}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}},t.applycompoff=function(){t.applyCompoffdiv=!0,t.applycompoffinfodiv=!1,t.applycompoffbutton=!0},t.Compoffcloseclick=function(){t.applycompoffinfodiv=!0,t.applyCompoffdiv=!1,t.applycompoffbutton=!1,document.getElementById("compoffform1").reset(),t.leave_days=""},t.applycompoffclick=function(){var e=new Date;e.setFullYear(t.compoff_date.getFullYear()),e.setMonth(t.compoff_date.getMonth()),e.setDate(t.compoff_date.getDate());var a=new Date;a.setFullYear(t.actualworking_date.getFullYear()),a.setMonth(t.actualworking_date.getMonth()),a.setDate(t.actualworking_date.getDate());var o={actualworking_date:a,compoff_date:e,compoff_reason:t.txtcompoffreason},n="api/hrmDashboard/applyCompoffReq";lockUI(),p.post(n,o).then(function(e){if(document.getElementById("compoffform1").reset(),t.leave_days="",unlockUI(),1==e.data.status){var a="api/hrmDashboard/compOffSummary";p.get(a).then(function(e){t.compoff_details=e.data.compoffSummary_details}),t.Compoffcloseclick(),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3})}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},t.applypermission=function(){t.applypermissiondiv=!0,t.applypermissioninfodiv=!1,t.applypermissionbutton=!0},t.permissioncloseclick=function(){t.applypermissiondiv=!1,t.applypermissioninfodiv=!0,t.applypermissionbutton=!1,document.getElementById("permissionform1").reset()},t.applypermission_Click=function(){var e,a,o,n,i,r,l;if(void 0==t.permissionFrom&&void 0==t.permissionTo?(l=new Date,o=i=l.getHours(),n=r=l.getMinutes()):void 0==t.permissionFrom?(a=t.permissionTo,
i=a.getHours(),r=a.getMinutes(),l=new Date,o=l.getHours(),n=l.getMinutes()):void 0==t.permissionTo?(e=t.permissionFrom,o=e.getHours(),n=e.getMinutes(),l=new Date,i=l.getHours(),r=l.getMinutes()):(e=t.permissionFrom,a=t.permissionTo,o=e.getHours(),n=e.getMinutes(),i=a.getHours(),r=a.getMinutes()),i<o){alert("To Hours should be greater than From Hours")}else{var s=new Date;s.setFullYear(t.permissiondate.getFullYear()),s.setMonth(t.permissiondate.getMonth()),s.setDate(t.permissiondate.getDate());var d={permission_date:s,permission_fromhr:o,permission_frommin:n,permission_tohr:i,permission_tomin:r,permission_reason:t.txtpermissionreason},u="api/hrmDashboard/applyPermission";lockUI(),p.post(u,d).then(function(e){if(document.getElementById("permissionform1").reset(),unlockUI(),1==e.data.status){var a="api/hrmDashboard/permissionSummary";p.get(a).then(function(e){t.permission_details=e.data.permissionSummary_details}),t.permissioncloseclick(),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3})}else c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}}}angular.module("angle").controller("hrmDashboardcontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","Colors","ChartData","$modal","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams","$timeout","SweetAlert","$cookies"]}(),function(){"use strict";function e(e,t,a,o,n,i,r,l,s,p,c,d,u){function m(){console.log("test");var e="api/hrmDashboard/monthlyAttendenceReport";l.get(e).then(function(e){t.attendance_report=e.data.monthlyAttendenceReport_list})}var g=this;g.title="monthlyAttendancecontroller",m()}angular.module("angle").controller("monthlyAttendancecontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function e(e,t,a,o,n,i,r,l,s,p,c,d,u){function m(){var e="api/applyLeave/leavetype";l.get(e).then(function(e){t.leavetype_list=e.data.leavetype_list,console.log(e.data.leavetype_list)});var e="api/applyLeave/leavesummary";l.get(e).then(function(e){t.leave_list=e.data.leave_list})}var g=this;g.title="myLeavecontroller",m(),t.applyleave=function(e){function o(t,o){var n="api/applyLeave/getleavetype_name",i={leavetype_gid:e};l.getparams(n,i).then(function(e){t.applyleavedetails=e.data,t.leavetype_name=e.data.leavetype_name,t.leavetype_gid=e.data.leavetype_gid}),t.ok=function(){o.close("closed")},t.fullclick=function(){t.leavefull=!0,t.disablevalue=!1,t.leavehalf=!1,t.onselectedchangeto=function(e){var a=(e.getTime()-t.fromdate.getTime())/864e5,o=a+1,n=new Date;n.setFullYear(t.fromdate.getFullYear()),n.setMonth(t.fromdate.getMonth()),n.setDate(t.fromdate.getDate());var i=new Date;i.setFullYear(t.todate.getFullYear()),i.setMonth(t.todate.getMonth()),i.setDate(t.todate.getDate());var r={leave_gid:t.leavetype_gid,leave_from:n,leave_to:i,leave_days:o,leave_session:"NA"};console.log(r);var p="api/applyLeave/leavevalidate";lockUI(),l.post(p,r).then(function(e){1==e.data.status?(unlockUI(),t.leave_days=e.data.leave_days,s.alert(e.data.message,"success")):(unlockUI(),t.leave_days=e.data.leave_days,s.alert(e.data.message,"warning"))})}},t.halfclick=function(){t.leavefull=!1,t.disablevalue=!1,t.leavehalf=!0},t.fullleavesubmit=function(){var e=new Date;e.setFullYear(t.fromdate.getFullYear()),e.setMonth(t.fromdate.getMonth()),e.setDate(t.fromdate.getDate());var n=new Date;n.setFullYear(t.todate.getFullYear()),n.setMonth(t.todate.getMonth()),n.setDate(t.todate.getDate());var i="NA",r={leavetype_gid:t.leavetype_gid,leave_from:e,leave_session:i,leave_to:n,leave_reason:t.leave_reason},p="api/applyLeave/applyleave";lockUI(),l.post(p,r).then(function(e){unlockUI(),1==e.data.status?(o.close("closed"),s.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}),m()):(o.close("closed"),s.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}),m())}),a.go("app.myLeave")},t.upload=function(e,a,o){var n={name:e[0].name,file:e[0]},i=new FormData;i.append("fileupload",n.file),i.append("file_name",n.name),i.append("document_name",t.documentname),i.append("leave_gid",t.leave_gid),t.uploadfrm=i;var r="api/applyLeave/uploaddocument";lockUI(),l.postFile(r,t.uploadfrm).then(function(e){unlockUI(),t.filename_list=e.data.filename_list,t.disablevalue=!0,$("#addupload").val(""),$("#addhalfupload").val(""),1==e.data.status?s.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}):(unlockUI(),s.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}))})},t.document_delete=function(e){var a={tmpdocument_gid:e},o="api/applyLeave/documentDelete";l.getparams(o,a).then(function(e){1==e.data.status?(t.filename_list=e.data.filename_list,t.disablevalue=!1):(s.alert("Error Occurred While Deleting Document!",{status:"warning",pos:"top-center",timeout:3e3}),m())}),u.swal("Deleted Successfully!"),m()},t.halfleavesubmit=function(){var e=new Date;e.setFullYear(t.fromdate.getFullYear()),e.setMonth(t.fromdate.getMonth()),e.setDate(t.fromdate.getDate());var n={leavetype_gid:t.leavetype_gid,leave_from:e,leave_session:t.radio_fnan,leave_to:e,leave_reason:t.leavehalf_reason};console.log(n);var i="api/applyLeave/applyleave";lockUI(),l.post(i,n).then(function(e){unlockUI(),1==e.data.status?(o.close("closed"),s.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}),m()):(o.close("closed"),s.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}))}),a.go("app.myLeave")}}t.disablevalue=!0;n.open({templateUrl:"/applyLeaveModal.html",controller:o,size:"md"});o.$inject=["$scope","$modalInstance"]},t.documentleave=function(e){var t={leave_gid:e};console.log(t);var a="api/approveLeave/getleavedocument";lockUI(),l.getparams(a,t).then(function(e){function t(t,a){t.filename_list=e.data.filename_list,t.ok=function(){a.close("closed")},t.document_downloadclick=function(e,t){var a=e,o=a.split("EMS"),n=o[1].replace("\\","/"),i=window.location.host,r="http://",l=r.concat(i,n),s=document.createElement("a"),p=t.split(".");s.download=p[0];var c=l;s.href=c,s.click()}}if(unlockUI(),1==e.data.status){n.open({templateUrl:"/DocumentModal.html",controller:t,size:"md"});t.$inject=["$scope","$modalInstance"]}else u.swal("No Documents...!")})},t.deleteleave=function(e){var a={leavetype_gid:e};console.log(a),u.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(e){if(e){var o="api/applyLeave/leavePendingDelete";l.getparams(o,a).then(function(e){if(1==e.data.status){var a="api/applyLeave/leavesummary";l.get(a).then(function(e){t.leave_list=e.data.leave_list})}else s.alert("Error Occurred !",{status:"warning",pos:"top-center",timeout:3e3})}),u.swal("Deleted Successfully!")}})}}angular.module("angle").controller("myLeavecontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams","SweetAlert"]}(),function(){"use strict";function e(e,t,a,o,n,i,r,l,s,p,c,d,u){function m(){g.open=function(e){e.preventDefault(),e.stopPropagation(),g.opened=!0},g.dateOptions={formatYear:"yy",startingDay:1},g.formats=["dd-MM-yyyy"],g.format=g.formats[0];var e="api/myProfile/country";l.get(e).then(function(e){t.country_list=e.data.countryname_list});var e="api/myProfile/employeedetails";l.get(e).then(function(e){if(console.log(e),t.employeedetails=e.data,t.txtFirstname=e.data.first_name,t.txtLastname=e.data.last_name,t.rdgender=e.data.gender,t.txtpersonalnum=e.data.personal_number,t.dob=e.data.dob,t.txtmobile=e.data.mobile,t.txtqualification=e.data.qualification,t.txtexperience=e.data.experience,t.bloodgroup=e.data.blood_group,"N"!=e.data.employee_photo){var a=location.href.split("/"),o=a[0],n=a[2],i=o+"//"+n,r=e.data.employee_photo;r=r.substring(r.indexOf("EMS/")+3),t.employee_photo=i.concat(r)}else t.employee_photo=e.data.employee_photo});var e="api/myProfile/getaddressdetails";l.get(e).then(function(e){t.txtaddress1=e.data.permanent_address1,t.txtaddress2=e.data.permanent_address2,t.txtCity=e.data.permanent_city,t.txtState=e.data.permanent_state,t.txtcountry=e.data.permanent_country,t.txtpostalcode=e.data.permanent_postalcode,t.tmp_txtaddress1=e.data.temporary_address1,t.tmp_txtaddress2=e.data.temporary_address2,t.tmp_txtCity=e.data.temporary_city,t.tmp_txtState=e.data.temporary_state,t.tmp_txtcountry=e.data.temporary_country,t.tmp_txtpostalcode=e.data.temporary_postalcode})}var g=this;g.title="myProfilecontroller",t.disablevalue=!0,t.disablepersonaldetails=!0,t.disableaddressdetails=!0,m(),t.passwordupdate=function(){var e={current_password:t.CurrentpassWord,new_password:t.NewpassWord,confirm_passsword:t.ConfirmpassWord},o="api/myProfile/updatepassword";lockUI(),l.post(o,e).then(function(e){unlockUI(),1==e.data.status?(s.alert("Password Updated Successfully",{status:"success",pos:"top-center",timeout:3e3}),t.current=a.current.name,i.store("dataldCtrl",t),a.go("app.pageredirect")):s.alert("Error Occured While Updating",{status:"warning",pos:"top-center",timeout:3e3})})},t.upload=function(e,a,o){var n={name:e[0].name,file:e[0]},i=new FormData;i.append("fileupload",n.file),i.append("file_name",n.name),i.append("document_name",t.documentname),i.append("employee_gid",t.employee_gid),t.uploadfrm=i;var r="api/myProfile/uploadEmployeePhoto";l.postFile(r,t.uploadfrm).then(function(e){if($("#addupload").val(""),1==e.data.status){s.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3});var a="api/myProfile/employeedetails";l.get(a).then(function(e){if("N"!=e.data.employee_photo){var a=location.href.split("/"),o=a[0],n=a[2],i=o+"//"+n,r=e.data.employee_photo;r=r.substring(r.indexOf("EMS/")+3),t.employee_photo=i.concat(r)}else t.employee_photo=e.data.employee_photo})}else s.alert("File Format Not Supported!",{status:"info",pos:"top-center",timeout:3e3})})},t.personalupdate=function(){var e={first_name:t.txtFirstname,last_name:t.txtLastname,gender:t.rdgender,dob:t.dob,mobile:t.txtmobile,personal_number:t.txtpersonalnum,qualification:t.txtqualification,experience:t.txtexperience,blood_group:t.bloodgroup,employee_photo:t.employeephoto},o="api/myProfile/updateemployeedetails";lockUI(),l.post(o,e).then(function(e){unlockUI(),1==e.data.status?(s.alert("Personal Details Updated Successfully",{status:"success",pos:"top-center",timeout:3e3}),t.current=a.current.name,i.store("dataldCtrl",t),a.go("app.pageredirect")):s.alert("Error Occured While Updating",{status:"warning",pos:"top-center",timeout:3e3})})},t.addressupdate=function(){var e={permanent_address1:t.txtaddress1,permanent_address2:t.txtaddress2,permanent_city:t.txtCity,permanent_state:t.txtState,permanent_country:t.txtcountry,permanent_postalcode:t.txtpostalcode,temporary_address1:t.tmp_txtaddress1,temporary_address2:t.tmp_txtaddress2,temporary_city:t.tmp_txtCity,temporary_state:t.tmp_txtState,temporary_country:t.tmp_txtcountry,temporary_postalcode:t.tmp_txtpostalcode},o="api/myProfile/updateaddressdetails";lockUI(),l.post(o,e).then(function(e){unlockUI(),1==e.data.status?(s.alert("Address Details Updated Successfully",{status:"success",pos:"top-center",timeout:3e3}),t.current=a.current.name,i.store("dataldCtrl",t),a.go("app.pageredirect")):s.alert("Error Occured While Updating",{status:"warning",pos:"top-center",timeout:3e3})})},t.changeedit=function(){t.disablevalue=!1,t.changeUpdate=!0,t.changeCancel=!0,t.changeedit=!1},t.chcancel=function(){t.current=a.current.name,i.store("dataldCtrl",t),a.go("app.pageredirect")},t.personaledit=function(){t.disablepersonaldetails=!1,t.personalUpdate=!0,t.personalCancel=!0,t.personaledit=!1},t.personalcancel=function(){t.current=a.current.name,i.store("dataldCtrl",t),a.go("app.pageredirect")},t.addressedit=function(){t.disableaddressdetails=!1,t.addressUpdate=!0,t.addressCancel=!0,t.addressedit=!1},t.addresscancel=function(){t.current=a.current.name,i.store("dataldCtrl",t),a.go("app.pageredirect")}}angular.module("angle").controller("myProfilecontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function e(e,t,a,o,n,i,r,l,s,p,c,d,u){function m(){var e="api/myTeam/myteam";l.get(e).then(function(e){t.myteam=e.data.myteam_list});var e="api/myProfile/employeedetails";l.get(e).then(function(e){if(t.employeedetails=e.data,"N"!=e.data.employee_photo){var a=location.href.split("/"),o=a[0],n=a[2],i=o+"//"+n,r=e.data.employee_photo;r=r.substring(r.indexOf("EMS/")+3),t.employee_photo=i.concat(r)}else t.employee_photo=e.data.employee_photo})}var g=this;g.title="myTeamcontroller",m(),t.teamprofile=function(e){t.team_employeegid=localStorage.setItem("employee_gid",e),a.go("app.myTeamEmployeeProfile")}}angular.module("angle").controller("myTeamcontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function e(e,t,a,o,n,i,r,l,s,p,c,d,u){function m(){var e={employee_gid:localStorage.getItem("employee_gid")},a="api/myTeam/teamemployeeprofile";l.getparams(a,e).then(function(e){if(t.employeedetails=e.data,"N"!=e.data.employee_photo){var a=location.href.split("/"),o=a[0],n=a[2],i=o+"//"+n,r=e.data.employee_photo;r=r.substring(r.indexOf("EMS/")+3),t.employee_photo=i.concat(r)}else t.employee_photo=e.data.employee_photo;console.log(e)});var a="api/myTeam/teamemployeehiearchy";l.getparams(a,e).then(function(e){t.employeeteam=e.data.myteam_list})}var g=this;g.title="myTeamProfilecontroller",m(),t.teamprofile=function(e){t.employee_gid=localStorage.setItem("employee_gid",e),m()}}angular.module("angle").controller("myTeamProfilecontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function e(e,t){function a(){e.go(t.get("dataldCtrl").current)}var o=this;o.title="reloadController",a()}angular.module("angle").controller("reloadController",e),e.$inject=["$state","ScopeValueService"]}();