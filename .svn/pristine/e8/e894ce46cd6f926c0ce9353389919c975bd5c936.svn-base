<h3>
    My Approvals
</h3>

<div ng-controller="cacApprovalcontroller">
    <div id="panelDemo8" class="panel panel-primary">
        <div class="panel-heading">
            CAC Approval - View Release Details
        </div>
        <div class="panel-body">
            <div class="table-responsive">
                <div class="panel-body">
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div class="col-lg-2 col-sm-2 col-md-2">
                                <label style="font-weight:bold">Release Ref No </label>
                            </div>
                            <div class="col-lg-4 col-sm-4 col-md-4">
                                {{releaseapprovaldetails.ref_no}}
                            </div>
                            <div class="col-lg-2 col-sm-2 col-md-2">
                                <label style="font-weight:bold">Target Date </label>
                            </div>
                            <div class="col-lg-4 col-sm-4 col-md-4">
                                {{releaseapprovaldetails.release_date}}
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div class="col-lg-2 col-sm-2 col-md-2">
                                <label style="font-weight:bold">Application  </label>
                            </div>
                            <div class="col-lg-4 col-sm-4 col-md-4">
                                {{releaseapprovaldetails.applicationname}}
                            </div>
                            <div class="col-lg-2 col-sm-2 col-md-2">
                                <label style="font-weight:bold"> Vendor </label>
                            </div>
                            <div class="col-lg-4 col-sm-4 col-md-4">
                                {{releaseapprovaldetails.vendorname}}
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div class="col-lg-2 col-sm-2 col-md-2">
                                <label style="font-weight:bold">Release Status </label>
                            </div>
                            <div class="col-lg-4 col-sm-4 col-md-4">
                                {{releaseapprovaldetails.release_status}}
                            </div>
                            <div class="col-lg-2 col-sm-2 col-md-2">
                                <label style="font-weight:bold">Release Approval Status </label>
                            </div>
                            <div class="col-lg-4 col-sm-4 col-md-4">
                                {{releaseapprovaldetails.approval_status}}
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div class="col-lg-2 col-sm-2 col-md-2">
                                <label style="font-weight:bold">Release Remarks </label>
                            </div>
                            <div class="col-lg-4 col-sm-4 col-md-4">
                                {{releaseapprovaldetails.release_remarks}}
                            </div>
                            <div class="col-lg-2 col-sm-2 col-md-2">
                                <label style="font-weight:bold">Release Notes </label>
                            </div>
                            <div class="col-lg-4 col-sm-4 col-md-4">
                                {{releaseapprovaldetails.release_notes}}
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div class="col-sm-3 col-md-3 col-lg-3">
                                <strong class="ng-binding text-pink">
                                    Change Details
                                </strong>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <ul>
                                <li class="dd-item">
                                    <div class="dd-handle ng-scope">
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-2 col-sm-2 col-md-2">
                                                    <label style="font-weight:bold">Change Description</label>
                                                </div>
                                                <div class="col-lg-4 col-sm-4 col-md-4">
                                                    {{releaseapprovaldetails.change_description}}
                                                </div>
                                                <div class="col-lg-2 col-sm-2 col-md-2">
                                                    <label style="font-weight:bold">Impacted Module</label>
                                                </div>
                                                <div class="col-lg-4 col-sm-4 col-md-4">
                                                    {{releaseapprovaldetails.impacted_module}}
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-2 col-sm-2 col-md-2">
                                                    <label style="font-weight:bold">Impacted System</label>
                                                </div>
                                                <div class="col-lg-4 col-sm-4 col-md-4">
                                                   {{releaseapprovaldetails.impacted_system}}
                                                </div>
                                                <div class="col-lg-2 col-sm-2 col-md-2">
                                                    <label style="font-weight:bold">Reasons for Change (also, specify whether'necessary' or 'desirable'</label>
                                                </div>
                                                <div class="col-lg-4 col-sm-4 col-md-4">
                                                    {{releaseapprovaldetails.reason_change}}
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-2 col-sm-2 col-md-2">
                                                    <label style="font-weight:bold">Alternative ways (if any) of achieving the same results	</label>
                                                </div>
                                                <div class="col-lg-4 col-sm-4 col-md-4">
                                                    {{releaseapprovaldetails.alternative_way}}
                                                </div>
                                                <div class="col-lg-2 col-sm-2 col-md-2">
                                                    <label style="font-weight:bold">Resources (additional /reduced effort required to implement the change)	</label>
                                                </div>
                                                <div class="col-lg-4 col-sm-4 col-md-4">
                                                    {{releaseapprovaldetails.resources}}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div class="col-sm-3 col-md-3 col-lg-3">
                                <strong class="ng-binding text-green">
                              UAT Sign Off Document
                                </strong>
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <ul>
                                <li class="dd-item">
                                    <div class="col-lg-12 col-sm-12 col-md-12">
                                        <div class="table-responsive">
                                            <table class="table table-striped table-secondary">
                                                <thead class="bg-blue-grey-400 text-white">
                                                    <tr width="100%">
                                                        <th scope="col">S.No</th>
                                                        <th scope="col">Document Name</th>
                                                        <th scope="col">Action</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="data in uatdocument_list" width="100%">
                                                        <td title="'S.No'">{{$index+1}}</td>
                                                        <td title="'Document Name'">{{data.document_name}}</td>
                                                        <td data-title="'Action'">
                                                            <em class="fa fa-download"
                                                                ng-click="downloads(data.document_path,data.document_name)">
                                                            </em>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </li>

                            </ul>
                        </div>
                    </div>
                    <br />
                    <div class="row">
    <div class="col-lg-12 col-sm-12 col-md-12">
        <div class="col-sm-3 col-md-3 col-lg-3">
            <strong class="ng-binding text-green">
               Approval Document
            </strong>
        </div>
    </div>
</div>
<br />
<div class="row">
    <div class="col-lg-12 col-sm-12 col-md-12">
        <ul>
            <li class="dd-item">
                <div class="col-lg-12 col-sm-12 col-md-12">
                    <div class="table-responsive">
                        <table class="table table-striped table-secondary">
                            <thead class="bg-blue-grey-400 text-white">
                                <tr width="100%">
                                    <th scope="col">S.No</th>
                                    <th scope="col">Document Ref No.</th>
                                    <th scope="col">Document Name</th>
                                    <th scope="col">Upload By/On</th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="data in approvaldoc_list" width="100%">
                                    <td title="'S.No'">{{$index+1}}</td>
                                    <td title="'Document Ref No.'">{{data.documentref_no}}</td>
                                    <td title="'Document Name'">{{data.document_name}}</td>
                                    <td title="Upload By/On">{{data.created_by}}/{{data.created_date}}</td>
                                    <td data-title="'Action'">
                                        <em class="fa fa-download"
                                            ng-click="downloads(data.document_path,data.document_name)">
                                        </em>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </li>

        </ul>
    </div>
</div>
                    <br />
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div class="col-sm-3 col-md-3 col-lg-3">
                                <strong class="ng-binding text-info">
                                    Forthcoming Issue release
                                    &nbsp; <label class="label label-info ng-binding ng-scope" ng-if="releaseapprovaldetails.issuerelease_count != '0'">
                                        {{releaseapprovaldetails.issuerelease_count}}
                                    </label>
                                </strong>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div>
                                
                                <ul>
                                    <li class="dd-item">
                                        <div class="dd-handle ng-scope" ng-repeat="data in releaseissue_list">
                                            <div class="row">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                                        <label style="font-weight:bold">Issue Ref No</label>
                                                    </div>
                                                    <div class="col-lg-4 col-sm-4 col-md-4">
                                                        {{data.issue_refno}}
                                                    </div>
                                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                                        <label style="font-weight:bold">Issue Date</label>
                                                    </div>
                                                    <div class="col-lg-4 col-sm-4 col-md-4">
                                                        {{data.issue_date}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                                        <label style="font-weight:bold">Severity</label>
                                                    </div>
                                                    <div class="col-lg-4 col-sm-4 col-md-4">
                                                        {{data.Severity}}
                                                    </div>
                                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                                        <label style="font-weight:bold">Priority</label>
                                                    </div>
                                                    <div class="col-lg-4 col-sm-4 col-md-4">
                                                        {{data.priority}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                                        <label style="font-weight:bold">Issue Title</label>
                                                    </div>
                                                    <div class="col-lg-10 col-sm-10 col-md-10">
                                                        {{data.issue_title}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                                        <label style="font-weight:bold">Issue Remarks</label>
                                                    </div>
                                                    <div class="col-lg-10 col-sm-10 col-md-10">
                                                        
                                                        <element ng-bind-html="data.issue_remarks"></element>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="text-info">
                                                UAT Log Details &nbsp;&nbsp;
                                                <a ng-hide="data.hide" ng-click="data.hide=true">
                                                    <button title="Click to View UAT Log Details" ng-click="uatdetails(data.issuetracker_gid,$index)">
                                                        <em class="fa fa-chevron-circle-down" style="font-size:14px;"></em>
                                                    </button>
                                                </a>
                                                <a ng-show="data.hide" ng-click="data.hide=false">
                                                    <button title="Click to Hide UAT Details">
                                                        <em class="fa fa-chevron-circle-up" style="font-size:14px;"></em>
                                                    </button>
                                                </a>

                                            </div>

                                            <div ng-show="data.hide" class="row">
                                                <div class="col-lg-12 col-sm-12 col-md-12">
                                                    <div class="table-responsive">
                                                        <table class="table table-striped table-secondary">
                                                            <thead class="bg-info-light text-white">
                                                                <tr width="100%">
                                                                    <th scope="col">Issue Date</th>
                                                                    <th scope="col">UAT Date</th>
                                                                    <th scope="col">Issue Status</th>
                                                                    <th scope="col">Remarks</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="subdata in data[data.issuetracker_gid]" width="100%">
                                                                    <td title="'Issue Date'">{{subdata.created_date}}</td>
                                                                    <td title="'UAT Date">{{subdata.uat_date}}</td>
                                                                    <td data-title="'Issue Status'">{{subdata.issue_status}}</td>
                                                                    <td data-title="'Remarks'">{{subdata.remarks}}</td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>

                                </ul>
                                <br />
                                <div class="row">
                                    <div class="col-lg-12 col-sm-12 col-md-12">
                                        <div class="col-sm-3 col-md-3 col-lg-3">
                                            <strong class="ng-binding text-green">
                                                Dependency Approval
                                                &nbsp; <label class="label label-green ng-binding ng-scope" ng-if="releaseapprovaldetails.dependency_count != '0'">
                                                    {{releaseapprovaldetails.dependency_count}}
                                                </label>
                                            </strong>
                                        </div>
                                    </div>
                                </div>
                                <ul>
                                    <li class="dd-item">
                                        <div class="dd-handle ng-scope" ng-repeat="data in dependency_list">
                                            <div class="row">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                                        <label style="font-weight:bold">Dependent Application</label>
                                                    </div>
                                                    <div class="col-lg-4 col-sm-4 col-md-4">
                                                        {{data.applicationdependent}}
                                                    </div>
                                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                                        <label style="font-weight:bold">Stakeholder</label>
                                                    </div>
                                                    <div class="col-lg-4 col-sm-4 col-md-4">
                                                        {{data.stakeholder_name}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                                        <label style="font-weight:bold">Approval</label>
                                                    </div>
                                                    <div class="col-lg-4 col-sm-4 col-md-4">
                                                        {{data.approval}}
                                                    </div>
                                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                                        <label style="font-weight:bold">Approval Status </label>
                                                    </div>
                                                    <div class="col-lg-4 col-sm-4 col-md-4">
                                                        {{data.dependency_status}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                                <br />
                                <div class="row">
                                    <div class="col-lg-12 col-sm-12 col-md-12">
                                        <div class="col-sm-3 col-md-3 col-lg-3">
                                            <strong class="ng-binding text-danger">
                                                CAC Approval
                                                &nbsp; <label class="label label-danger ng-binding ng-scope" ng-if="releaseapprovaldetails.cab_count != '0'">
                                                    {{releaseapprovaldetails.cab_count}}
                                                </label>
                                            </strong>
                                        </div>
                                    </div>
                                </div>
                                <ul>
                                    <li class="dd-item">
                                        <div class="dd-handle ng-scope" ng-repeat="data in cab_list">
                                            <div class="row">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                                        <label style="font-weight:bold">CAC Member</label>
                                                    </div>
                                                    <div class="col-lg-4 col-sm-4 col-md-4">
                                                        {{data.approval_name}}
                                                    </div>
                                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                                        <label style="font-weight:bold">Department</label>
                                                    </div>
                                                    <div class="col-lg-4 col-sm-4 col-md-4">
                                                        {{data.department_name}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                                        <label style="font-weight:bold">Approved Date</label>
                                                    </div>
                                                    <div class="col-lg-4 col-sm-4 col-md-4">
                                                        {{data.approval_date}}
                                                    </div>
                                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                                        <label style="font-weight:bold">Approval Status</label>
                                                    </div>
                                                    <div class="col-lg-4 col-sm-4 col-md-4">
                                                        {{data.approval_status}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                                        <label style="font-weight:bold">Approved Remarks</label>
                                                    </div>
                                                    <div class="col-lg-10 col-sm-10 col-md-10">
                                                        {{data.approval_remarks}}
                                                    </div>
                                                  
                                                </div>
                                            </div>
                                            <div class="row" ng-switch="data.cab_approval">
                                                <div class="col-lg-12 col-sm-12 col-md-12">
                                                    <div class="text-center" ng-switch-when="Y">
                                                        <a class="btn btn-success" ng-click="btn_cabapprove(data.cacapproval_gid)">
                                                            <i class="fa fa-check" style="font-size:15px;">
                                                                &nbsp;Approve
                                                            </i>
                                                        </a>
                                                        <a class="btn btn-danger" ng-click="btn_cabreject(data.cacapproval_gid)">
                                                            <i class="fa fa-remove" style="font-size:15px;">&nbsp;Reject</i>
                                                        </a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="panel-footer">
            <div class="text-center">
                <div>
                    <!--<a class="btn btn-success" ng-click="departmentapprove_click(data.category_gid,data.serviceapproval_gid)">
                        <i class="fa fa-check" style="font-size:15px;">
                            &nbsp;Approve
                        </i>
                    </a>
                    <a class="btn btn-danger" ng-click="departmentreject_click(data.serviceapproval_gid)">
                        <i class="fa fa-remove" style="font-size:15px;">&nbsp;Reject</i>
                    </a>-->
                    <a class="btn btn-info" ng-click="back()">
                        <i class="fa fa-arrow-left" style="font-size:15px;">
                            &nbsp;Back
                        </i>
                    </a>
                </div>
            </div>
        </div>
    </div>
    <script type="text/ng-template" id="/getCACApprovalmodal.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <h2><em class="fa fa-thumbs-o-up"></em>&nbsp;CAC Approval</h2>
                <span flex></span>

            </div>
        </md-toolbar>
        <div class="modal-body ng-scope">
            <form novalidate="" name="teamformsubmit" ng-submit="form.submitForm1()" autocomplete="off" class="form-validate form-horizontal">
                <div class="pd-sm-10">

                    <div class="row">
                        <div class="col-sm-12 col-lg-12 col-md-12">
                            <label>Approval Remarks  &nbsp;</label>
                            <textarea ng-model="approval_remarks" placeholder="Enter Remarks" rows="3" maxlength="1000" class="form-control"
                                       id="input_13" ng-trim="false" aria-multiline="true" tabindex="0" aria-invalid="true"></textarea>
                        </div>
                    </div>
                    <br />
                </div>
                <br />
                <div>
                    <div class="text-center">
                        <button type="button" class="btn btn-success btn-md" ng-disabled="teamformsubmit.$invalid" ng-click="getcacapprovalclick()"><i class="fa fa-arrow-circle-right"></i>&nbsp;&nbsp;Submit</button>&nbsp;&nbsp;
                        <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                    </div>
                </div>
            </form>
        </div>
    </script>
    <script type="text/ng-template" id="/getCACRejectmodal.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <h2><em class="fa fa-thumbs-o-up"></em>&nbsp;CAC Approval</h2>
                <span flex></span>

            </div>
        </md-toolbar>
        <div class="modal-body ng-scope">
            <form novalidate="" name="teamformsubmit" ng-submit="form.submitForm1()" autocomplete="off" class="form-validate form-horizontal">
                <div class="pd-sm-10">

                    <div class="row">
                        <div class="col-sm-12 col-lg-12 col-md-12">
                            <label>Reject Remarks  &nbsp;<span style="color:red">*</span></label>
                            <textarea ng-model="reject_remarks" placeholder="Enter Remarks" rows="3" maxlength="1000" class="form-control"
                                      required id="input_13" ng-trim="false" aria-multiline="true" tabindex="0" aria-invalid="true"></textarea>
                        </div>
                    </div>
                    <br />
                </div>
                <br />
                <div>
                    <div class="text-center">
                        <button type="button" class="btn btn-success btn-md" ng-disabled="teamformsubmit.$invalid" ng-click="getcacrejectclick()"><i class="fa fa-arrow-circle-right"></i>&nbsp;&nbsp;Submit</button>&nbsp;&nbsp;
                        <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                    </div>
                </div>
            </form>
        </div>
    </script>
</div>
