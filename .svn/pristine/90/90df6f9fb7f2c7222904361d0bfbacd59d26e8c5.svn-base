!function(){"use strict";function e(e,t,a,o,n,r,i,l,c,p,s,d,u,m,v,g,_){function f(){t.release_gid=localStorage.getItem("release_gid");var e={release_gid:t.release_gid},a="api/myApprovals/releasedetails";l.getparams(a,e).then(function(e){t.releaseapprovaldetails=e.data,t.releaseissue_list=e.data.releaseissue_list,t.uatlog_list=e.data.uatlog_list,t.dependency_list=e.data.dependency_list,t.cab_list=e.data.cab_list,t.uatdocument_list=e.data.uatdocument_list,t.approvaldoc_list=e.data.ApprovalDocuments_List})}var y=this;y.title="cacApprovalcontroller",f(),t.uatdetails=function(e,a){var o={issuetracker_gid:e},n="api/myApprovals/uatdetails";l.getparams(n,o).then(function(o){t.releaseissue_list[a][e]=o.data.uatlog_list})},t.btn_cabapprove=function(e){function t(t,n){t.ok=function(){o.close("closed")},t.getcacapprovalclick=function(){var n={cacapproval_gid:e,approval_remarks:t.approval_remarks},r="api/myApprovals/cabapprove";l.post(r,n).then(function(e){(e.data.status=!0)?(c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}),o.close("closed")):(c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}),o.close("closed")),a.go("app.myApproval")})}}var o=n.open({templateUrl:"/getCACApprovalmodal.html",controller:t,size:"md"});t.$inject=["$scope","$modalInstance"]},t.btn_cabreject=function(e){function t(t,n){t.ok=function(){o.close("closed")},t.getcacrejectclick=function(){var n={cacapproval_gid:e,reject_remarks:t.reject_remarks},r="api/myApprovals/cabreject";l.post(r,n).then(function(e){(e.data.status=!0)?(c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}),o.close("closed")):(c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}),o.close("closed")),t.cabapproval=e.data.cabapproval_list,a.go("app.myApproval")})}}var o=n.open({templateUrl:"/getCACRejectmodal.html",controller:t,size:"md"});t.$inject=["$scope","$modalInstance"]},t.downloads=function(e,t){_.Downloaddocument(e,t)},t.back=function(){a.go("app.myApproval")}}angular.module("angle").controller("cacApprovalcontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","$cookies","$filter","DownloaddocumentService"]}(),function(){"use strict";function e(e,t,a,o,n,r,i,l,c,p,s,d,u,m){function v(){t.serviceapproval_gid=localStorage.getItem("serviceapproval_gid"),t.lsinternalapproval=localStorage.getItem("lsinternalapproval");var e={serviceapproval_gid:t.serviceapproval_gid};lockUI();var a="api/myApprovals/viewdepartment";l.getparams(a,e).then(function(e){unlockUI(),t.viewdepartment=e.data})}var g=this;g.title="departmentApprovalView",v(),t.departmentapprove_click=function(e,t){function o(t,o){t.ok=function(){o.close("closed")},t.approve_click=function(n){var r={category_gid:e,serviceapproval_gid:localStorage.getItem("serviceapproval_gid"),remarks:t.txtremarks};console.log(r),lockUI();var i="api/myApprovals/departmentApproveclick";l.post(i,r).then(function(e){unlockUI(),(e.data.status=!0)?c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}),o.close("closed"),a.go("app.myApproval")})}}var e=e;console.log(e);n.open({templateUrl:"/departmentapprove.html",controller:o,size:"md"});o.$inject=["$scope","$modalInstance"]},t.departmentreject_click=function(e){function t(e,t){e.ok=function(){t.close("closed")},e.reject_click=function(o){var n={serviceapproval_gid:localStorage.getItem("serviceapproval_gid"),remarks:e.txtremarks};console.log(n),lockUI();var r="api/myApprovals/departmentreject";l.post(r,n).then(function(e){unlockUI(),(e.data.status=!0)?c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}),t.close("closed"),a.go("app.myApproval")})}}var e=e;console.log(e);n.open({templateUrl:"/departmentreject.html",controller:t,size:"md"});t.$inject=["$scope","$modalInstance"]},t.departmentinternal_click=function(e,o){var n={serviceapproval_gid:o,complaint_gid:e,remarks:t.txtremarks},r="api/myApprovals/departmentinternal";lockUI(),l.post(r,n).then(function(e){unlockUI(),(e.data.status=!0)?c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}),a.go("app.myApproval")})},t.back=function(){a.go("app.myApproval")}}angular.module("angle").controller("departmentApprovalView",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams"]}(),function(){"use strict";function e(e,t,a,o,n,r,i,l,c,p,s,d,u,m,v){function g(){t.release_gid=localStorage.getItem("release_gid");var e={release_gid:t.release_gid},a="api/myApprovals/releasedetails";l.getparams(a,e).then(function(e){t.releaseapprovaldetails=e.data,t.releaseissue_list=e.data.releaseissue_list,t.uatlog_list=e.data.uatlog_list,t.dependency_list=e.data.dependency_list,t.uatdocument_list=e.data.uatdocument_list})}var _=this;_.title="dependencyApprovalcontroller",g(),t.uatdetails=function(e,a){var o={issuetracker_gid:e},n="api/myApprovals/uatdetails";l.getparams(n,o).then(function(o){t.releaseissue_list[a][e]=o.data.uatlog_list})},t.btn_dependencyapprove=function(e,t){var o={dependentapproval_gid:e,release_gid:t};lockUI();var n="api/myApprovals/dependencyapprove";l.post(n,o).then(function(e){unlockUI(),(e.data.status=!0)?c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}),a.go("app.myApproval")})},t.btn_dependencyreject=function(e,t){var o={dependentapproval_gid:e,release_gid:t};lockUI();var n="api/myApprovals/dependencyreject";l.post(n,o).then(function(e){unlockUI(),(e.data.status=!0)?c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}),a.go("app.myApproval")})},t.downloads=function(e,t){v.Downloaddocument(e,t)},t.back=function(){a.go("app.myApproval")}}angular.module("angle").controller("dependencyApprovalcontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams"],"DownloaddocumentService",e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","DownloaddocumentService"]}(),function(){"use strict";function e(e,t,a,o,n,r,i,l,c,p,s,d,u,m){function v(){var e="api/deployment/getClientList";c.get(e).then(function(e){t.client_list=e.data.clients})}var g=this;g.title="deploymentController",v(),t.getProject=function(e){var a="api/deployment/getProjectList";c.get(a+"?client_gid="+e).then(function(e){t.project_list=e.data.projects})},g.validateInput=function(e,t){var a=g.formValidate[e];return(a.$dirty||g.submitted)&&a.$error[t]},g.submitForm=function(){if(g.submitted=!0,!g.formValidate.$valid)return console.log("Not valid!!"),!1;var e=t.project_list.map(function(e){return e.project_gid}).indexOf(t.selectProject),a=t.client_list.map(function(e){return e.client_gid}).indexOf(t.selectClient),r=t.project_list[e].project_name,i=t.client_list[a].client_name,l={user_gid:localStorage.getItem("user_gid"),deployment_mode:t.selectMode,deployment_client_gid:t.selectClient,deployment_client:i,deployment_project:r,deployment_project_gid:t.selectProject,deployment_description:t.description,deployment_client_need:t.selectNeed,deployment_page_flag:t.checkPage,deployment_pages:t.pagename,deployment_report_flag:t.checkRpt,deployment_report:t.reportname},p="api/deployment/addDeployment";c.post(p,l).then(function(e){1==e.data.status?n.swal("Success!","Your Deployment Record Added!","success"):n.swal("Error!","An Error Occured While Adding Deployment Record","warning"),setTimeout(o.go("app.deploymentsummary"),2e3)})},t.back=function(){o.go("app.deploymentsummary")}}angular.module("angle").controller("deploymentController",e),e.$inject=["$rootScope","$scope","$modal","$state","SweetAlert","AuthenticationService","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","$cookies"]}(),function(){"use strict";function e(e,t,a,o,n,r,i,l,c,p,s,d,u,m,v,g,_,f,y){function k(){var e="api/deployment/getSummaryLive";c.get(e).then(function(e){t.liveData=e.data.SummariesLive,t.liveTable=new g({page:1,count:5},{total:t.liveData.length,getData:function(e,a){t.datasLive=t.liveData.slice((a.page()-1)*a.count(),a.page()*a.count()),e.resolve(t.datasLive)}})});var e="api/deployment/getSummaryUAT";c.get(e).then(function(e){t.UATData=e.data.SummariesUAT,t.UATtable=new g({page:1,count:5},{total:t.UATData.length,getData:function(e,a){t.datasUAT=t.UATData.slice((a.page()-1)*a.count(),a.page()*a.count()),e.resolve(t.datasUAT)}})});var e="api/deployment/getSummaryTest";c.get(e).then(function(e){t.TestData=e.data.SummariesTest,t.Testtable=new g({page:1,count:5},{total:t.TestData.length,getData:function(e,a){t.datasTest=t.TestData.slice((a.page()-1)*a.count(),a.page()*a.count()),e.resolve(t.datasTest)}})})}var S=this;S.title="deploymentsummaryController",k(),t.add=function(){o.go("app.deploymentadd")},t.viewModal=function(e){function t(t,a){var o="api/deployment/viewDepDtl";c.get(o+"?dep_gid="+e).then(function(e){t.viewDepData=e.data,""==t.viewDepData.new_reports&&(t.viewDepData.new_reports="No New Reports Added"),""==t.viewDepData.new_pages&&(t.viewDepData.new_pages="No New Pages Added"),"---"==t.viewDepData.dep_by&&(t.viewDepData.dep_by="Not Yet Deployed")}),t.ok=function(){a.close("closed")},t.cancel=function(){a.dismiss("cancel")}}a.open({templateUrl:"/myModalContent.html",controller:t,size:"md"});t.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("deploymentsummaryController",e),e.$inject=["$rootScope","$scope","$modal","$state","SweetAlert","AuthenticationService","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","$cookies","$filter","ngTableParams","$resource","$timeout","ngTableDataService"]}(),function(){"use strict";function e(e,t,a,o,n,r,i,l,c,p,s,d,u){function m(){var e=localStorage.getItem("user_gid"),a="api/user/privilegelevel3";l.get(a+"?user_gid="+e).then(function(e){var a=e.data.privilegelevel3.map(function(e){return e.project}).indexOf("ITSSVTNEW"),o=e.data.privilegelevel3.map(function(e){return e.project}).indexOf("ITSSVTVIW");a!=-1&&(t.newticket="Y"),o!=-1&&(t.viewticket="Y")})}var v=this;v.title="itDashboardcontroller",m()}angular.module("angle").controller("itDashboardcontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function e(e,t,a,o,n,r,i,l,c,p,s,d,u,m){function v(){t.serviceapproval_gid=localStorage.getItem("serviceapproval_gid");var e={serviceapproval_gid:t.serviceapproval_gid},a="api/myApprovals/viewmanagement";l.getparams(a,e).then(function(e){t.managementdetails=e.data,console.log(e.data)})}var g=this;g.title="managementApprovalcontroller",v(),t.managerapprove=function(e){var t={serviceapproval_gid:e};lockUI();var o="api/myApprovals/manageapprove";l.post(o,t).then(function(e){(e.data.status=!0)?(unlockUI(),c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3})):c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}),a.go("app.myApproval")})},t.managerapprove=function(e){function t(e,t){e.ok=function(){t.close("closed")},e.approve_click=function(o){var n={serviceapproval_gid:localStorage.getItem("serviceapproval_gid"),remarks:e.txtremarks};lockUI();var r="api/myApprovals/manageapprove";l.post(r,n).then(function(e){unlockUI(),(e.data.status=!0)?c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}),t.close("closed"),a.go("app.myApproval")})}}n.open({templateUrl:"/manageapprove.html",controller:t,size:"md"});t.$inject=["$scope","$modalInstance"]},t.managerreject=function(e){function t(e,t){e.ok=function(){t.close("closed")},e.reject_click=function(o){var n={serviceapproval_gid:localStorage.getItem("serviceapproval_gid"),remarks:e.txtremarks};lockUI();var r="api/myApprovals/managereject";l.post(r,n).then(function(e){unlockUI(),(e.data.status=!0)?c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}),t.close("closed"),a.go("app.myApproval")})}}n.open({templateUrl:"/managementreject.html",controller:t,size:"md"});t.$inject=["$scope","$modalInstance"]},t.back=function(){a.go("app.myApproval")}}angular.module("angle").controller("managementApprovalcontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams"]}(),function(){"use strict";function e(e,t,a,o,n,r,i,l,c,p,s,d,u,m,v){function g(){var e="api/myApprovals/myapproval";lockUI(),l.get(e).then(function(e){unlockUI(),t.departmentapproval=e.data.departmentapproval_list,t.serviceapproval=e.data.serviceapproval_list,t.managementapproval=e.data.managerapproval_list,t.historyapproval=e.data.approvalhistory_list,t.dependencyapproval=e.data.dependencyapproval_list,t.cacapproval=e.data.cabapproval_list,t.dependencyhistory=e.data.dependencyhistory_list,t.cachistory=e.data.cachistory_list,t.approvalcount=e.data.myapprovalcount});var e="api/OsdTrnRequestApproval/GetApprovalSummary";l.get(e).then(function(e){t.approvalsummarylist=e.data.approvalsummarylist,t.approvalcompletedlist=e.data.approvalcompletedlist});var e="api/OsdTrnRequestApproval/GetRHApprovalSummary";l.get(e).then(function(e){t.rhapprovalsummarylist=e.data.rhapprovalsummarylist,t.rhapprovalcompletedlist=e.data.rhapprovalcompletedlist});var e="api/MstScannedDocument/GetDeferralApprovalSummary";l.get(e).then(function(e){t.deferralapprovallist=e.data.mdldeferralapproval});var e="api/MstScannedDocument/GetDeferralApprovalHistorySummary";l.get(e).then(function(e){t.deferralcompletedapprovallist=e.data.mdldeferralapproval});var e="api/MstRMPostCCWaiver/GetWaiverApprovalSummary";l.get(e).then(function(e){t.waiverapproval_list=e.data.rmpostccwaiver_list});var e="api/MstRMPostCCWaiver/GetWaiverApprovalHistorySummary";l.get(e).then(function(e){t.waiverapprovalhistory_list=e.data.rmpostccwaiver_list});var e="api/AgrMstScannedDocument/GetDeferralApprovalSummary";l.get(e).then(function(e){t.samagrodeferralapprovallist=e.data.mdldeferralapproval});var e="api/AgrMstScannedDocument/GetDeferralApprovalHistorySummary";l.get(e).then(function(e){t.samagrodeferralcompletedapprovallist=e.data.mdldeferralapproval});var e="api/AgrMstSuprScannedDocument/GetDeferralApprovalSummary";l.get(e).then(function(e){t.samagrosupplierdeferralapprovallist=e.data.mdldeferralapproval});var e="api/AgrMstSuprScannedDocument/GetDeferralApprovalHistorySummary";l.get(e).then(function(e){t.samagrosupplierdeferralcompletedapprovallist=e.data.mdldeferralapproval});var e="api/MstSAOnboardingInstitution/GetSaApprovalPendingSummary";lockUI(),l.get(e).then(function(e){t.saOnboardSummary_list=e.data.saOnboardSummary_list,unlockUI()});var e="api/MstSAOnboardingInstitution/GetSaApprovalInitiatedSummary";lockUI(),l.get(e).then(function(e){t.saOnboardSummary1_list=e.data.saOnboardSummary_list,unlockUI()});var e="api/MstSAOnboardingIndividual/GetApprovalPendingSummary";lockUI(),l.get(e).then(function(e){t.saOnboardSummary2_list=e.data.saOnboardSummary_list,unlockUI()});var e="api/MstSAOnboardingIndividual/GetSaApprovalInitiateSummary";lockUI(),l.get(e).then(function(e){t.saOnboardSummary3_list=e.data.saOnboardSummary_list,unlockUI()})}var _=this;_.title="myApprovalController",g(),t.taskapprove_click=function(e,t){var a={trntask_gid:e,trntask2activity_gid:t},o=s.apiList.taskapprove.api;l.post(o,a).then(function(e){(e.data.status=!0)?c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g()})},t.showPopover=function(e,t){function a(t,a){var o={release_gid:e},n="api/myApprovals/ApprovalRemarksView";l.getparams(n,o).then(function(e){t.approval_remarks=e.data.approval_remarks,t.application=e.data.application}),t.ok=function(){a.close("closed")}}n.open({templateUrl:"/showpopupModal.html",controller:a,size:"md"});a.$inject=["$scope","$modalInstance"]},t.taskreject_click=function(e,t){var a={trntask_gid:e,trntask2activity_gid:t},o=s.apiList.taskreject.api;l.post(o,a).then(function(e){(e.data.status=!0)?c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g()})},t.btn_viewdepartmentclick=function(e,o){t.serviceapproval_gid=localStorage.setItem("serviceapproval_gid",e),t.lsinternalapproval=localStorage.setItem("lsinternalapproval",o),a.go("app.departmentApprovalView")},t.btn_viewserviceclick=function(e,o){t.serviceapproval_gid=localStorage.setItem("serviceapproval_gid",e),t.lsinternalapproval=localStorage.setItem("lsinternalapproval",o),a.go("app.serviceApprovalView")},t.btn_viewmanagementclick=function(e){t.serviceapproval_gid=localStorage.setItem("serviceapproval_gid",e),a.go("app.managementApprovalView")},t.btn_viewhistoryclick=function(e){t.serviceapproval_gid=localStorage.setItem("serviceapproval_gid",e),a.go("app.historyApprovalView")},t.btn_viewdependencyclick=function(e){t.serviceapproval_gid=localStorage.setItem("release_gid",e),a.go("app.dependencyApprovalView")},t.btn_viewcabclick=function(e){t.release_gid=localStorage.setItem("release_gid",e),a.go("app.cacApproval")},t.btn_approvalclick=function(e){t.requestapproval_gid=e,t.requestapproval_gid=localStorage.setItem("requestapproval_gid",e),a.go("app.osdTrnApprovalView")},t.btn_approvalhistory=function(e){t.requestapproval_gid=e,t.requestapproval_gid=localStorage.setItem("requestapproval_gid",e),a.go("app.osdTrnApprovalViewHistory")},t.btn_rhapprovalclick=function(e,o,n,r){t.bankalertrefundapprl_gid=e,t.bankalertrefundapprl_gid=localStorage.setItem("bankalertrefundapprl_gid",e),t.bankalert2allocated_gid=o,t.bankalert2allocated_gid=localStorage.setItem("bankalert2allocated_gid",o),t.customername=n,t.customername=localStorage.setItem("customername",n),t.customerurn=r,t.customerurn=localStorage.setItem("customerurn",r),a.go("app.osdTrnRHApprovalView")},t.btn_rhapprovalhistory=function(e,o,n,r){t.bankalertrefundapprl_gid=e,t.bankalertrefundapprl_gid=localStorage.setItem("bankalertrefundapprl_gid",e),t.bankalert2allocated_gid=o,t.bankalert2allocated_gid=localStorage.setItem("bankalert2allocated_gid",o),t.customername=n,t.customername=localStorage.setItem("customername",n),t.customerurn=r,t.customerurn=localStorage.setItem("customerurn",r),a.go("app.osdTrnRHApprovalViewHistory")},t.approvaldeferral_view=function(e,t,a,o,n){p.url("app/MstDeferralMyApproval?application_gid="+o+"&approval_initiationgid="+e+"&initiateextendorwaiver_gid="+a+"&documentcheckdtl_gid="+t+"&fromphysical_document="+n)},t.approvaldeferral_historyview=function(e,t,a,o,n){p.url("app/MstDeferralMyApprovalHistory?application_gid="+o+"&extendorwaiverapproval_gid="+e+"&initiateextendorwaiver_gid="+a+"&documentcheckdtl_gid="+t+"&fromphysical_document="+n)},t.approvalsamagrodeferral_view=function(e,t,a,o,n){p.url("app/AgrTrnBuyerDeferralMyApproval?application_gid="+t+"&approval_initiationgid="+e+"&initiateextendorwaiver_gid="+a+"&documentcheckdtl_gid="+o+"&fromphysical_document="+n)},t.approvalsamagrodeferral_historyview=function(e,t,a,o,n){p.url("app/AgrTrnDeferralMyApprovalHistory?application_gid="+o+"&extendorwaiverapproval_gid="+e+"&initiateextendorwaiver_gid="+a+"&documentcheckdtl_gid="+t+"&fromphysical_document="+n)},t.approvalsamagrosupplierdeferral_view=function(e,t,a,o){p.url("app/AgrTrnSuprDeferralMyApproval?application_gid="+o+"&extendorwaiverapproval_gid="+e+"&initiateextendorwaiver_gid="+a+"&documentcheckdtl_gid="+t)},t.approvalsamagrosupplierdeferral_historyview=function(e,t,a,o){p.url("app/AgrTrnSuprDeferralMyApprovalHistory?application_gid="+o+"&extendorwaiverapproval_gid="+e+"&initiateextendorwaiver_gid="+a+"&documentcheckdtl_gid="+t)},t.btn_viewtaskdetailclick=function(e){var a=document.getElementById("view_taskdetails");a.style.display="block";var o={trntask_gid:e};lockUI();var n="api/taskManagement/viewtaskapproval_details";l.getparams(n,o).then(function(e){unlockUI(),t.taskdetails=e.data})},t.servicedesk=function(){t.service_desk=!0,t.change_management=!1,t.task_managment=!1},t.changemanagment=function(){t.service_desk=!1,t.change_management=!0,t.task_managment=!1},t.taskmanagement=function(){t.service_desk=!1,t.change_management=!1,t.task_managment=!0},t.approval_view=function(e,t){p.url("app/MstRMWaiverApprovalView?rmpostccwaiver_gid="+e+"&application_gid="+t)},t.approvalhistory_view=function(e,t){p.url("app/MstRMWaiverApprovalHistoryView?rmpostccwaiver_gid="+e+"&application_gid="+t)},t.saonboardingverification=function(e){p.url("app/MstSBAInstitutionFinalApproval?hash="+v.encryptURL("lssacontactinstitution_gid="+e+"&lspage=InstitutePending"))},t.saonboardingverificationcompleted=function(e){p.url("app/MstSBAInstitutionFinalApproval?hash="+v.encryptURL("lssacontactinstitution_gid="+e+"&lspage=InstituteInitiate"))},t.saonboardingverificationpending=function(e){p.url("app/MstSBAIndividualFinalApproval?hash="+v.encryptURL("lssacontact_gid="+e+"&lspage=IndividualPending"))},t.verificationindividualcompleted=function(e){p.url("app/MstSBAIndividualFinalApprovalView?hash="+v.encryptURL("lssacontact_gid="+e+"&lspage=IndividualInitiate"))}}angular.module("angle").controller("myApprovalController",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function e(e,t,a,o,n,r,i,l,c,p,s,d){function u(){setInterval(m,6e3);var e=localStorage.getItem("user_gid"),a=s.apiList.userData.api;l.get(a+"?user_gid="+e).then(function(e){1==e.data.status&&(t.userData=e.data)})}function m(){var e="api/landingPage/landingpagedata";l.get(e).then(function(e){var a,o,n,r,i,l,c;if(a=null==e.data.count_acknowledgement?"0":e.data.count_acknowledgement,o=null==e.data.count_surrender?"0":e.data.count_surrender,null==e.data.count_tmpsurrender)var n="0";else n=e.data.count_tmpsurrender;r=null==e.data.count_tmpholding?"0":e.data.count_tmpholding,i=null==e.data.count_temporaryhandover?"0":e.data.count_temporaryhandover,c=null==e.data.count_myapprovals?"0":e.data.count_myapprovals,l=null==e.data.count_response?"0":e.data.count_response,t.notification_count=a+o+n+r+i+c+l})}var v=this;v.title="navbar",u()}angular.module("angle").controller("navbar",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route"]}(),function(){"use strict";function e(e,t,a,o,n,r,i,l,c,p,s,d,u){function m(){t.showval=!1,t.hidecontact=!1,t.hideapproval=!1;var e="api/newServiceTicket/category";l.get(e).then(function(e){t.category_list=e.data.category_list}),t.close=function(e){var t=document.getElementById(e);t.style.display="none"};var e="api/newServiceTicket/employee";l.get(e).then(function(e){t.employee_list=e.data.employee_list});var e="api/newServiceTicket/tmpcleardocument";l.get(e).then(function(e){})}var v=this;v.title="newServiceTicketcontroller",m(),t.onselectedchange=function(e){var a={category_gid:e,employee_gid:t.employee};if(console.log(a),""==t.employee&&""==t.radio_selfothers);else if("Self"==t.radio_selfothers){var o="api/newServiceTicket/employee_contactdetails";l.getparams(o,a).then(function(e){t.approvaldetails=e.data})}else{var o="api/newServiceTicket/employeecontactdetails";l.getparams(o,a).then(function(e){t.approvaldetails=e.data})}var o="api/newServiceTicket/subcategory";l.getparams(o,a).then(function(e){function a(t,a){t.subcategory=e.data,t.ok=function(){a.close("closed")}}if("Y"==e.data.approval_flag){n.open({templateUrl:"/myModalContent.html",controller:a,size:"md"});a.$inject=["$scope","$modalInstance"]}t.subcategory=e.data,t.subcategory_list=e.data.subcategory_list})},t.onselectedchangesubcategory=function(e){var a={subcategory_gid:e},o="api/newServiceTicket/type";l.getparams(o,a).then(function(e){t.type_list=e.data.type_list})},t.onselectedchangeemployee=function(e){var a={employee_gid:e,category_gid:t.category},o="api/newServiceTicket/employeecontactdetails";l.getparams(o,a).then(function(e){1==e.data.status?(t.txtcontact_number=e.data.employee_mobileno,t.txtemail_address=e.data.employee_emailid,t.approvaldetails=e.data,t.hideapproval=!0):c.alert("You Cannot able to Raise Ticket to this Selected Employee",{status:"info",pos:"top-center",timeout:3e3})}),t.hidecontact=!0},t.onchangeself=function(e){var a={category_gid:t.category},o="api/newServiceTicket/employee_contactdetails";l.getparams(o,a).then(function(e){1==e.data.status?(t.txtcontact_number=e.data.employee_mobileno,t.txtemail_address=e.data.employee_emailid,t.approvaldetails=e.data):c.alert("Contact Admin",{status:"info",pos:"top-center",timeout:3e3})})},t.isShowHide=function(e){"show"==e?(t.showval=!0,t.hideval=!0,t.hidecontact=!1,t.hideapproval=!1,console.log("show"),t.txtcontact_number="",t.txtemail_address="",c.alert("Select Employee Name..!!",{status:"info",pos:"top-center",timeout:3e3})):"hide"==e?(t.showval=!1,t.hideval=!1,t.hidecontact=!0,t.hideapproval=!0,t.employee="",t.txtcontact_number="",t.txtemail_address=""):(t.showval=!1,t.hideval=!1)},t.upload=function(e,a,o){var n={name:e[0].name,file:e[0]},r=cmnfunctionService.fnCheckValidDocType(e[0].name,"Default");if(0==r)return c.alert("File format is not supported..!",{status:"danger",pos:"top-center",timeout:3e3}),!1;var i=new FormData;i.append("fileupload",n.file),i.append("file_name",n.name),i.append("document_name",t.documentname),i.append("project_flag","Default"),t.uploadfrm=i;var p="api/newServiceTicket/UploadDocument";l.postFile(p,t.uploadfrm).then(function(e){t.filename_list=e.data.filename_list,$("#addupload").val(""),1==e.data.status?c.alert("Document Uploaded Successfully..!!",{status:"success",pos:"top-center",timeout:3e3}):c.alert("File Format Not Supported!",{status:"info",pos:"top-center",timeout:3e3})})},t.document_cancelclick=function(e,a){var o={id:e},n="api/newServiceTicket/documentdelete";l.getparams(n,o).then(function(a){1==a.data.status?(angular.forEach(t.filename_list,function(a,o){a.id==e&&t.filename_list.splice(o,1)}),c.alert("Document Deleted Successfully..!!",{status:"success",pos:"top-center",timeout:3e3}),m()):c.alert("Internal Error Occurred!",{status:"Warning",pos:"top-center",timeout:3e3})})},t.serviceticket_submit=function(){var e={category_gid:t.category,subcategory_gid:t.subcategory,type_gid:t.type,raisedfor:t.radio_selfothers,raisedemployee:t.employee,txtcontact_number:t.txtcontact_number,txtemail_address:t.txtemail_address,txt_title:t.txt_title,txt_remarks:t.txt_remarks,file_name:t.modelhere};lockUI(),l.post("api/newServiceTicket/raiseticket",e).then(function(e){unlockUI(),1==e.data.status?(a.go("app.itDashboard"),c.alert("Ticket Raised Successfully..!!",{status:"success",pos:"top-center",timeout:3e3})):c.alert("Contact Admin",{status:"info",pos:"top-center",timeout:3e3})})},t.back=function(){a.go("app.itDashboard")}}angular.module("angle").controller("newServiceTicketcontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route"]}(),function(){"use strict";function e(e,t,a,o,n,r,i,l,c,p,s,d,u,m){function v(){t.serviceapproval_gid=localStorage.getItem("serviceapproval_gid"),t.lsinternalapproval=localStorage.getItem("lsinternalapproval");var e={serviceapproval_gid:t.serviceapproval_gid},a="api/myApprovals/viewservice";l.getparams(a,e).then(function(e){t.servicedetails=e.data})}var g=this;g.title="serviceApprovalViewcontroller",v(),t.serviceapprove=function(e,t,o){var n={serviceapproval_gid:e,category_gid:t,complaint_gid:o};lockUI();var r="api/myApprovals/serviceapprove";l.post(r,n).then(function(e){unlockUI(),(e.data.status=!0)?c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}),a.go("app.myApproval")})},t.serviceapprove=function(e,t,o){function r(e,n){e.ok=function(){n.close("closed")},e.approve_click=function(r){var i={serviceapproval_gid:localStorage.getItem("serviceapproval_gid"),remarks:e.txtremarks,category_gid:t,complaint_gid:o};lockUI();var p="api/myApprovals/serviceapprove";l.post(p,i).then(function(e){unlockUI(),(e.data.status=!0)?c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}),n.close("closed"),a.go("app.myApproval")})}}var t=t,o=o;console.log(o),console.log(t);n.open({templateUrl:"/serviceapprove.html",controller:r,size:"md"});r.$inject=["$scope","$modalInstance"]},t.servicereject_click=function(e){function t(e,t){e.ok=function(){t.close("closed")},e.reject_click=function(o){var n={serviceapproval_gid:localStorage.getItem("serviceapproval_gid"),remarks:e.txtremarks};console.log(n),lockUI();var r="api/myApprovals/servicereject";l.post(r,n).then(function(e){unlockUI(),(e.data.status=!0)?c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}),t.close("closed"),a.go("app.myApproval")})}}var e=e;console.log(e);n.open({templateUrl:"/servicereject.html",controller:t,size:"md"});t.$inject=["$scope","$modalInstance"]},t.internalapprove_click=function(e){var t={serviceapproval_gid:e};lockUI();var o="api/myApprovals/serviceinternalapprove";l.post(o,t).then(function(e){unlockUI(),(e.data.status=!0)?c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3}),a.go("app.myApproval")})},t.back=function(){a.go("app.myApproval")}}angular.module("angle").controller("serviceApprovalViewcontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams"]}(),function(){"use strict";function e(e,t,a,o,n,r,i,l,c,p,s,d,u){function m(){lockUI();var e="api/viewServiceTicket/viewserviceticket";l.get(e).then(function(e){t.viewservice_list=e.data.viewservice_list,t.leadstage_name=e.data.leadstage_name,t.response_new=e.data.response_new,unlockUI()})}var v=this;v.title="viewServicecontroller",m();var g={complaint_gid:t.complaint_gid},_="api/viewServiceTicket/responselogdetails_view";lockUI(),l.getparams(_,g).then(function(e){t.responselog_detailslist=e.data.responselog_detailslist,unlockUI()}),t.btn_incompleteclick=function(e){var t={complaint_gid:e},a="api/viewServiceTicket/incompleteticket";lockUI(),l.getparams(a,t).then(function(e){location.reload(),unlockUI(),1==e.data.status&&c.alert("Ticket Incompleted ...!!",{status:"success",pos:"top-center",timeout:3e3})})},t.btn_closeclick=function(e){var t={complaint_gid:e},a="api/viewServiceTicket/closeticket";lockUI(),l.post(a,t).then(function(e){unlockUI(),location.reload(),1==e.data.status?c.alert("Ticket Closed Successfully..!!",{status:"success",pos:"top-center",timeout:3e3}):c.alert("Internal Error Occurred!",{status:"Warning",pos:"top-center",timeout:3e3})})},t.btn_viewclick=function(e){t.complaint_gid=localStorage.setItem("complaint_gid",e),
console.log(e),a.go("app.viewTicketDetails")},t.btnviewresponselog=function(e){function t(t,a){t.ok=function(){a.close("closed")},t.complaint_gid=e;var o={complaint_gid:t.complaint_gid},n="api/viewServiceTicket/responselogdetails_view";lockUI(),l.getparams(n,o).then(function(e){unlockUI(),t.responselog_detailslist=e.data.responselog_detailslist}),t.responseclick=function(e){var a={complaint_gid:t.complaint_gid,response_description:t.txtresponse},o="api/viewServiceTicket/response_logdetails";lockUI(),l.post(o,a).then(function(e){if(unlockUI(),$("#txt_response").val(""),1==e.data.status){var o="api/viewServiceTicket/responselogdetails_view";lockUI(),l.getparams(o,a).then(function(e){unlockUI(),t.responselog_detailslist=e.data.responselog_detailslist})}else c.alert("Internal Error Occurred!",{status:"Warning",pos:"top-center",timeout:3e3})})}}n.open({templateUrl:"/myModaledit.html",controller:t,size:"md"});t.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("viewServicecontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function e(e,t,a,o,n,r,i,l,c,p,s,d,u,m){function v(){var e={complaint_gid:localStorage.getItem("complaint_gid")},a="api/viewServiceTicket/ticketdetails_view";l.getparams(a,e).then(function(e){t.ticket_details=e.data});var a="api/viewServiceTicket/viewdocument";l.getparams(a,e).then(function(e){t.viewDocumentList=e.data.viewDocumentList})}var g=this;g.title="viewTicketDetailscontroller",v(),t.downloads=function(e,t){var a=e,o=a.split("StoryboardAPI"),n=o[1].replace("\\","/"),r=window.location.host,i=location.protocol+"//",l=i.concat(r,n),c=document.createElement("a"),p=t.split(".");c.download=p[0];var s=l;c.href=s,c.click()},t.back=function(){a.go("app.viewServiceTicket")}}angular.module("angle").controller("viewTicketDetailscontroller",e),e.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams"]}();