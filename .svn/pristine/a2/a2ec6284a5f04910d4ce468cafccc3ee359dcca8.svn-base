<h3>
    Document Complaince View
    <a href="#/app/documentCompliance">
        <button type="button" title="Back" class="pull-right btn btn-sm btn-info">
            <em class="fa fa-arrow-circle-left fa-1x"></em>
        </button>
    </a>
</h3>
<div ng-controller="documentComplianceViewcontroller">
    <div class="row">
        <div class="col-lg-3 col-sm-3 col-md-3" >
            <div class="list-group-item">
                <div class="media-box">
                    <div class="pull-left">
                        <span class="fa-stack">
                            <em class="fa fa-circle fa-stack-2x text-green"></em>
                            <em class="fa fa-upload fa-stack-1x fa-inverse text-white"></em>
                        </span>
                    </div>
                    <div class="media-box-body clearfix" ng-click="updatestatus()">

                        <div class="media-box-heading">
                            <div class="text-green m0">Update Status </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        </div>
    <br/>
        <div class="row">

            <div class="col-lg-7 col-sm-7 col-md-7">
                <div class="panel panel-primary" style="height:400px; ">
                    <div class="panel-heading">
                        <em class="icon icon-cloud-upload"></em>&nbsp;Compliance Details
                    </div>
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <br />
                            <div class="col-lg-3 col-sm-3 col-md-3">
                                <div class="form-group float-label">
                                    <label>Assigned Date</label>
                                    <p>{{assigned_date}}</p>
                                </div>
                            </div>
                            <div class="col-lg-3 col-sm-3 col-md-3 form-group float-label">
                                <label>Request Ref.No </label>
                                <p>{{requestref_no}}</p>
                            </div>
                            <div class="col-lg-3 col-md-3 col-sm-3">
                                <div class="form-group float-label">
                                    <label>Request type</label>
                                    <p>{{request_type}}</p>
                                </div>
                            </div>
                            <div class="col-lg-3 col-sm-3 col-md-3">
                                <div class="form-group float-label">
                                    <label>Request By</label>
                                    <p>{{assigned_by}}</p>
                                </div>
                            </div>

                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <label>Remarks</label>
                                <p ng-bind-html="seeklawyer_remarks">

                                </p>
                            </div>
                            <br />
                            <div class="col-lg-12 col-sm-12 col-md-12">
                                <b style="color:darkblue">
                                    <em class="fa fa-file text-primary fa-lg"></em>&emsp;
                                    Uploaded  Documents
                                </b>

                                <br />
                                <br />
                                <div class="row">
                                    <div class="col-lg-12 col-sm-12 col-md-12">
                                        <div class="col-lg-8 col-sm-8 col-md-8 table-responsive cell-border">
                                            <div class="table-responsive">
                                                <table class="table table-striped table-secondary table-bordered">

                                                    <tbody>
                                                        <tr ng-repeat="data in taggeddoc_list" width="100%">
                                                            <td>{{$index+1}}</td>
                                                            <td align="left" scope="col" title="'Document Name'">
                                                                {{data.document_name}}
                                                            </td>
                                                            <td>
                                                                <a class="btn" ng-click="downloads(data.document_path,data.document_name)"><span class="fa fa-download"></span></a>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                        </div>

                                    </div>
                                </div>


                            </div>

                        </div>
                    </div>
                </div>

            </div>
            <div class="col-lg-5 col-md-5 col-sm-5">
                <div class="panel panel-primary">
                    <div class="panel-heading">
                        <em class="icon icon-cloud-upload"></em>&nbsp;Upload Corrected Document
                    </div>
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    <label>File Upload</label>
                                </div>

                                <div class="col-lg-4 col-md-4 col-sm-4">
                                    <input type="file" id="addupload" ng-model="test_document" onchange="angular.element(this).scope().upload(this.files, angular.element(this).scope().documentupload, this.name)"
                                           data-classbutton="btn btn-default" data-classinput="form-control inline" data-button-text="Select" />
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12 col-sm-12 col-md-12">
                                <div class="col-lg-12 col-sm-12 col-md-12">
                                    <div ui-scroll-viewport="" style="height:115px; overflow-y: auto;" class="row">
                                        <div class="table-responsive">
                                            <table class="table table-striped table-secondary table-bordered">

                                                <tbody>
                                                    <tr ng-repeat="data in lawyerupload_list" width="100%">

                                                        <td align="left" scope="col" title="'Document Name'">
                                                            {{data.file_name}}
                                                        </td>
                                                        <td align="center" scope="col" data-title="'Action'">

                                                            <button title="Delete Document"
                                                                    ng-click="deletedocument(data.lawyerdocument_gid)"
                                                                    class="btn btn-danger">
                                                                <em class="fa fa-close"></em>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="text-center">

                                <button type="button" class="btn btn-success btn-md" ng-disabled="userform.$invalid" ng-click="correcteddoc_submit()"><i class="fa fa-arrow-circle-right"></i>&nbsp;&nbsp;Submit</button>&nbsp;&nbsp;
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12 col-sm-12 col-md-12">
                                <div class="col-lg-12 col-sm-12 col-md-12">
                                    <div ui-scroll-viewport="" style="height:150px; overflow-y: auto;" class="row">
                                        <div class="table-responsive">
                                            <table class="table table-striped table-secondary table-bordered">

                                                <tbody>
                                                    <tr ng-repeat="data in correcteddoc_list" width="100%">

                                                        <td align="left" scope="col" title="'Document Name'">
                                                            {{data.file_name}}
                                                        </td>
                                                        <td>
                                                            <a class="btn" ng-click="downloadsdocument(data.file_path,data.file_name)"><span class="fa fa-download"></span></a>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12">

            <div class="panel panel-primary">
                <div class="panel-heading">
                    <em class="fa fa-question-circle  fa-lg"> </em>&emsp; Conversation With Samunnati Legal Team
                    <div class="pull-right">
                        <span ng-if="totalmsg_count!=0">
                            <strong>{{totalmsg_count}}</strong>
                        </span>
                    </div>
                </div>
                <div>
                    <div ng-show="lawyer_summary">
                        <scrollable height="250" class="list-group">

                            <a class="list-group-item" ng-click="ShowConversation(requestcompliance2lawyerdtl_gid,'S',newmsg_count,'Samunnati Legal Team')" >
                                <div class="media-box">
                                    <div class="pull-left">
                                        <div class="card-offset pull-right">

                                            <button type="button" class="btn btn-info btn-circle btn-sm"><strong>S</strong></button>
                                        </div>
                                    </div>

                                    <div class="media-box-body clearfix">
                                        <div class="pull-right">
                                            <span class="badge badge-xs bg-pink" ng-if="newmsg_count!=0">{{newmsg_count}}</span>
                                        </div>

                                        <strong class="media-box-heading text-primary">
                                           Samunnati Legal Team
                                        </strong>


                                        <p class="mb-sm">
                                            <medium>{{lastconversation}}</medium>
                                        </p>
                                    </div>
                                </div>
                            </a>
                            <a class="list-group-item" ng-click="ShowConversation(requestcompliance_gid,'LG',groupnewmsg_count,'Lawyer Group')">
                                <div class="media-box">
                                    <div class="pull-left">
                                        <div class="card-offset pull-right">
                                            <button type="button" class="btn btn-info btn-circle btn-sm"><strong>LG</strong></button>
                                        </div>
                                    </div>
                                    <div class="media-box-body clearfix">
                                        <!--<div class="pull-right">
                                            <span class="badge badge-xs bg-pink" ng-if="groupnewmsg_count!=0">{{groupnewmsg_count}}</span>
                                        </div>-->

                                        <strong class="media-box-heading text-pink">
                                            Lawyer Group
                                        </strong>


                                        <p class="mb-sm">
                                            <medium>{{grouplastconversation}}</medium>
                                        </p>
                                    </div>
                                </div>
                            </a>
                        </scrollable>
                        
                    </div>
                    <div class="panel" ng-hide="lawyer_summary">
                        <div class="panel-heading">
                            <div class="media-box">
                                <div class="pull-left">
                                    <div class="card-offset">
                                        <button type="button"
                                                class="btn btn-info btn-circle btn-sm">
                                            <strong>{{name_initial}}</strong>
                                        </button>
                                    </div>
                                </div>
                                <div class="media-box-body clearfix">
                                    <div class="pull-right">
                                        <span class="badge badge-xs bg-pink" ng-if="newmsg_count!=0">{{newmsg_count}}</span>

                                    </div>
                                    <strong class="media-box-heading text-primary">
                                        {{lawyeruser_name}}
                                    </strong><br>
                                    <div ng-if="name_initial=='LG'">
                                        <i>
                                            You;
                                            <span ng-bind-html="group_member">

                                            </span>


                                        </i>
                                    </div>
                                   


                                </div>
                            </div>
                        </div>
                        <div class="panel-body">
                            <div class="media-box-body">
                                <scrollable height="400" class="list-group">
                                    <div ng-repeat="data in conversationList">
                                        <div ng-switch="data.myself_flag">
                                            <div class="row">
                                                <div class="col-lg-12 col-sm-12 col-md-12">
                                                    &nbsp;<div style="padding-left:200px;" ng-switch-when="Y" class="col-lg-12 col-md-12 col-sm-12">
                                                        <div class="media bb p bg-green-50" style="width:initial;border-radius:15px;">
                                                            <small class="pull-right text-bold">{{data.created_date}}</small>
                                                            <div class="media-body">
                                                                <span class="media-heading">
                                                                    <p class="m0">
                                                                        <strong class="text-info">{{data.user_name}}</strong>

                                                                    </p>
                                                                    <p class="m0" ng-bind-html="data.msgconversation"></p>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div ng-switch-when="N" style="padding-right:200px;" class="col-lg-12 col-sm-12 col-md-12">
                                                        <div class="media bb p bg-deep-orange-50" style="width:initial;border-radius:15px;">
                                                            <small class="pull-right text-bold">
                                                                {{data.created_date}}
                                                            </small>
                                                            <div class="media-body">
                                                                <span class="media-heading">
                                                                    <p class="m0">
                                                                        <strong class="text-info">{{data.user_name}}</strong>&nbsp;&nbsp;
                                                                        <a ng-if="data.msgview_flag == 'N'" title="New" style="color:white;" class="blinking ng-binding ng-scope label label-pink">
                                                                            <b>New</b>
                                                                        </a>
                                                                    </p>
                                                                    <p class="m0 " ng-style="data.msgview_flag == 'N'?{'color':'red'}:{}" ng-bind-html="data.msgconversation"></p>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>


                                            </div>

                                        </div>
                                    </div>
                                </scrollable>
                            </div>

                        </div>
                        <div class="panel-footer">
                            <div class="row">
                                <div class="col-lg-12 col-sm-12 col-md-12">
                                    <div class="col-lg-10 col-sm-10 col-md-10">
                                        <textarea id="message_content" ng-model="message_content" placeholder="Reply here..." class="form-control"></textarea>
                                    </div>
                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                        <button type="button" ng-disabled="!message_content" ng-click="LegalConversation()" class="btn btn-effect-ripple btn-primary">Send </button>
                                        <button type="button" ng-click="CloseConversation()" class="btn btn-effect-ripple btn-danger">Close </button>

                                    </div>
                                </div>

                            </div>



                        </div>
                    </div>
                </div>

            </div>


        </div>
    </div>
        <div class="row">
            <div class="text-center">
                <a class="btn btn-info" ng-click="back()">
                    <em class="fa fa-arrow-left"></em>
                    <span>Back</span>
                </a>
            </div>
        </div>

        <script type="text/ng-template" id="/uploadcorrecteddocument.html">
            <div class="modal-header bg-green-200">
                <h4 id="myModalLabel" class="modal-title">
                    &emsp;
                    <span class="btn-label bg-green-200">
                        <i class="fa fa-upload"><b> Upload Document</b></i>
                    </span>
                </h4>
            </div>
            <div class="modal-body">
                <div class="row" style="display:none;">
                    <div class="col-lg-12 col-md-12 col-sm-12 ">
                    </div>
                </div>
                <div class="pd-sm-10">
                    <form novalidate="" name="userform3" ng-submit="form.submitForm1()" autocomplete="off" class="form-validate form-horizontal">
                        <br />
                        <div class="row">
                            <div class="col-lg-12 col-sm-12 col-md-12 ">
                                <div class="col-lg-5 col-sm-5 col-md-5">
                                    <strong>Upload Corrected Document</strong>
                                </div>
                                <div class="col-lg-5 col-sm-5 col-md-5">

                                    <input type="file" id="addupload" ng-model="test_document" onchange="angular.element(this).scope().uploaddoc(this.files, angular.element(this).scope().documentupload, this.name)"
                                           data-classbutton="btn btn-default" data-classinput="form-control inline" data-button-text="Select" />

                                </div>
                            </div>
                        </div>
                        <br />
                        <div class="row">
                            <div class="col-lg-12 col-sm-12 col-md-12 ">
                                <div class="col-lg-12 col-sm-12 col-md-12 ">
                                    <div class="mda-form-group float-label">
                                        <div class="mda-form-group">
                                            <textarea ng-model="txtcorrected_remarks" required="" rows="4" aria-multiline="true" tabindex="0" aria-invalid="false" class="mda-form-control"></textarea>
                                            <label>Remarks</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

            </div>
            <div>
                <div class="text-center">
                    <button type="button" class="btn btn-success btn-md" ng-disabled="userform3.$invalid" ng-click="documentupload()">
                        <i class="fa fa-upload"></i> &nbsp;&nbsp;Upload
                    </button>
                    <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                    <br />
                </div>
                <br />
            </div>
        </script>

    <script type="text/ng-template" id="/statusupdation.html">
        <div class="modal-header bg-green-200 ng-scope">
            <h4 id="myModalLabel" class="modal-title">
                <span class="btn-label bg-green-200">
                    <em class="fa fa-upload"></em>
                    Update Status
                </span>
            </h4>
        </div>
        <div class="modal-body ng-scope">
            <div class="pd-sm-10">

                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Request  Ref No</strong><br />
                            <p>{{requestref_no}}</p>
                        </div>
                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Assigned  Date</strong>
                            <br />
                            <p>{{request_date}}</p>
                        </div>
                        <div class="col-lg-4  col-sm-4 col-md-4">
                            <strong class="mt0">Request type</strong>
                            <br />
                            <p>{{request_type}}</p>
                        </div>

                    </div>
                </div>


                <div class="row">
                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <div class="col-lg-12 col-md-12 col-sm-12">

                            <label><strong>Status </strong> <span style="color:red">*</span></label>
                            <select name="cbostatus" ng-model="cbostatus" class="form-control ng-valid ng-touched ng-valid-parse"
                                    size="1">
                                <option value=""> ---Select Status--- </option>
                                <option value="Work In Progress"> Work In Progress</option>
                                <option value="Rejected"> Rejected </option>
                                <option value="Completed"> Completed</option>

                            </select>
                        </div>
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <div class="col-lg-12 col-md-12 col-sm-12" ng-show="cbostatus=='Rejected'">

                            <label><strong>Remarks </strong> <span style="color:red">*</span></label>
                            <textarea name="txtrejected_remarks"
                                      ng-model="txtrejected_remarks" class="form-control" rows="3"></textarea>
                        </div>
                    </div>
                </div>
                <div class="row" ng-show="mandatoryfields">

                    <div class="col-sm-12 col-md-12 col-lg-12 text-center">

                        <label style="color:red;"> Enter Remarks</label>
                        <br />
                    </div>
                </div>
                <div class="class">
                    <br />
                    <div class="text-center">
                        <a class="btn btn-success" ng-click="submit()" ng-disabled!="cbostatus.$invalid">
                            <em class="fa fa-check"></em>
                            <span>Update</span>
                        </a>
                        <a class="btn btn-danger" ng-click="ok()">
                            <em class="fa fa-close"></em>
                            <span>Cancel</span>
                        </a>
                    </div>
                </div>



            </div>

        </div>
    </script>
    </div>