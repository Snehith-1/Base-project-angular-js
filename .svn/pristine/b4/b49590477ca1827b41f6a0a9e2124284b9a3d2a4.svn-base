!function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l){function g(){e.rdbQmandatory="No";var t="api/FndQuestionnarieMaster/GetCampaigntype";c.get(t).then(function(t){e.campaigntypelist=t.data.campaigntype_list});var t="api/FndTrnCampaign/GetQuestionCategory";c.get(t).then(function(t){e.categorytype_list=t.data.category_list})}function _(t){var a={Questionnarie_gid:t},n="api/FndQuestionnarieMaster/GetAnswerDesc";c.getparams(n,a).then(function(t){e.answerdesc_list=t.data.questionnarieanswerlist,null==t.data.length?e.Qtype_disabled=!1:e.Qtype_disabled=!0})}var y=this;y.title="FndAddQuestionController",e.Questionnarie_gid=m.search().Questionnarie_gid;m.search().Questionnarie_gid;g();var f;e.answerdesc_add=function(){if(void 0==e.txtAnswerDescription||""==e.txtAnswerDescription)return void d.alert("Enter Answer description",{status:"warning",pos:"top-center",timeout:3e3});if(void 0==e.cboCampaign_type||"-----Select Campaign Type-----"==e.cboCampaign_type)return d.alert("Enter Campaign Type",{status:"warning",pos:"top-center",timeout:3e3}),void(e.txtAnswerDescription="");var t={campaigntype_gid:e.cboCampaign_type.campaigntype_gid,answer_desc:e.txtAnswerDescription,questionnarie_type:e.Q_type},a="api/FndQuestionnarieMaster/PostAnswerDesc";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(f=t.data.Questionnarie_gid,console.log("test"+f),d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3})):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),_(f),e.txtAnswerDescription="",e.rdbprimarymobile_no="",e.rdbwhatsappmobile_no="",0==e.rdbprimarymobile_no,e.Qtype_disabled=!0})},e.answerdesc_delete=function(t){var e={questionnarieanswer_gid:t};console.log(e);var a="api/FndQuestionnarieMaster/DeleteAnswerDesc";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),_(f)})},e.Campaign_typeChange=function(){e.cboCategory="-----Select Category-----",e.txtQuestionnariename="",e.Q_type="-----Select Answer Type-----",e.invisible=!0,e.Qtype_disabled=!1,e.invisible=!1},e.TypeChange=function(t){"Text"==t||""==t||"Number"==t||""==t||"-----Select Answer Type-----"==t?e.invisible=!1:e.invisible=!0};e.Back=function(){n.go("app.FndMstQuestionBankMaster")},e.submit=function(){if(void 0==e.cboCampaign_type||"-----Select Campaign Type-----"==e.cboCampaign_type)d.alert("Enter Campaign Type",{status:"warning",pos:"top-center",timeout:3e3});else if(void 0==e.cboCampaign_type||""==e.txtQuestionnariename)d.alert("Enter Questionnarie title",{status:"warning",pos:"top-center",timeout:3e3});else if(void 0==e.cboCategory||"-----Select Category-----"==e.cboCategory)d.alert("Enter Select Category",{status:"warning",pos:"top-center",timeout:3e3});else if(void 0==e.Q_type||"-----Select Answer Type-----"==e.Q_type)d.alert("Enter Answer Type",{status:"warning",pos:"top-center",timeout:3e3});else{var t={category_gid:e.cboCategory.categorytype_gid,campaigntype_gid:e.cboCampaign_type.campaigntype_gid,questionnarie_name:e.txtQuestionnariename,questionnarie_type:e.Q_type,rbo_mandatory:e.rdbQmandatory,lms_code:e.txtLmscode,remarks:e.txtaddremarks,bureau_code:e.txtBureaucode,Questionnarie_gid:f},a="api/FndQuestionnarieMaster/CreateQuestionnarie";c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),n.go("app.FndMstQuestionBankMaster")):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}}}angular.module("angle").controller("FndAddQuestionController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l){function g(){e.rdbQmandatory="No",""==e.txtAnswerDescription;var t={Questionnarie_gid:e.Questionnarie_gid},a="api/FndQuestionnarieMaster/GetCampaigntype";c.get(a).then(function(t){e.campaigntypelist=t.data.campaigntype_list,unlockUI()});var a="api/FndTrnCampaign/GetQuestionCategory";c.get(a).then(function(t){e.categorytype_list=t.data.category_list});var a=({Questionnarie_gid:e.Questionnarie_gid},"api/FndQuestionnarieMaster/QuestionnarieEdit");c.getparams(a,t).then(function(t){e.txtEditQuestionnariename=t.data.Questionnarie_name,e.cboCampaign_type=t.data.campaigntype_gid,e.rdbQmandatory=t.data.mandatory,e.Q_type=t.data.Questionnarie_type,e.txtaddremarks=t.data.remarks,e.cboCategory=t.data.categorytype_gid;var a={Questionnarie_gid:e.Questionnarie_gid},n="api/FndQuestionnarieMaster/GetEditAnswerDesc";c.getparams(n,a).then(function(t){e.answerdesc_list=t.data.questionnarieanswerlist}),"Text"==e.Q_type||""==e.Q_type||"Number"==e.Q_type||""==e.Q_type?e.invisible=!1:e.invisible=!0,unlockUI()})}function _(t){var a={Questionnarie_gid:t},n="api/FndQuestionnarieMaster/GetEditAnswerDesc";c.getparams(n,a).then(function(t){e.answerdesc_list=t.data.questionnarieanswerlist,null==t.data.length?e.Qtype_disabled=!1:e.Qtype_disabled=!0})}var y=this;y.title="FndEditQuestionController",e.Questionnarie_gid=localStorage.getItem("Questionnarie_gid");g(),e.Campaign_typeChange=function(){e.cboCategory="-----Select Category-----",e.txtQuestionnariename="",e.Q_type="-----Select Answer Type-----",e.invisible=!1},e.answerdesc_add=function(){if(void 0==e.txtAnswerDescription||""==e.txtAnswerDescription)d.alert("Enter Answer description");else{var t={answer_desc:e.txtAnswerDescription,questionnarie_type:e.Q_type,questionnarie_gid:e.Questionnarie_gid},a="api/FndQuestionnarieMaster/PostEditAnswerDesc";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3});var a={Questionnarie_gid:e.Questionnarie_gid},n="api/FndQuestionnarieMaster/GetEditAnswerDesc";c.getparams(n,a).then(function(t){e.answerdesc_list=t.data.questionnarieanswerlist,null==t.data.length?e.Qtype_disabled=!1:e.Qtype_disabled=!0}),e.txtAnswerDescription="",e.rdbprimarymobile_no="",e.rdbwhatsappmobile_no="",0==e.rdbprimarymobile_no,e.Qtype_disabled=!0})}},e.answerdesc_delete=function(t){var a={questionnarieanswer_gid:t};console.log(a);var n="api/FndQuestionnarieMaster/DeleteAnswerDesc";lockUI(),c.getparams(n,a).then(function(t){unlockUI(),1==t.data.status?d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),_(e.Questionnarie_gid)})},e.TypeChange=function(t){"Text"==t||""==t||"Number"==t||""==t?e.invisible=!1:e.invisible=!0},e.Back=function(){n.go("app.FndMstQuestionBankMaster")},e.Edit_submit=function(){if(""==e.txtEditQuestionnariename||void 0==e.txtEditQuestionnariename)d.alert("Please Fill Questionnarie title");else{var t={campaigntype_gid:e.cboCampaign_type,categorytype_gid:e.cboCategory,questionnarie_name:e.txtEditQuestionnariename,questionnarie_type:e.Q_type,rbo_mandatory:e.rdbQmandatory,lms_code:e.txtLmscode,remarks:e.txtaddremarks,bureau_code:e.txtBureaucode,Questionnarie_gid:e.Questionnarie_gid},a="api/FndQuestionnarieMaster/QuestionnarieEditSubmit";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),n.go("app.FndMstQuestionBankMaster")})}}}angular.module("angle").controller("FndEditQuestionController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l){function g(){var t="api/FndMstCampaignTypeMaster/GetCampaignType";lockUI(),c.get(t).then(function(t){e.campaigntype_data=t.data.campaigntype_list,unlockUI()})}var _=this;_.title="FndMstCampaignTypeMasterController",g(),e.popupcampaigntype=function(){function t(t,e){t.ok=function(){e.close("closed")},t.campaigntypeSubmit=function(){var a={campaigntype_gid:t.campaigntype_gid,campaigntype_name:t.txtcampaign_type,campaigntype_code:t.txtcampaigntype_code,lms_code:t.txtlms_code,remarks:t.txtaddremarks,bureau_code:t.txtbureau_code},n="api/FndMstCampaignTypeMaster/CreateCampaignType";c.post(n,a).then(function(t){1==t.data.status?(e.close("closed"),d.alert("Campaign Type Added Successfully..!!","success"),g()):d.alert(t.data.message,"warning")}),e.close("closed"),g()}}a.open({templateUrl:"/myModalContent.html",controller:t,size:"md",backdrop:"static",keyboard:!1});t.$inject=["$scope","$modalInstance"]},e.editcampaigntype=function(t){function e(e,a){var n={campaigntype_gid:t},s="api/FndMstCampaignTypeMaster/EditCampaignType";c.getparams(s,n).then(function(t){e.txteditcampaigntype_code=t.data.campaigntype_code,e.txteditlms_code=t.data.lms_code,e.txteditbureau_code=t.data.bureau_code,e.txteditcampaign_type=t.data.campaigntype_name,e.txteditremarks=t.data.remarks,e.campaigntype_gid=t.data.campaigntype_gid}),e.ok=function(){a.close("closed")},e.campaigntypeUpdate=function(){var t="api/FndMstCampaignTypeMaster/UpdateCampaignType",n={lms_code:e.txteditlms_code,bureau_code:e.txteditbureau_code,campaigntype_code:e.txteditcampaigntype_code,campaigntype_name:e.txteditcampaign_type,remarks:e.txteditremarks,campaigntype_gid:e.campaigntype_gid};c.post(t,n).then(function(t){1==t.data.status?(a.close("closed"),d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),g()):(a.close("closed"),d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}))}),a.close("closed")}}a.open({templateUrl:"/editcampaigntype.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.showPopover=function(t){function e(e,a){var n={campaigntype_gid:t},s="api/FndMstCampaignTypeMaster/EditCampaignType";c.getparams(s,n).then(function(t){e.txteditcampaigntype_code=t.data.campaigntype_code,e.txteditlms_code=t.data.lms_code,e.txteditbureau_code=t.data.bureau_code,e.txteditcampaign_type=t.data.campaigntype_name,e.txteditremarks=t.data.remarks,e.campaigntype_gid=t.data.campaigntype_gid}),e.ok=function(){a.close("closed")}}a.open({templateUrl:"/showremarks.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.Status_update=function(t){function e(e,a){var n={campaigntype_gid:t},s="api/FndMstCampaignTypeMaster/EditCampaignType";c.getparams(s,n).then(function(t){e.campaigntype_gid=t.data.campaigntype_gid,e.txtcampaign_type=t.data.campaigntype_name,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")},e.update_status=function(){var t={campaigntype_name:e.txtcampaign_type,campaigntype_gid:e.campaigntype_gid,remarks:e.txtremarks,rbo_status:e.rbo_status},n="api/FndMstCampaignTypeMaster/InactiveCampaignType";lockUI(),c.post(n,t).then(function(t){unlockUI(),1==t.data.status?d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g()}),a.close("closed")};var s="api/FndMstCampaignTypeMaster/CampaignTypeInactiveLogview";lockUI(),c.getparams(s,n).then(function(t){e.campaigntypeinactivelog_data=t.data.campaigntype_list,unlockUI()})}a.open({templateUrl:"/statuscampaigntype.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.deletecampaigntype=function(t){var e={campaigntype_gid:t};o.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/FndMstCampaignTypeMaster/DeleteCampaignType";c.getparams(a,e).then(function(t){1==t.data.status?g():(d.alert("Error Occurred While Deleting Campaign Type !!!",{status:"warning",pos:"top-center",timeout:3e3}),g())}),o.swal("Deleted Successfully!")}})}}angular.module("angle").controller("FndMstCampaignTypeMasterController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g,_){function y(){h.open3=function(t){t.preventDefault(),t.stopPropagation(),h.opened3=!0},h.open4=function(t){t.preventDefault(),t.stopPropagation(),h.opened4=!0},h.open5=function(t){t.preventDefault(),t.stopPropagation(),h.opened5=!0},h.formats=["dd-MM-yyyy"],h.format=h.formats[0],h.dateOptions={formatYear:"yy",startingDay:1},e.customer_gid=_.decryptURL(m.search().hash).lscustomer_gid,e.fndmanagement2cheque_gid=_.decryptURL(m.search().hash).lsfndmanagement2cheque_gid}function f(){var t="api/FndMstCustomerMasterAdd/GetChequeDocumentList";c.get(t).then(function(t){e.chequedocument_list=t.data.chequedocument_list})}var h=this;h.title="FndMstcustomerAddChequeController",e.customer_gid=_.decryptURL(m.search().hash).customer_gid;_.decryptURL(m.search().hash).customer_gid;y(),e.back=function(){m.url("app/FndMstCustomerMasterEdit?hash="+_.encryptURL("lscustomer_gid="+e.customer_gid+"&lstab=edit"))};var b="api/FndMstCustomerMasterAdd/GetDropDownUdc";lockUI(),c.get(b).then(function(t){e.bankname_list=t.data.bankname_list,unlockUI()}),e.delete_cheque=function(t){lockUI();var e={customer_gid:t},a="api/FndMstCustomerMasterAdd/DeleteChequeDetail";c.getparams(a,e).then(function(t){1==t.data.status?d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):d.alert(t.data.message,{status:"danger",pos:"top-center",timeout:3e3}),cheque_list(),unlockUI()})},e.downloads=function(t,e){g.Downloaddocument(t,e)},e.add_cheque=function(){var t={accountholder_name:e.txtaccountholder_name,account_number:e.txtaccount_number,bank_name:e.txtbank_name,cheque_no:e.txtcheque_no,ifsc_code:e.txtifsc_code,micr:e.txtmicr,branch_address:e.txtbranch_address,branch_name:e.txtbranch_name,city:e.txtcity,district:e.txtdistrict,state:e.txtstate,mergedbankingentity_gid:e.cbomergedbanking_entity.bankname_gid,mergedbankingentity_name:e.cbomergedbanking_entity.bankname_name,special_condition:e.txtspecial_condition,general_remarks:e.txtgeneral_remarks,cts_enabled:e.rbocts_enabled,cheque_type:e.cbocheque_type,date_chequetype:e.txtdate_chequetype,date_chequepresentation:e.txtdate_chequepresentation,status_chequepresentation:e.txtstatus_chequepresentation,date_chequeclearance:e.txtdate_chequeclearance,status_chequeclearance:e.txtstatus_chequeclearance},a="api/FndMstCustomerMasterAdd/PostChequeDetail";c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),m.url("app/FndMstCustomerMasterEdit?hash="+_.encryptURL("lscustomer_gid="+e.customer_gid+"&lstab=edit"))):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),cheque_list(),e.txtaccountholder_name="",e.txtaccount_number="",e.txtbank_name="",e.txtcheque_no="",e.txtifsc_code="",e.txtmicr="",e.txtbranch_address="",e.txtbranch_name="",e.txtcity="",e.txtdistrict="",e.txtstate="",e.cbomergedbanking_entity="",e.txtspecial_condition="",e.txtgeneral_remarks="",e.rbocts_enabled="",e.cbocheque_type="",e.txtdate_chequetype="",e.txtdate_chequepresentation="",e.txtstatus_chequepresentation="",e.txtdate_chequeclearance="",e.txtstatus_chequeclearance="",e.uploadfrm=void 0,e.chequedocument_list=null,m.url("app/FndMstCustomerMasterEdit?hash="+_.encryptURL("lscustomer_gid="+e.customer_gid+"&lstab=edit"))})},e.UploadDocument=function(t,a,n){var s={name:t[0].name,file:t[0]},o=_.fnCheckValidDocType(t[0].name,"");if(0==o)return d.alert("File format is not supported..!",{status:"danger",pos:"top-center",timeout:3e3}),!1;var i=new FormData;if(i.append("fileupload",s.file),i.append("file_name",s.name),i.append("document_name",e.documentname),i.append("project_flag","Default"),e.uploadfrm=i,void 0==e.uploadfrm)return void alert("Document is not Available..!");var r="api/FndMstCustomerMasterAdd/ChequeDocumentUpload";lockUI(),c.postFile(r,e.uploadfrm).then(function(t){if(1==t.data.status){var a="api/Kyc/ChequeOCR";c.postFile(a,e.uploadfrm).then(function(t){101==t.data.statusCode?(e.txtaccountholder_name=t.data.result.name[0],e.txtaccount_number=t.data.result.accNo,e.txtbank_name=t.data.result.bank,e.txtcheque_no=t.data.result.chequeNo,e.txtifsc_code=t.data.result.ifsc,e.txtmicr=t.data.result.micr,e.txtbranch_address=t.data.result.bankDetails.address,e.txtbranch_name=t.data.result.bankDetails.branch,e.txtcity=t.data.result.bankDetails.city,e.txtdistrict=t.data.result.bankDetails.district,e.txtstate=t.data.result.bankDetails.state):d.alert("Error in fetching values from document..!","warning")}),d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3})}else d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3});$("#file").val(""),e.uploadfrm=void 0,f(),unlockUI()})},e.delete_document=function(t){lockUI();var a={cheque2document_gid:t},n="api/FndMstCustomerMasterAdd/ChequeDocumentDelete";c.getparams(n,a).then(function(t){e.documentupload_list=t.data.documentupload_list,1==t.data.status?d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):d.alert(t.data.message,{status:"danger",pos:"top-center",timeout:3e3}),f(),unlockUI()})}}angular.module("angle").controller("FndMstcustomerAddChequeController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l){function g(){var t="api/FndMstCustomerApprovingMaster/GetCustomerApproving";lockUI(),r.get(t).then(function(t){e.customerapproving_list=t.data.customerapproving_list,unlockUI()})}var _=this;_.title="FndMstCustomerApprovingMasterController",g(),e.customerapprovingadd=function(){function t(t,e){t.ok=function(){e.close("closed")};var a="api/FndMstCustomerMasterAdd/GetPendingCustomer";r.get(a).then(function(e){t.customerlist=e.data.customerpending_list});var a="api/SystemMaster/GetEmployeelist";lockUI(),r.get(a).then(function(e){t.employee_list=e.data.employeelist,unlockUI()}),t.submit=function(){var a="",n="";void 0==t.cboCustomer&&null==t.cboCustomer||(a=t.cboCustomer.customer_gid,n=t.cboCustomer.customer_name);var s="",o="";void 0==t.cboemployee&&null==t.cboemployee||(s=t.cboemployee.employee_gid,o=t.cboemployee.employee_name);var i={approver_gid:s,approver_name:o,customer_gid:a,customer_name:n,customerapproving_code:t.txtcustomerapproving_code,lms_code:t.txtlms_code,remarks:t.txtaddremarks,bureau_code:t.txtbureau_code},d="api/FndMstCustomerApprovingMaster/CreateCustomerApproving";lockUI(),r.post(d,i).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),e.close("closed"),g()):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})}),e.close("closed")}}s.open({templateUrl:"/addcustomerapproving.html",controller:t,backdrop:"static",keyboard:!1,size:"md"});t.$inject=["$scope","$modalInstance"]},e.editcustomerapproving=function(t){function e(e,a){var n="api/SystemMaster/GetEmployeelist";lockUI(),r.get(n).then(function(t){e.employee_list=t.data.employeelist,unlockUI()});var s={customerapproving_gid:t},n="api/FndMstCustomerApprovingMaster/EditCustomerApproving";r.getparams(n,s).then(function(t){e.txteditcustomerapproving_code=t.data.customerapproving_code,e.txteditlms_code=t.data.lms_code,e.txteditbureau_code=t.data.bureau_code,e.txtcustomer_name=t.data.customer_name,e.txteditremarks=t.data.remarks,e.customerapproving_gid=t.data.customerapproving_gid,e.cboemployee_editlist=t.data.employeeem_list,e.cboemployee_edit=t.data.approver_gid}),e.ok=function(){a.close("closed")},e.update=function(){var t="api/FndMstCustomerApprovingMaster/UpdateCustomerApproving",n={customerapproving_code:e.txteditcustomerapproving_code,customer_name:e.txtcustomer_name,approver_gid:e.cboemployee_edit,lms_code:e.txteditlms_code,bureau_code:e.txteditbureau_code,remarks:e.txteditremarks,customerapproving_gid:e.customerapproving_gid};r.post(t,n).then(function(t){1==t.data.status?(a.close("closed"),c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),g()):(a.close("closed"),c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}))}),a.close("closed")}}s.open({templateUrl:"/editcustomerapproving.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.showPopover=function(t,e){function a(e,a){var n={customerapproving_gid:t};lockUI();var s="api/FndMstCustomerApprovingMaster/GetEmployeeName";r.getparams(s,n).then(function(t){unlockUI(),e.employee_name=t.data.employee_name,e.customerapproving_name=t.data.customerapproving_name}),e.ok=function(){a.close("closed")}}s.open({templateUrl:"/showemployee.html",controller:a,backdrop:"static",keyboard:!1,size:"md"});a.$inject=["$scope","$modalInstance"]},e.showsPopover=function(t){function e(e,a){var n={customerapproving_gid:t},s="api/FndMstCustomerApprovingMaster/EditCustomerApproving";r.getparams(s,n).then(function(t){e.txteditcustomerapproving_code=t.data.customerapproving_code,e.txteditlms_code=t.data.lms_code,e.txteditbureau_code=t.data.bureau_code,e.customer_approving=t.data.customerapproving_name,e.txteditremarks=t.data.remarks,e.customerapproving_gid=t.data.customerapproving_gid,e.cboemployee_editlist=t.data.employeeem_list,e.employee=t.data.employee}),e.ok=function(){a.close("closed")}}s.open({templateUrl:"/showremarks.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.Status_update=function(t){function e(e,a){var n={customerapproving_gid:t},s="api/FndMstCustomerApprovingMaster/EditCustomerApproving";r.getparams(s,n).then(function(t){e.customerapproving_gid=t.data.customerapproving_gid,e.customer_approving=t.data.customerapproving_name,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")},e.update_status=function(){var n={customerapproving_gid:t,customerapproving_name:e.txtcustomerapproving_name,remarks:e.txtremarks,rbo_status:e.rbo_status},s="api/FndMstCustomerApprovingMaster/InactiveCustomerApproving";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g()}),a.close("closed")};var o={customerapproving_gid:t},s="api/FndMstCustomerApprovingMaster/CustomerApprovingInactiveLogview";lockUI(),r.getparams(s,o).then(function(t){e.customerapprovinginactivelog_list=t.data.customerapproving_list,unlockUI()})}s.open({templateUrl:"/statuscustomerapproving.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.deletecustomerapproving=function(t){var e={customerapproving_gid:t};p.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/FndMstCustomerApprovingMaster/DeleteCustomerApproving";r.getparams(a,e).then(function(t){1==t.data.status?g():(c.alert("Error Occurred While Deleting Customer Approving !!!",{status:"warning",pos:"top-center",timeout:3e3}),g())}),p.swal("Deleted Successfully!")}})}}angular.module("angle").controller("FndMstCustomerApprovingMasterController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){var t={fndmanagement2cheque_gid:e.fndmanagement2cheque_gid},a="api/FndMstCustomerMasterAdd/GetChequeView";c.getparams(a,t).then(function(t){e.accountholder_name=t.data.accountholder_name,e.account_number=t.data.account_number,e.bank_name=t.data.bank_name,e.cheque_no=t.data.cheque_no,e.ifsc_code=t.data.ifsc_code,e.micr=t.data.micr,e.branch_address=t.data.branch_address,e.branch_name=t.data.branch_name,e.city=t.data.city,e.district=t.data.district,e.state=t.data.state,e.cbomergedbankingentity_name=t.data.mergedbankingentity_name,e.cheque_type=t.data.cheque_type,e.date_chequetype=t.data.date_chequetype,e.cts_enabled=t.data.cts_enabled,e.date_chequepresentation=t.data.date_chequepresentation,e.status_chequepresentation=t.data.status_chequepresentation,e.date_chequeclearance=t.data.date_chequeclearance,e.status_chequeclearance=t.data.status_chequeclearance,e.special_condition=t.data.special_condition,e.general_remarks=t.data.general_remarks})}var y=this;y.title="FndMstCustomerChequeViewController",e.customer_gid=g.decryptURL(m.search().hash).lscustomer_gid,e.fndmanagement2cheque_gid=g.decryptURL(m.search().hash).lsfndmanagement2cheque_gid,e.tab=g.decryptURL(m.search().hash).lstab,_(),e.back=function(){"edit"==e.tab?m.url("app/FndMstCustomerMasterEdit?hash="+g.encryptURL("lscustomer_gid="+e.customer_gid+"&lstab=edit")):"add"==e.tab&&m.url("app/FndMstCustomerMasterAdd")}}angular.module("angle").controller("FndMstCustomerChequeViewController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g,_){function y(){S.open=function(t){t.preventDefault(),t.stopPropagation(),S.opened=!0},S.open1=function(t){t.preventDefault(),t.stopPropagation(),S.opened1=!0},S.open2=function(t){t.preventDefault(),t.stopPropagation(),S.opened2=!0},S.open3=function(t){t.preventDefault(),t.stopPropagation(),S.opened3=!0},S.open4=function(t){t.preventDefault(),t.stopPropagation(),S.opened4=!0},S.open5=function(t){t.preventDefault(),t.stopPropagation(),S.opened5=!0},S.formats=["dd-MM-yyyy"],S.format=S.formats[0],S.dateOptions={formatYear:"yy",startingDay:1};var t="api/FndMstCustomerMasterAdd/GetcustomerTempClear";r.get(t).then(function(t){});var t="api/FndMstCustomerMasterAdd/Getconstitution";r.get(t).then(function(t){e.constitution_list=t.data.constitution_list});var t="api/FndMstCustomerMasterAdd/Getassessmentagency";r.get(t).then(function(t){e.assessmentagency_list=t.data.assessmentagency_list});var t="api/FndMstCustomerMasterAdd/Getassessmentagencyrating";r.get(t).then(function(t){e.assessmentagencyrating_list=t.data.assessmentagencyrating_list});var t="api/FndMstCustomerMasterAdd/Getamlcategory";r.get(t).then(function(t){e.amlcategory_list=t.data.amlcategory_list});var t="api/FndMstCustomerMasterAdd/Getbusinesscategory";r.get(t).then(function(t){e.businesscategory_list=t.data.businesscategory_list});var t="api/FndMstCustomerMasterAdd/Getdesignation";r.get(t).then(function(t){e.designation_list=t.data.designation_list});var t="api/FndMstCustomerMasterAdd/Getindividualproof";r.get(t).then(function(t){e.individualproof_list=t.data.individualproof_list});var t="api/FndMstCustomerMasterAdd/state";r.get(t).then(function(t){e.state_list=t.data.state_list})}function f(){var t="api/FndMstCustomerMasterAdd/GetGSTList";r.get(t).then(function(t){e.customergst_list=t.data.customergst_list})}function h(){var t="api/FndMstCustomerMasterAdd/GetMobileNoList";r.get(t).then(function(t){e.customermobileno_list=t.data.customermobileno_list})}function b(){var t="api/FndMstCustomerMasterAdd/GetEmailAddressList";r.get(t).then(function(t){e.customeremailaddress_list=t.data.customeremailaddress_list})}function v(){var t="api/FndMstCustomerMasterAdd/GetAddressList";r.get(t).then(function(t){e.customeraddress_list=t.data.customeraddress_list})}function C(){var t="api/FndMstCustomerMasterAdd/GetChequeSummary";r.get(t).then(function(t){e.cheque_list=t.data.cheque_list})}function k(){var t="api/FndMstCustomerMasterAdd/GetChequeDocumentList";r.get(t).then(function(t){e.chequedocument_list=t.data.chequedocument_list})}function M(){var t="api/FndMstCustomerMasterAdd/GetBankList";r.get(t).then(function(t){e.customerbank_list=t.data.customerbank_list})}var S=this;S.title="FndMstCustomerMasterAddController",y(),e.onchangebusinessstartdate=function(t){var a={date:t.toDateString()},n="api/FndTrnMyCampaignSummary/FutureDateCheck";r.getparams(n,a).then(function(t){0==t.data.status&&(e.txtbusinessstart_date="",c.alert(t.data.message,"warning"))});var a={businessstart_date:e.txtbusinessstart_date};console.log(a);var n="api/FndMstCustomerMasterAdd/GetYearsAndMonthsInBusiness";r.getparams(n,a).then(function(t){e.txtyear_business=t.data.year_business,e.txtmonth_business=t.data.month_business})};var x="api/FndMstCustomerMasterAdd/GetDropDownUdc";lockUI(),r.get(x).then(function(t){e.bankname_list=t.data.bankname_list,unlockUI()}),e.onselectedDep_yes=function(){"Yes"==e.newDependency?(e.new_dependency=!0,e.new_row=!0):(e.new_dependency=!1,e.new_row=!1),"Yes"==e.newdll?(e.new_dll=!0,e.new_row=!0):(e.new_dll=!1,e.new_row=!1)},e.onchangegst_number=function(){var t=e.txtgst_no,a={gst_code:t.substring(0,2)},n="api/FndMstCustomerMasterAdd/GetGSTState";r.getparams(n,a).then(function(t){e.txtgst_state=t.data.gst_state})},e.IFSCValidation=function(){if(11==e.txtifsc_code.length){var t={ifsc:e.txtifsc_code},a="api/Kyc/IfscVerification";lockUI(),r.post(a,t).then(function(t){unlockUI(),""!=t.data.result.bank&&null!=t.data.result.bank?(e.ifscvalidation=!0,e.txtbank_name=t.data.result.bank,e.txtbranch_name=t.data.result.branch,e.txtbank_address=t.data.result.address,e.txtmicr_code=t.data.result.micr,""!=t.data.result.micr&&null!=t.data.result.micr||(e.micrempty=!0)):""==t.data.result.bank||null==t.data.result.bank?(e.ifscvalidation=!1,c.alert("IFSC is not verified..!","warning"),e.txtbank_name="",e.txtbranch_name="",e.txtbank_address="",e.txtmicr_code=""):c.alert(t.data.message,"warning")})}},e.BankAccValidation=function(){if(e.txtbankaccount_number==e.txtconfirmbankaccount_number){var t={ifsc:e.txtifsc_code,accountNumber:e.txtconfirmbankaccount_number},a="api/Kyc/BankAccVerification";lockUI(),r.post(a,t).then(function(t){unlockUI(),""!=t.data.result.bankTxnStatus&&null!=t.data.result.bankTxnStatus?(e.bankaccvalidation=!0,e.txtbankaccount_name=t.data.result.accountName):""==t.data.result.bankTxnStatus||null==t.data.result.bankTxnStatus?(e.bankaccvalidation=!1,c.alert("Bank Account is not verified..!","warning"),e.txtbankaccount_name=""):c.alert(t.data.message,"warning")})}},e.getcustomerbasedGST=function(){var t={pan:e.txtpan_no},a="api/Kyc/PANNumber";lockUI(),r.post(a,t).then(function(t){unlockUI(),""!=t.data.result.name&&void 0!=t.data.result.name?(e.panvalidation=!0,e.txtcustomer_name=t.data.result.name):""==t.data.result.name||void 0==t.data.result.name?(e.panvalidation=!1,c.alert("PAN is not verified..!","warning")):c.alert(t.data.message,"warning")})},e.getPANbasedGST=function(){if(10==e.txtpan_no.length){var t={pan:e.txtpan_no},a="api/Kyc/GSTSBPAN";r.post(a,t).then(function(t){if(101==t.data.statusCode){e.panvalidation=!0;const a=t.data.result;var n={GSTArray:a},s="api/FndMstCustomerMasterAdd/PostGSTList";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?f():c.alert("Error occured while adding the fetched GST Details..!","warning")})}else c.alert(t.data.message,"warning")})}},e.Back=function(){a.go("app.FndMstCustomerMaster")},e.add_Submit=function(){a.go("app.FndMstCustomerMaster")},e.customer_save=function(){var t="",n="",s="",o="",i="",d="",m="",p="",u="",l="",g="",_="",y="",f="";void 0==e.cboConstitution&&null==e.cboConstitution||(t=e.cboConstitution.constitution_gid,n=e.cboConstitution.constitution_name),void 0==e.cboassessmentagency&&null==e.cboassessmentagency||(s=e.cboassessmentagency.assessmentagency_gid,o=e.cboassessmentagency.assessmentagency_name),
void 0==e.cboassessmentagencyrating&&null==e.cboassessmentagencyrating||(i=e.cboassessmentagencyrating.assessmentagencyrating_gid,d=e.cboassessmentagencyrating.assessmentagencyrating_name),void 0==e.cboamlcategory&&null==e.cboamlcategory||(m=e.cboamlcategory.amlcategory_gid,p=e.cboamlcategory.amlcategory_name),void 0==e.cbobusinesscategory&&null==e.cbobusinesscategory||(u=e.cbobusinesscategory.businesscategory_gid,l=e.cbobusinesscategory.businesscategory_name),void 0==e.cbodesignation&&null==e.cbodesignation||(g=e.cbodesignation.designation_gid,_=e.cbodesignation.designation_type),void 0==e.cboindividualproof&&null==e.cboindividualproof||(y=e.cboindividualproof.individualproof_gid,f=e.cboindividualproof.individualproof_name);var h={customer_name:e.txtcustomer_name,businessstart_date:e.txtbusinessstart_date,year_business:e.txtyear_business,month_business:e.txtmonth_business,constitution_gid:t,constitution_name:n,assessmentagency_gid:s,assessmentagency_name:o,assessmentagencyrating_gid:i,assessmentagencyrating_name:d,amlcategory_gid:m,amlcategory_name:p,rating_date:e.txtrating_date,businesscategory_gid:u,businesscategory_name:l,designation_gid:g,designation_type:_,individualproof_gid:y,individualproof_name:f,cin_no:e.txtcin_no,pan_no:e.txtpan_no,contactperson_fn:e.txtcontactperson_fn,contactperson_mn:e.txtcontactperson_mn,contactperson_ln:e.txtcontactperson_ln,remarks:e.txtaddremarks,msme_radio:e.newDependency,msme_registration:e.txtdependency_name},b="api/FndMstCustomerMasterAdd/customerSave";lockUI(),r.post(b,h).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),a.go("app.FndMstCustomerMaster")):c.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3})})},e.customer_submit=function(){var t="",n="",s="",o="",i="",d="",m="",p="",u="",l="",g="",_="",y="",f="";void 0==e.cboConstitution&&null==e.cboConstitution||(t=e.cboConstitution.constitution_gid,n=e.cboConstitution.constitution_name),void 0==e.cboassessmentagency&&null==e.cboassessmentagency||(s=e.cboassessmentagency.assessmentagency_gid,o=e.cboassessmentagency.assessmentagency_name),void 0==e.cboassessmentagencyrating&&null==e.cboassessmentagencyrating||(i=e.cboassessmentagencyrating.assessmentagencyrating_gid,d=e.cboassessmentagencyrating.assessmentagencyrating_name),void 0==e.cboamlcategory&&null==e.cboamlcategory||(m=e.cboamlcategory.amlcategory_gid,p=e.cboamlcategory.amlcategory_name),void 0==e.cbobusinesscategory&&null==e.cbobusinesscategory||(u=e.cbobusinesscategory.businesscategory_gid,l=e.cbobusinesscategory.businesscategory_name),void 0==e.cbodesignation&&null==e.cbodesignation||(g=e.cbodesignation.designation_gid,_=e.cbodesignation.designation_type),void 0==e.cboindividualproof&&null==e.cboindividualproof||(y=e.cboindividualproof.individualproof_gid,f=e.cboindividualproof.individualproof_name);var h={customer_name:e.txtcustomer_name,businessstart_date:e.txtbusinessstart_date,year_business:e.txtyear_business,month_business:e.txtmonth_business,constitution_gid:e.cboConstitution.constitution_gid,constitution_name:e.cboConstitution.constitution_name,assessmentagency_gid:s,assessmentagency_name:o,assessmentagencyrating_gid:i,assessmentagencyrating_name:d,amlcategory_gid:m,amlcategory_name:p,rating_date:e.txtrating_date,businesscategory_gid:e.cbobusinesscategory.businesscategory_gid,businesscategory_name:e.cbobusinesscategory.businesscategory_name,designation_gid:e.cbodesignation.designation_gid,designation_type:e.cbodesignation.designation_type,individualproof_gid:e.cboindividualproof.individualproof_gid,individualproof_name:e.cboindividualproof.individualproof_name,cin_no:e.txtcin_no,pan_no:e.txtpan_no,contactperson_fn:e.txtcontactperson_fn,contactperson_mn:e.txtcontactperson_mn,contactperson_ln:e.txtcontactperson_ln,remarks:e.txtaddremarks,msme_registration:e.txtdependency_name,msme_radio:e.newDependency},b="api/FndMstCustomerMasterAdd/customerSubmit";lockUI(),r.post(b,h).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),a.go("app.FndMstCustomerMaster")):c.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3})})},e.gst_add=function(){if(""==e.txtgst_no||void 0==e.txtgst_no||""==e.txtgst_state||void 0==e.txtgst_state)e.mandatoryfields=!0;else{e.mandatoryfields=!1;var t={gststate_name:e.txtgst_state,gst_no:e.txtgst_no,gstregister_status:e.rdbgstregister_status},a="api/FndMstCustomerMasterAdd/PostGST";lockUI(),r.post(a,t).then(function(t){unlockUI(),1==t.data.status?(e.cboGstState="",e.rdbgstregister_status="",c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3})):c.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),f(),e.txtgst_no="",""==e.txtgst_state})}},e.gst_delete=function(t){var e={customer2gst_gid:t};console.log(e);var a="api/FndMstCustomerMasterAdd/DeleteGST";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),f()})},e.mobileno_add=function(){if(void 0==e.txtmobile_no||""==e.txtmobile_no||void 0==e.rdbprimarymobile_no||void 0==e.rdbwhatsappmobile_no)c.alert("Enter Mobile No/Select Status");else{var t={mobile_no:e.txtmobile_no,primary_mobileno:e.rdbprimarymobile_no,whatsapp_mobileno:e.rdbwhatsappmobile_no},a="api/FndMstCustomerMasterAdd/PostMobileNo";lockUI(),r.post(a,t).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),h(),e.txtmobile_no="",e.rdbprimarymobile_no="",e.rdbwhatsappmobile_no="",0==e.rdbprimarymobile_no})}},e.mobileno_delete=function(t){var e={customer2mobileno_gid:t};console.log(e);var a="api/FndMstCustomerMasterAdd/DeleteMobileNo";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),h()})},e.emailaddress_add=function(){if(void 0==e.txtemail_address||""==e.txtemail_address||void 0==e.rdbprimaryemail_address)c.alert("Enter Email Address/Select Status");else{var t={email_address:e.txtemail_address,primary_emailaddress:e.rdbprimaryemail_address},a="api/FndMstCustomerMasterAdd/PostEmailAddress";lockUI(),r.post(a,t).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),b(),e.txtemail_address="",e.rdbprimaryemail_address="",0==e.rdbprimaryemail_address})}},e.emailaddress_delete=function(t){var e={customer2emailaddress_gid:t};console.log(e);var a="api/FndMstCustomerMasterAdd/DeleteEmailAddress";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),b()})},e.address_add=function(){function t(t,e){t.geocodingFailed=!1;var a="api/AddressType/GetAddressTypeASC";r.get(a).then(function(e){t.addresstype_list=e.data.addresstype_list}),t.ok=function(){e.close("closed")},t.onchangepostal_code=function(){var e={postal_code:t.txtpostal_code},a="api/Mstbuyer/GetPostalCodeDetails";r.getparams(a,e).then(function(e){t.txtcity=e.data.city,t.txttaluka=e.data.taluka,t.txtdistrict=e.data.district,t.txtstate=e.data.state_name})},t.getGeoCoding=function(){if(void 0==t.txtpostal_code||t.txtpostal_code.length<6)t.txtlatitude="",t.txtlongitude="";else{if(void 0==t.txtaddressline2)var e="".concat(t.txtaddressline1.toString(),",",t.txtpostal_code.toString());else var e="".concat(t.txtaddressline1.toString(),",",t.txtaddressline2.toString(),",",t.txtpostal_code.toString());var a={address:e},n="api/GoogleMapsAPI/GetGeoCoding";r.getparams(n,a).then(function(e){"OK"==e.data.status?(t.txtlatitude=e.data.results[0].geometry.location.lat.toString(),t.txtlongitude=e.data.results[0].geometry.location.lng.toString(),t.geocodingFailed=!1):"ZERO_RESULTS"==e.data.status&&(t.geocodingFailed=!0)})}},t.txtcountry="India",t.addressSubmit=function(){var a={addresstype_gid:t.cboaddresstype.address_gid,addresstype_name:t.cboaddresstype.address_type,primary_address:t.rdbprimaryaddress,addressline1:t.txtaddressline1,addressline2:t.txtaddressline2,landmark:t.txtlandmark,postal_code:t.txtpostal_code,city:t.txtcity,taluka:t.txttaluka,district:t.txtdistrict,state_name:t.txtstate,country:t.txtcountry,latitude:t.txtlatitude,longitude:t.txtlongitude},n="api/FndMstCustomerMasterAdd/PostAddress";lockUI(),r.post(n,a).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),v()):c.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3})}),e.close("closed")}}s.open({templateUrl:"/addAddress.html",controller:t,backdrop:"static",keyboard:!1,size:"lg"});t.$inject=["$scope","$modalInstance"]},e.address_delete=function(t){var e={customer2address_gid:t};console.log(e);var a="api/FndMstCustomerMasterAdd/DeleteAddress";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),v()})},e.StaticMapAndPhotos_View=function(t,e,a,n,o){function i(s,i){var c={latitude:t,longitude:e},d="api/GoogleMapsAPI/GetStaticMapUrl";if(r.getparams(d,c).then(function(t){s.staticmapImgUrl=t.data}),""==n)var m="".concat(a.toString(),",",o.toString());else var m="".concat(a.toString(),",",n.toString(),",",o.toString());var c={address:m},d="api/GoogleMapsAPI/GetPlaceImage";r.getparams(d,c).then(function(t){for(var e=[],a=0;a<t.data.length;a++)null!=t.data[a]&&(e[a]=t.data[a]);0==e.length?s.photoNotFound=!0:(s.photoUrlList=e,s.photoFound=!0)}),s.ok=function(){i.close("closed")}}s.open({templateUrl:"/StaticMapAndPhotosView.html",controller:i,backdrop:"static",keyboard:!1,size:"lg"});i.$inject=["$scope","$modalInstance"]},e.add_cheque=function(){if(void 0==e.txtaccount_number||""==e.txtaccount_number||void 0==e.txtcheque_no||""==e.txtcheque_no)c.alert("Enter Cheque Details","warning");else{var t="",a="";void 0==e.cbomergedbanking_entity&&null==e.cbomergedbanking_entity||(t=e.cbomergedbanking_entity.bankname_gid,a=e.cbomergedbanking_entity.bankname_name);var n={accountholder_name:e.txtaccountholder_name,account_number:e.txtaccount_number,bank_name:e.txtbank_name,cheque_no:e.txtcheque_no,ifsc_code:e.txtifsc_code,micr:e.txtmicr,branch_address:e.txtbranch_address,branch_name:e.txtbranch_name,city:e.txtcity,district:e.txtdistrict,state:e.txtstate,mergedbankingentity_gid:t,mergedbankingentity_name:a,special_condition:e.txtspecial_condition,general_remarks:e.txtgeneral_remarks,cts_enabled:e.rbocts_enabled,cheque_type:e.cbocheque_type,date_chequetype:e.txtdate_chequetype,date_chequepresentation:e.txtdate_chequepresentation,status_chequepresentation:e.txtstatus_chequepresentation,date_chequeclearance:e.txtdate_chequeclearance,status_chequeclearance:e.txtstatus_chequeclearance},s="api/FndMstCustomerMasterAdd/PostChequeDetail";r.post(s,n).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),C(),e.txtaccountholder_name="",e.txtaccount_number="",e.txtbank_name="",e.txtcheque_no="",e.txtifsc_code="",e.txtmicr="",e.txtbranch_address="",e.txtbranch_name="",e.txtcity="",e.txtdistrict="",e.txtstate="",e.cbomergedbanking_entity="",e.txtspecial_condition="",e.txtgeneral_remarks="",e.rbocts_enabled="",e.cbocheque_type="",e.txtdate_chequetype="",e.txtdate_chequepresentation="",e.txtstatus_chequepresentation="",e.txtdate_chequeclearance="",e.txtstatus_chequeclearance="",e.uploadfrm=void 0,e.chequedocument_list=null})}},e.delete_cheque=function(t){lockUI();var e={fndmanagement2cheque_gid:t},a="api/FndMstCustomerMasterAdd/DeleteChequeDetail";r.getparams(a,e).then(function(t){1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"danger",pos:"top-center",timeout:3e3}),C(),unlockUI()})},e.viewCheque=function(t){d.url("app/MstUDCMakerView?hash="+_.encryptURL("lsfndmanagement_gid="+e.fndmanagement_gid+"&lstab=add"))},e.downloads=function(t,e){g.Downloaddocument(t,e)},e.UploadDocument=function(t,a,n){var s={name:t[0].name,file:t[0]},o=_.fnCheckValidDocType(t[0].name,"");if(0==o)return c.alert("File format is not supported..!",{status:"danger",pos:"top-center",timeout:3e3}),!1;var i=new FormData;if(i.append("fileupload",s.file),i.append("file_name",s.name),i.append("document_name",e.documentname),i.append("project_flag","Default"),e.uploadfrm=i,void 0==e.uploadfrm)return void alert("Document is not Available..!");var d="api/FndMstCustomerMasterAdd/ChequeDocumentUpload";lockUI(),r.postFile(d,e.uploadfrm).then(function(t){if(1==t.data.status){var a="api/Kyc/ChequeOCR";r.postFile(a,e.uploadfrm).then(function(t){101==t.data.statusCode?(e.txtaccountholder_name=t.data.result.name[0],e.txtaccount_number=t.data.result.accNo,e.txtbank_name=t.data.result.bank,e.txtcheque_no=t.data.result.chequeNo,e.txtifsc_code=t.data.result.ifsc,e.txtmicr=t.data.result.micr,e.txtbranch_address=t.data.result.bankDetails.address,e.txtbranch_name=t.data.result.bankDetails.branch,e.txtcity=t.data.result.bankDetails.city,e.txtdistrict=t.data.result.bankDetails.district,e.txtstate=t.data.result.bankDetails.state):c.alert("Error in fetching values from document..!","warning")}),c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3})}else c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3});$("#file").val(""),e.uploadfrm=void 0,k(),unlockUI()})},e.delete_document=function(t){lockUI();var a={cheque2document_gid:t},n="api/FndMstCustomerMasterAdd/ChequeDocumentDelete";r.getparams(n,a).then(function(t){e.documentupload_list=t.data.documentupload_list,1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"danger",pos:"top-center",timeout:3e3}),k(),unlockUI()})},e.bank_delete=function(t){var e={customer2bank_gid:t};console.log(e);var a="api/FndMstCustomerMasterAdd/DeleteBank";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),M()})}}angular.module("angle").controller("FndMstCustomerMasterAddController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){var t="api/FndMstCustomerMasterAdd/GetcustomerSummary";r.get(t).then(function(t){e.customer_list=t.data.customer_list});var t="api/FndMstCustomerMasterAdd/GetCustomerViewCounts";r.get(t).then(function(t){unlockUI(),e.customerpendingView_count=t.data.customerpendingview_count,e.customerapprovedView_count=t.data.customerapprovedview_count,e.customerrejectedView_count=t.data.customerrejectedview_count})}var y=this;y.title="FndMstCustomerMasterController",_(),e.approvecustomerview=function(){a.go("app.FndTrnCustomerApprovedView")},e.rejectcustomerview=function(){a.go("app.FndTrnCustomerRejectedView")},e.addcustomer=function(){a.go("app.FndMstCustomerMasterAdd")},e.editcustomer=function(t){d.url("app/FndMstCustomerMasterEdit?hash="+g.encryptURL("lscustomer_gid="+t))},e.viewcustomer=function(t){d.url("app/FndMstCustomerMasterView?hash="+g.encryptURL("lscustomer_gid="+t))},e.Status_update=function(t){function e(e,a){var n={customer_gid:t},s="api/FndMstCustomerMasterAdd/Editcustomer";r.getparams(s,n).then(function(t){e.txtcustomer_code=t.data.customer_code,e.txtcustomer_name=t.data.customer_name,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")},e.update_status=function(){var n={customer_gid:t,remarks:e.txtremarks,rbo_status:e.rbo_status},s="api/FndMstCustomerMasterAdd/Inactivecustomer";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),_()}),a.close("closed")};var s="api/FndMstCustomerMasterAdd/customerInactiveLogview";lockUI(),r.getparams(s,n).then(function(t){e.customerstatus_list=t.data.customerstatus_list,unlockUI()})}s.open({templateUrl:"/statuscustomer.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.showsPopover=function(t){function e(e,a){var n={customer_gid:t},s="api/FndMstCustomerMasterAdd/Editcustomer";r.getparams(s,n).then(function(t){e.txtcustomer_code=t.data.customer_code,e.txtcustomer_name=t.data.customer_name,e.txteditremarks=t.data.remarks,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")}}s.open({templateUrl:"/showremarks.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e["delete"]=function(t){var e={customer_gid:t};p.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/FndMstCustomerMasterAdd/Deletecustomer";r.getparams(a,e).then(function(t){1==t.data.status?_():(c.alert("Error Occurred While Deleting Customer!",{status:"warning",pos:"top-center",timeout:3e3}),_())}),p.swal("Deleted Successfully!")}})}}angular.module("angle").controller("FndMstCustomerMasterController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){S.open=function(t){t.preventDefault(),t.stopPropagation(),S.opened=!0},S.open1=function(t){t.preventDefault(),t.stopPropagation(),S.opened1=!0},S.open2=function(t){t.preventDefault(),t.stopPropagation(),S.opened2=!0},S.formats=["dd-MM-yyyy"],S.format=S.formats[0],S.dateOptions={formatYear:"yy",startingDay:1},e.pastdatecheck=function(t){var e={date:t.toDateString()},a="api/FndTrnMyCampaignSummary/PastDateCheck";r.getparams(a,e).then(function(t){0==t.data.status&&c.alert(t.data.message,"warning")})};var t="api/FndMstCustomerMasterAdd/GetcustomerTempClear";r.get(t).then(function(t){});var t="api/FndMstCustomerMasterAdd/GetChequeSummary";r.get(t).then(function(t){e.cheque_list=t.data.cheque_list,e.employee_gid=t.data.employee_gid});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/customerGSTList";r.getparams(t,a).then(function(t){e.customergst_list=t.data.customergst_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/customerMobileNoList";r.getparams(t,a).then(function(t){e.customermobileno_list=t.data.mobileno_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/customerEmailAddressList";r.getparams(t,a).then(function(t){e.customeremailaddress_list=t.data.email_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/customerAddressList";r.getparams(t,a).then(function(t){e.customeraddress_list=t.data.customeraddress_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/Getconstitution";r.getparams(t,a).then(function(t){e.constitution_list=t.data.constitution_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/Getassessmentagency";r.getparams(t,a).then(function(t){e.assessmentagency_list=t.data.assessmentagency_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/Getassessmentagencyrating";r.getparams(t,a).then(function(t){e.assessmentagencyrating_list=t.data.assessmentagencyrating_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/Getamlcategory";r.getparams(t,a).then(function(t){e.amlcategory_list=t.data.amlcategory_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/Getbusinesscategory";r.getparams(t,a).then(function(t){e.businesscategory_list=t.data.businesscategory_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/Getdesignation";r.getparams(t,a).then(function(t){e.designation_list=t.data.designation_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/Getindividualproof";r.getparams(t,a).then(function(t){e.individualproof_list=t.data.individualproof_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/state";r.getparams(t,a).then(function(t){e.state_list=t.data.state_list});var n={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/GetChequeSummaryView";r.getparams(t,n).then(function(t){e.cheque_list=t.data.cheque_list});var t="api/FndMstCustomerMasterAdd/state";r.get(t).then(function(t){e.state_list=t.data.state_list});var n={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/customerDetailsEdit";r.getparams(t,n).then(function(t){e.txtcustomer_code=t.data.customer_code,e.txtcustomer_name=t.data.customer_name,e.txtbusinessstart_date=t.data.businessstart_date,e.txtyear_business=t.data.year_business,e.txtmonth_business=t.data.month_business,e.cboconstitution=t.data.constitution_gid,e.cboassessmentagency=t.data.assessmentagency_gid,e.cboassessmentagencyrating=t.data.assessmentagencyrating_gid,e.rating_date=t.data.rating_date,e.cboamlcategory=t.data.amlcategory_gid,e.cin_no=t.data.cin_no,e.txtpan_no=t.data.pan_no,e.cbobusinesscategory=t.data.businesscategory_gid,e.remarks=t.data.remarks,e.status_remarks=t.data.status_remarks,e.dependency_name=t.data.msme_registration,e.txtcontactperson_fn=t.data.contactperson_fn,e.txtcontactperson_mn=t.data.contactperson_mn,e.txtcontactperson_ln=t.data.contactperson_ln,e.cboindividualproof=t.data.individualproof_gid,e.cbodesignation=t.data.designation_gid,e.newDependency=t.data.msme_radio,"Yes"==e.newDependency?(e.new_dependency=!0,e.new_row=!0):(e.new_dependency=!1,e.new_row=!1),unlockUI()});var t="api/FndMstCustomerMasterAdd/GetCustomerRaiseQuery";lockUI(),r.getparams(t,n).then(function(t){unlockUI(),e.customerraisequery_list=t.data.customerraisequery_list})}function y(){var t="api/FndMstCustomerMasterAdd/GetMobileNoList";r.get(t).then(function(t){e.customermobileno_list=t.data.customermobileno_list})}function f(){var t="api/FndMstCustomerMasterAdd/GetGSTList";r.get(t).then(function(t){e.customergst_list=t.data.customergst_list})}function f(){var t="api/FndMstCustomerMasterAdd/GetGSTList";r.get(t).then(function(t){e.customergst_list=t.data.customergst_list})}function h(){var t={customer_gid:e.customer_gid},a="api/FndMstCustomerMasterAdd/GetEmailAddressList";r.getparams(a,t).then(function(t){e.email_list=t.data.email_list})}function b(){var t="api/FndMstCustomerMasterAdd/GetEmailAddressList";r.get(t).then(function(t){e.customeremailaddress_list=t.data.customeremailaddress_list})}function v(){var t="api/FndMstCustomerMasterAdd/GetAddressList";r.get(t).then(function(t){e.customeraddress_list=t.data.customeraddress_list})}function C(){var t="api/FndMstCustomerMasterAdd/GetChequeSummary";r.get(t).then(function(t){e.cheque_list=t.data.cheque_list})}function k(){var t="api/FndMstCustomerMasterAdd/GetBankList";r.get(t).then(function(t){e.customerbank_list=t.data.customerbank_list})}function M(t){var a={customer_gid:t},n="api/FndMstCustomerMasterAdd/GetCustomerRaiseQuery";lockUI(),r.getparams(n,a).then(function(t){unlockUI(),e.customerraisequery_list=t.data.customerraisequery_list})}var S=this;S.title="FndMstCustomerMasterEditController",e.customer_gid=g.decryptURL(d.search().hash).lscustomer_gid,e.fndmanagement2cheque_gid=g.decryptURL(d.search().hash).lsfndmanagement2cheque_gid,_(),e.customer_save=function(){var t="",n="",s="",o="",i="",d="",m="",p="",u="",l="",g="",_="",y="",f="";void 0==e.cboConstitution&&null==e.cboConstitution||(t=e.cboConstitution.constitution_gid,n=e.cboConstitution.constitution_name),void 0==e.cboassessmentagency&&null==e.cboassessmentagency||(s=e.cboassessmentagency.assessmentagency_gid,o=e.cboassessmentagency.assessmentagency_name),void 0==e.cboassessmentagencyrating&&null==e.cboassessmentagencyrating||(i=e.cboassessmentagencyrating.assessmentagencyrating_gid,d=e.cboassessmentagencyrating.assessmentagencyrating_name),void 0==e.cboamlcategory&&null==e.cboamlcategory||(m=e.cboamlcategory.amlcategory_gid,p=e.cboamlcategory.amlcategory_name),void 0==e.cbobusinesscategory&&null==e.cbobusinesscategory||(u=e.cbobusinesscategory.businesscategory_gid,l=e.cbobusinesscategory.businesscategory_name),void 0==e.cbodesignation&&null==e.cbodesignation||(g=e.cbodesignation.designation_gid,_=e.cbodesignation.designation_type),void 0==e.cboindividualproof&&null==e.cboindividualproof||(y=e.cboindividualproof.individualproof_gid,f=e.cboindividualproof.individualproof_name);var h={customer_name:e.txtcustomer_name,businessstart_date:e.txtbusinessstart_date,year_business:e.txtyear_business,month_business:e.txtmonth_business,constitution_gid:t,constitution_name:n,assessmentagency_gid:s,assessmentagency_name:o,assessmentagencyrating_gid:i,assessmentagencyrating_name:d,amlcategory_gid:m,amlcategory_name:p,rating_date:e.txtrating_date,businesscategory_gid:u,businesscategory_name:l,designation_gid:g,designation_type:_,individualproof_gid:y,individualproof_name:f,cin_no:e.txtcin_no,pan_no:e.txtpan_no,contactperson_fn:e.txtcontactperson_fn,contactperson_mn:e.txtcontactperson_mn,contactperson_ln:e.txtcontactperson_ln,remarks:e.txtaddremarks,msme_radio:e.newDependency,msme_registration:e.txtdependency_name},b="api/FndMstCustomerMasterAdd/customerSave";lockUI(),r.post(b,h).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),a.go("app.FndMstCustomerMaster")):c.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3})})},e.add_cheque=function(){d.url("app/FndMstcustomerAddCheque?hash="+g.encryptURL("lscustomer_gid="+e.customer_gid+"&lsfndmanagement2cheque_gid="+e.fndmanagement2cheque_gid+"&lstab=edit"))};var x={customer_gid:e.customer_gid},w="api/FndMstCustomerMasterAdd/ChequeDetailsEdit";r.getparams(w,x).then(function(t){e.accountholder_name=t.data.accountholder_name,e.account_number=t.data.account_number,e.bank_name=t.data.bank_name,e.cheque_no=t.data.cheque_no,e.ifsc_code=t.data.ifsc_code,e.micr=t.data.micr,e.branch_address=t.data.branch_address,e.branch_name=t.data.branch_name,e.city=t.data.city,e.district=t.data.district,e.state=t.data.state}),e.onchangebusinessstartdate=function(t){var a={date:t.toDateString()},n="api/FndTrnMyCampaignSummary/FutureDateCheck";r.getparams(n,a).then(function(t){0==t.data.status&&(e.txtbusinessstart_date="",c.alert(t.data.message,"warning"))});var a={businessstart_date:e.txtbusinessstart_date};console.log(a);var n="api/FndMstCustomerMasterAdd/GetYearsAndMonthsInBusiness";r.getparams(n,a).then(function(t){e.txtyear_business=t.data.year_business,e.txtmonth_business=t.data.month_business})},e.onselectedDep_yes=function(){"Yes"==e.newDependency?(e.new_dependency=!0,e.new_row=!0):(e.new_dependency=!1,e.new_row=!1),"Yes"==e.newdll?(e.new_dll=!0,e.new_row=!0):(e.new_dll=!1,e.new_row=!1)},e.getcustomerbasedGST=function(){var t={pan:e.txtpan_no},a="api/Kyc/PANNumber";lockUI(),r.post(a,t).then(function(t){unlockUI(),""!=t.data.result.name&&void 0!=t.data.result.name?(e.panvalidation=!0,e.txtcustomer_name=t.data.result.name):""==t.data.result.name||void 0==t.data.result.name?(e.panvalidation=!1,c.alert("PAN is not verified..!","warning")):c.alert(t.data.message,"warning")})},e.getPANbasedGST=function(){if(10==e.txtpan_no.length){var t={pan:e.txtpan_no},a="api/Kyc/GSTSBPAN";r.post(a,t).then(function(t){if(101==t.data.statusCode){e.panvalidation=!0;const a=t.data.result;var n={GSTArray:a},s="api/FndMstCustomerMasterAdd/PostGSTList";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?f():c.alert("Error occured while adding the fetched GST Details..!","warning")})}else c.alert(t.data.message,"warning")})}},e.mobileno_add=function(){if(void 0==e.txtmobile_no||""==e.txtmobile_no||void 0==e.rdbprimarymobile_no||void 0==e.rdbwhatsappmobile_no)c.alert("Enter Mobile No/Select Status");else{var t={mobile_no:e.txtmobile_no,primary_mobileno:e.rdbprimarymobile_no,whatsapp_mobileno:e.rdbwhatsappmobile_no},a="api/FndMstCustomerMasterAdd/PostMobileNo";lockUI(),r.post(a,t).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),y(),e.txtmobile_no="",e.rdbprimarymobile_no="",e.rdbwhatsappmobile_no="",0==e.rdbprimarymobile_no})}},e.gst_add=function(){if(""==e.txtgst_no||void 0==e.txtgst_no||""==e.txtgst_state||void 0==e.txtgst_state)e.mandatoryfields=!0;else{e.mandatoryfields=!1;var t={gststate_name:e.txtgst_state,gst_no:e.txtgst_no,gstregister_status:e.rdbgstregister_status},a="api/FndMstCustomerMasterAdd/PostGST";lockUI(),r.post(a,t).then(function(t){unlockUI(),1==t.data.status?(e.cboGstState="",e.rdbgstregister_status="",c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3})):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),f(),e.txtgst_no="",""==e.txtgst_state})}},e.gst_delete=function(t){var e={customer2gst_gid:t};console.log(e);var a="api/FndMstCustomerMasterAdd/DeleteGST";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),f()})},e.onchangegst_number=function(){var t=e.txtgst_no,a={gst_code:t.substring(0,2)},n="api/MstApplicationAdd/GetGSTState";r.getparams(n,a).then(function(t){e.txtgst_state=t.data.gst_state})},e.address_add=function(){function t(t,e){t.geocodingFailed=!1;var a="api/AddressType/GetAddressTypeASC";r.get(a).then(function(e){t.addresstype_list=e.data.addresstype_list}),t.ok=function(){e.close("closed")},t.onchangepostal_code=function(){var e={postal_code:t.txtpostal_code},a="api/Mstbuyer/GetPostalCodeDetails";r.getparams(a,e).then(function(e){t.txtcity=e.data.city,t.txttaluka=e.data.taluka,t.txtdistrict=e.data.district,t.txtstate=e.data.state_name})},t.getGeoCoding=function(){if(6==t.txtpostal_code.length){if(void 0==t.txtaddressline2)var e="".concat(t.txtaddressline1.toString(),",",t.txtpostal_code.toString());else var e="".concat(t.txtaddressline1.toString(),",",t.txtaddressline2.toString(),",",t.txtpostal_code.toString());var a={address:e},n="api/GoogleMapsAPI/GetGeoCoding";r.getparams(n,a).then(function(e){"OK"==e.data.status?(t.txtlatitude=e.data.results[0].geometry.location.lat.toString(),t.txtlongitude=e.data.results[0].geometry.location.lng.toString(),t.geocodingFailed=!1):"ZERO_RESULTS"==e.data.status&&(t.geocodingFailed=!0)})}},t.txtcountry="India",t.addressSubmit=function(){var a={addresstype_gid:t.cboaddresstype.address_gid,addresstype_name:t.cboaddresstype.address_type,primary_address:t.rdbprimaryaddress,addressline1:t.txtaddressline1,addressline2:t.txtaddressline2,landmark:t.txtlandmark,postal_code:t.txtpostal_code,city:t.txtcity,taluka:t.txttaluka,district:t.txtdistrict,state_name:t.txtstate,country:t.txtcountry,latitude:t.txtlatitude,longitude:t.txtlongitude},n="api/FndMstCustomerMasterAdd/PostAddress";lockUI(),r.post(n,a).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),v()):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})}),e.close("closed")}}s.open({templateUrl:"/addAddress.html",controller:t,backdrop:"static",keyboard:!1,size:"lg"});t.$inject=["$scope","$modalInstance"];
},e.IFSCValidation=function(){if(11==e.txtifsc_code.length){var t={ifsc:e.txtifsc_code},a="api/Kyc/IfscVerification";lockUI(),r.post(a,t).then(function(t){unlockUI(),""!=t.data.result.bank&&null!=t.data.result.bank?(e.ifscvalidation=!0,e.txtbank_name=t.data.result.bank,e.txtbranch_name=t.data.result.branch,e.txtbank_address=t.data.result.address,e.txtmicr_code=t.data.result.micr,""!=t.data.result.micr&&null!=t.data.result.micr||(e.micrempty=!0)):""==t.data.result.bank||null==t.data.result.bank?(e.ifscvalidation=!1,c.alert("IFSC is not verified..!","warning"),e.txtbank_name="",e.txtbranch_name="",e.txtbank_address="",e.txtmicr_code=""):c.alert(t.data.message,"warning")})}},e.onchangegst_number=function(){var t=e.txtgst_no,a={gst_code:t.substring(0,2)},n="api/FndMstCustomerMasterAdd/GetGSTState";r.getparams(n,a).then(function(t){e.txtgst_state=t.data.gst_state})},e.BankAccValidation=function(){if(e.txtbankaccount_number==e.txtconfirmbankaccount_number){var t={ifsc:e.txtifsc_code,accountNumber:e.txtconfirmbankaccount_number},a="api/Kyc/BankAccVerification";lockUI(),r.post(a,t).then(function(t){unlockUI(),""!=t.data.result.bankTxnStatus&&null!=t.data.result.bankTxnStatus?(e.bankaccvalidation=!0,e.txtbankaccount_name=t.data.result.accountName):""==t.data.result.bankTxnStatus||null==t.data.result.bankTxnStatus?(e.bankaccvalidation=!1,c.alert("Bank Account is not verified..!","warning"),e.txtbankaccount_name=""):c.alert(t.data.message,"warning")})}},e.getPANbasedGST=function(){if(10==e.txtpan_no.length){var t={pan:e.txtpan_no},a="api/Kyc/GSTSBPAN";r.post(a,t).then(function(t){if(101==t.data.statusCode){e.panvalidation=!0;const a=t.data.result;var n={GSTArray:a},s="api/FndMstCustomerMasterAdd/PostGSTList";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?f():c.alert("Error occured while adding the fetched GST Details..!","warning")})}else if(103==t.data.statusCode){var o={pan:e.txtpan_no},s="api/Kyc/PANNumber";lockUI(),r.post(s,o).then(function(t){unlockUI(),""!=t.data.result.name&&void 0!=t.data.result.name?e.panvalidation=!0:""==t.data.result.name||void 0==t.data.result.name?(e.panvalidation=!1,c.alert("PAN is not verified..!","warning")):c.alert(t.data.message,"warning")})}else c.alert(t.data.message,"warning")})}},e.gst_edit=function(t){function e(e,a){var n="api/customer/state";r.get(n).then(function(t){e.state_list=t.data.state_list});var s={customer2gst_gid:t},n="api/FndMstCustomerMasterAdd/GSTEdit";r.getparams(n,s).then(function(t){e.txteditgst_state=t.data.gststate_name,e.txteditgst_number=t.data.gst_no,e.rdbgstregistered=t.data.gstregister_status,e.customer_gid=t.data.customer_gid,e.customer2gst_gid=t.data.customer2gst_gid}),e.ok=function(){a.close("closed")},e.onchangeeditgst_number=function(){var t=e.txteditgst_number,a={gst_code:t.substring(0,2)},n="api/FndMstCustomerMasterAdd/GetGSTState";r.getparams(n,a).then(function(t){e.txteditgst_state=t.data.gst_state})},e.update_gst=function(){var t={gststate_name:e.txteditgst_state,gst_no:e.txteditgst_number,gstregister_status:e.rdbgstregistered,customer_gid:localStorage.getItem("customer_gid"),customer2gst_gid:e.customer2gst_gid},n="api/FndMstCustomerMasterAdd/GSTUpdate";lockUI(),r.post(n,t).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),gst_templist(),e.txtgst_no=""}),a.close("closed")}}s.open({templateUrl:"/editgstdetails.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.emailaddress_edit=function(t){function e(e,a){var n={customer2emailaddress_gid:t},s="api/FndMstCustomerMasterAdd/EmailAddressEdit";r.getparams(s,n).then(function(t){e.txteditemail_address=t.data.email_address,e.rdbeditprimary_emailaddress=t.data.primary_emailaddress}),e.ok=function(){a.close("closed")},e.update_emailaddress=function(){var n={email_address:e.txteditemail_address,primary_emailaddress:e.rdbeditprimary_emailaddress,customer2emailaddress_gid:t,customer_gid:localStorage.getItem("customer_gid")},s="api/FndMstCustomerMasterAdd/EmailAddressUpdate";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),h()}),a.close("closed")}}s.open({templateUrl:"/editemailaddress.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.mobileno_edit=function(t){function e(e,a){var n={customer2mobileno_gid:t},s="api/FndMstCustomerMasterAdd/MobileNoEdit";r.getparams(s,n).then(function(t){e.txteditmobile_no=t.data.mobile_no,e.rdbeditprimarymobile_no=t.data.primary_mobileno,e.rdbeditwhatsappmobile_no=t.data.whatsapp_mobileno}),e.ok=function(){a.close("closed")},e.update_mobileno=function(){var n={mobile_no:e.txteditmobile_no,primary_mobileno:e.rdbeditprimarymobile_no,whatsapp_mobileno:e.rdbeditwhatsappmobile_no,customer2mobileno_gid:t,customer_gid:localStorage.getItem("customer_gid")},s="api/FndMstCustomerMasterAdd/MobileNoUpdate";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),mobileno_templist()}),a.close("closed")}}s.open({templateUrl:"/editmobileno.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.emailaddress_delete=function(t){var e={customer2emailaddress_gid:t},a="api/FndMstCustomerMasterAdd/DeleteEmailAddress";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),h()})},e.Back=function(){a.go("app.FndMstCustomerMaster")},e.edit_Submit=function(){a.go("app.FndMstCustomerMaster")},e.viewcustomer=function(t,e){d.url("app/FndMstCustomerChequeView?hash="+g.encryptURL("lscustomer_gid="+t+"&lsfndmanagement2cheque_gid="+e+"&lstab=edit"))},e.editCheque=function(t){d.url("app/FndMstcustomerEditCheque?hash="+g.encryptURL("lsfndmanagement2cheque_gid="+fndmanagement2cheque_gid+"&lsfndmanagement_gid="+e.fndmanagement_gid+"&lstab=edit"))},e.customer_submit=function(){var t,n=e.constitution_list.map(function(t){return t.constitution_gid}).indexOf(e.cboconstitution);t=n==-1?"":e.constitution_list[n].constitution_name;var s,o=e.assessmentagency_list.map(function(t){return t.assessmentagency_gid}).indexOf(e.cboassessmentagency);s=o==-1?"":e.assessmentagency_list[o].assessmentagency_name;var i,d=e.assessmentagencyrating_list.map(function(t){return t.assessmentagencyrating_gid}).indexOf(e.cboassessmentagencyrating);i=d==-1?"":e.assessmentagencyrating_list[d].assessmentagencyrating_name;var m,p=e.amlcategory_list.map(function(t){return t.amlcategory_gid}).indexOf(e.cboamlcategory);m=p==-1?"":e.amlcategory_list[p].amlcategory_name;var u,l=e.businesscategory_list.map(function(t){return t.businesscategory_gid}).indexOf(e.cbobusinesscategory);u=l==-1?"":e.businesscategory_list[l].businesscategory_name;var g,_=e.designation_list.map(function(t){return t.designation_gid}).indexOf(e.cbodesignation);g=_==-1?"":e.designation_list[_].designation_type;var y,f=e.individualproof_list.map(function(t){return t.individualproof_gid}).indexOf(e.cboindividualproof);y=f==-1?"":e.individualproof_list[f].employee_name;var h={customer_gid:e.customer_gid,customer_code:e.txtcustomer_code,customer_name:e.txtcustomer_name,coi_date:e.txtcoi_date,businessstart_date:e.txtbusinessstart_date,year_business:e.txtyear_business,month_business:e.txtmonth_business,constitution_gid:e.cboConstitution,constitution_name:t,assessmentagency_gid:e.cboassessmentagency,assessmentagency_name:s,assessmentagencyrating_gid:e.cboassessmentagencyrating,assessmentagencyrating_name:i,amlcategory_gid:e.cboamlcategory,amlcategory_name:m,businesscategory_gid:e.cbobusinesscategory,businesscategory_name:u,designation_gid:e.cbodesignation,designation_type:g,individualproof_gid:e.cboindividualproof,individualproof_name:y,rating_date:e.rating_date,cin_no:e.txtcin_no,pan_no:e.txtpan_no,contactperson_fn:e.txtcontactperson_fn,contactperson_mn:e.txtcontactperson_mn,contactperson_ln:e.txtcontactperson_ln,msme_registration:e.dependency_name,msme_radio:e.newDependency,remarks:e.txtaddremarks},b="api/FndMstCustomerMasterAdd/customerEditSubmit";lockUI(),r.post(b,h).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),a.go("app.FndMstCustomerMaster")):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.customer_editupdate=function(){var t,n=e.constitution_list.map(function(t){return t.constitution_gid}).indexOf(e.cboconstitution);t=n==-1?"":e.constitution_list[n].constitution_name;var s,o=e.assessmentagency_list.map(function(t){return t.assessmentagency_gid}).indexOf(e.cboassessmentagency);s=o==-1?"":e.assessmentagency_list[o].assessmentagency_name;var i,d=e.assessmentagencyrating_list.map(function(t){return t.assessmentagencyrating_gid}).indexOf(e.cboassessmentagencyrating);i=d==-1?"":e.assessmentagencyrating_list[d].assessmentagencyrating_name;var m,p=e.amlcategory_list.map(function(t){return t.amlcategory_gid}).indexOf(e.cboamlcategory);m=p==-1?"":e.amlcategory_list[p].amlcategory_name;var u,l=e.businesscategory_list.map(function(t){return t.businesscategory_gid}).indexOf(e.cbobusinesscategory);u=l==-1?"":e.businesscategory_list[l].businesscategory_name;var g,_=e.designation_list.map(function(t){return t.designation_gid}).indexOf(e.cbodesignation);g=_==-1?"":e.designation_list[_].designation_type;var y,f=e.individualproof_list.map(function(t){return t.individualproof_gid}).indexOf(e.cboindividualproof);y=f==-1?"":e.individualproof_list[f].employee_name;var h={customer_gid:e.customer_gid,customer_code:e.txtcustomer_code,customer_name:e.txtcustomer_name,coi_date:e.txtcoi_date,businessstart_date:e.txtbusinessstart_date,year_business:e.txtyear_business,month_business:e.txtmonth_business,constitution_gid:e.cboconstitution,constitution_name:t,assessmentagency_gid:e.cboassessmentagency,assessmentagency_name:s,assessmentagencyrating_gid:e.cboassessmentagencyrating,assessmentagencyrating_name:i,amlcategory_gid:e.cboamlcategory,amlcategory_name:m,businesscategory_gid:e.cbobusinesscategory,businesscategory_name:u,designation_gid:e.cbodesignation,designation_type:g,individualproof_gid:e.cboindividualproof,individualproof_name:y,rating_date:e.rating_date,cin_no:e.txtcin_no,pan_no:e.txtpan_no,contactperson_fn:e.txtcontactperson_fn,contactperson_mn:e.txtcontactperson_mn,contactperson_ln:e.txtcontactperson_ln,msme_registration:e.dependency_name,msme_radio:e.newDependency,remarks:e.txtaddremarks},b="api/FndMstCustomerMasterAdd/customerEditupdated";lockUI(),r.post(b,h).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),a.go("app.FndMstCustomerMaster")):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.customer_update=function(){var t={customer_name:e.customer_name,businessstart_date:e.businessstart_date,year_business:e.year_business,month_business:e.month_business,constitution_gid:e.cboConstitution,assessmentagency_gid:e.cboassessmentagency,constitution_name:e.constitution_name,assessmentagency_name:e.assessmentagency_name,assessmentagencyrating_name:e.assessmentagencyrating_name,amlcategory_name:e.amlcategory_name,businesscategory_name:e.businesscategory_name,designation_type:e.designation_type,individualproof_name:e.individualproof_name,assessmentagencyrating_gid:e.cboassessmentagencyrating,rating_date:e.rating_date,amlcategory_gid:e.cboamlcategory,businesscategory_gid:e.cbobusinesscategory,designation_gid:e.cbodesignation,individualproof_gid:e.cboindividualproof,cin_no:e.cin_no,pan_no:e.pan_no,contactperson_fn:e.contactperson_fn,contactperson_mn:e.contactperson_mn,contactperson_ln:e.contactperson_ln,remarks:e.addremarks,msme_registration:e.dependency_name,msme_radio:e.newDependency,customer_gid:e.customer_gid},n="api/FndMstCustomerMasterAdd/customerEditUpdate";lockUI(),r.post(n,t).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),a.go("app.FndMstCustomerMaster")):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.customersubmit=function(){var t={customer_name:e.customer_name,businessstart_date:e.businessstart_date,year_business:e.year_business,month_business:e.month_business,constitution_gid:e.cboConstitution,assessmentagency_gid:e.cboassessmentagency,constitution_name:e.constitution_name,assessmentagency_name:e.assessmentagency_name,assessmentagencyrating_name:e.assessmentagencyrating_name,amlcategory_name:e.amlcategory_name,businesscategory_name:e.businesscategory_name,designation_type:e.designation_type,individualproof_name:e.individualproof_name,assessmentagencyrating_gid:e.cboassessmentagencyrating,rating_date:e.rating_date,amlcategory_gid:e.cboamlcategory,businesscategory_gid:e.cbobusinesscategory,designation_gid:e.cbodesignation,individualproof_gid:e.cboindividualproof,cin_no:e.cin_no,pan_no:e.pan_no,contactperson_fn:e.contactperson_fn,contactperson_mn:e.contactperson_mn,contactperson_ln:e.contactperson_ln,remarks:e.addremarks,msme_registration:e.dependency_name,customer_gid:e.customer_gid},n="api/FndMstCustomerMasterAdd/customersubmitapproval";lockUI(),r.post(n,t).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),a.go("app.FndMstCustomerMaster")):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.gst_delete=function(t){var e={customer2gst_gid:t};console.log(e);var a="api/FndMstCustomerMasterAdd/DeleteGST";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),f()})},e.mobileno_delete=function(t){var e={customer2mobileno_gid:t};console.log(e);var a="api/FndMstCustomerMasterAdd/DeleteMobileNo";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),y()})},e.cheque_delete=function(t){var e={fndmanagement2cheque_gid:t},a="api/FndMstCustomerMasterAdd/DeleteChequeDetail";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),customermobileno_list()})},e.emailaddress_delete=function(t){var e={customer2emailaddress_gid:t};console.log(e);var a="api/FndMstCustomerMasterAdd/DeleteEmailAddress";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),b()})},e.address_edit=function(t){function e(e,a){e.geocodingFailed=!1;var n="api/AddressType/GetAddressTypeASC";r.get(n).then(function(t){e.addresstype_list=t.data.addresstype_list});var s={customer2address_gid:t},n="api/FndMstCustomerMasterAdd/AddressDetailEdit";r.getparams(n,s).then(function(t){e.cboaddresstype=t.data.address_typegid,e.rdbprimaryaddress=t.data.primary_address,e.txtaddressline1=t.data.addressline1,e.txtaddressline2=t.data.addressline2,e.txtlandmark=t.data.landmark,e.txtpostal_code=t.data.postal_code,e.txtcity=t.data.city,e.txttaluka=t.data.taluka,e.txtdistrict=t.data.district,e.txtstate=t.data.state,e.txtcountry=t.data.country,e.txtlatitude=t.data.latitude,e.txtlongitude=t.data.longitude,e.customer_gid=t.data.customer_gid,e.customer2address_gid=t.data.customer2address_gid}),e.ok=function(){a.close("closed")},e.onchangepostal_code=function(){var t={postal_code:e.txtpostal_code},a="api/Mstbuyer/GetPostalCodeDetails";r.getparams(a,t).then(function(t){e.txtcity=t.data.city,e.txttaluka=t.data.taluka,e.txtdistrict=t.data.district,e.txtstate=t.data.state_name})},e.getGeoCoding=function(){if(void 0==e.txtpostal_code||e.txtpostal_code.length<6)e.txtlatitude="",e.txtlongitude="";else{if(void 0==e.txtaddressline2)var t="".concat(e.txtaddressline1.toString(),",",e.txtpostal_code.toString());else var t="".concat(e.txtaddressline1.toString(),",",e.txtaddressline2.toString(),",",e.txtpostal_code.toString());var a={address:t},n="api/GoogleMapsAPI/GetGeoCoding";r.getparams(n,a).then(function(t){"OK"==t.data.status?(e.txtlatitude=t.data.results[0].geometry.location.lat.toString(),e.txtlongitude=t.data.results[0].geometry.location.lng.toString(),e.geocodingFailed=!1):"ZERO_RESULTS"==t.data.status&&(e.geocodingFailed=!0)})}},e.txtcountry="India",e.addressUpdate=function(){var t=$("#address_type :selected").text(),n={address_typegid:e.cboaddresstype,address_type:t,addressline1:e.txtaddressline1,addressline2:e.txtaddressline2,primary_address:e.rdbprimaryaddress,landmark:e.txtlandmark,postal_code:e.txtpostal_code,taluka:e.txttaluka,city:e.txtcity,state:e.txtstate,district:e.txtdistrict,country:e.txtcountry,latitude:e.txtlatitude,longitude:e.txtlongitude,customer2address_gid:e.customer2address_gid,customer_gid:localStorage.getItem("customer_gid")},s="api/FndMstCustomerMasterAdd/AddressDetailUpdate";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),address_templist()}),a.close("closed")}}s.open({templateUrl:"/editaddressdetails.html",controller:e,backdrop:"static",keyboard:!1,size:"lg"});e.$inject=["$scope","$modalInstance"]},e.address_delete=function(t){var e={customer2address_gid:t};console.log(e);var a="api/FndMstCustomerMasterAdd/DeleteAddress";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),v()})},e.gst_add=function(){if(""==e.txtgst_no||void 0==e.txtgst_no||""==e.txtgst_state||void 0==e.txtgst_state)e.mandatoryfields=!0;else{e.mandatoryfields=!1;var t={gststate_name:e.txtgst_state,gst_no:e.txtgst_no,gstregister_status:e.rdbgstregister_status},a="api/FndMstCustomerMasterAdd/PostGST";lockUI(),r.post(a,t).then(function(t){unlockUI(),1==t.data.status?(e.cboGstState="",e.rdbgstregister_status="",c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3})):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),f(),e.txtgst_no="",""==e.txtgst_state})}},e.emailaddress_add=function(){if(void 0==e.txtemail_address||""==e.txtemail_address||void 0==e.rdbprimaryemail_address)c.alert("Enter Email Address/Select Status");else{var t={email_address:e.txtemail_address,primary_emailaddress:e.rdbprimaryemail_address},a="api/FndMstCustomerMasterAdd/PostEmailAddress";lockUI(),r.post(a,t).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),b(),e.txtemail_address="",e.rdbprimaryemail_address="",0==e.rdbprimaryemail_address})}},e.StaticMapAndPhotos_View=function(t,e,a,n,o){function i(s,i){var c={latitude:t,longitude:e},d="api/GoogleMapsAPI/GetStaticMapUrl";if(r.getparams(d,c).then(function(t){s.staticmapImgUrl=t.data}),""==n)var m="".concat(a.toString(),",",o.toString());else var m="".concat(a.toString(),",",n.toString(),",",o.toString());var c={address:m},d="api/GoogleMapsAPI/GetPlaceImage";r.getparams(d,c).then(function(t){for(var e=[],a=0;a<t.data.length;a++)null!=t.data[a]&&(e[a]=t.data[a]);0==e.length?s.photoNotFound=!0:(s.photoUrlList=e,s.photoFound=!0)}),s.ok=function(){i.close("closed")}}s.open({templateUrl:"/StaticMapAndPhotosView.html",controller:i,backdrop:"static",keyboard:!1,size:"lg"});i.$inject=["$scope","$modalInstance"]},e.edit_cheque=function(){var t={stakeholder_gid:e.cboStakeholder.stakeholder_gid,stakeholder_name:e.cboStakeholder.stakeholder_name,stakeholder_type:e.txtstakeholder_type,designation:e.txtdesignation,accountholder_name:e.txtaccountholder_name,account_number:e.txtaccount_number,bank_name:e.txtbank_name,cheque_no:e.txtcheque_no,ifsc_code:e.txtifsc_code,micr:e.txtmicr,branch_address:e.txtbranch_address,branch_name:e.txtbranch_name,city:e.txtcity,district:e.txtdistrict,state:e.txtstate,mergedbankingentity_gid:e.cbomergedbanking_entity.bankname_gid,mergedbankingentity_name:e.cbomergedbanking_entity.bankname_name,special_condition:e.txtspecial_condition,general_remarks:e.txtgeneral_remarks,cts_enabled:e.rbocts_enabled,cheque_type:e.cbocheque_type,date_chequetype:e.txtdate_chequetype,date_chequepresentation:e.txtdate_chequepresentation,status_chequepresentation:e.txtstatus_chequepresentation,date_chequeclearance:e.txtdate_chequeclearance,status_chequeclearance:e.txtstatus_chequeclearance},a="api/UdcManagement/PostChequeDetail";r.post(a,t).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),C(),e.cboStakeholder="",e.txtstakeholder_type="",e.txtdesignation="",e.txtaccountholder_name="",e.txtaccount_number="",e.txtbank_name="",e.txtcheque_no="",e.txtifsc_code="",e.txtmicr="",e.txtbranch_address="",e.txtbranch_name="",e.txtcity="",e.txtdistrict="",e.txtstate="",e.cbomergedbanking_entity="",e.txtspecial_condition="",e.txtgeneral_remarks="",e.rbocts_enabled="",e.cbocheque_type="",e.txtdate_chequetype="",e.txtdate_chequepresentation="",e.txtstatus_chequepresentation="",e.txtdate_chequeclearance="",e.txtstatus_chequeclearance="",e.uploadfrm=void 0,e.chequedocument_list=null})},e.delete_cheque=function(t){lockUI();var e={udcmanagement2cheque_gid:t},a="api/FndMstCustomerMasterAdd/DeleteChequeDetail";r.getparams(a,e).then(function(t){1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"danger",pos:"top-center",timeout:3e3}),C(),unlockUI()})},e.bank_delete=function(t){var e={customer2bank_gid:t};console.log(e);var a="api/FndMstCustomerMasterAdd/DeleteBank";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),k()})},e.myraisequery=function(t){function e(e,a){e.ok=function(){a.close("closed")};e.submit=function(){var n={customer_gid:t,query_title:e.txtquery_title,query_description:e.txtquery_description},s="api/FndMstCustomerMasterAdd/PostCustomerRaiseQuery";lockUI(),r.post(s,n).then(function(e){unlockUI(),1==e.data.status?(c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}),M(t)):c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3})}),a.close("closed")}}s.open({templateUrl:"/myqueryClose.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.view_myquerydesc=function(t,e,a){function n(n,s){n.lblquery_desc=t,n.lblqueryresponse_remarks=e,n.lblquery_responseby=a,n.ok=function(){s.close("closed")}}s.open({templateUrl:"/myqueryDescriptionView.html",controller:n,backdrop:"static",keyboard:!1,size:"lg"});n.$inject=["$scope","$modalInstance"]},e.query_close=function(t){function e(e,a){e.ok=function(){a.close("closed")},e.submit=function(){var n={customer_gid:g.decryptURL(d.search().hash).lscustomer_gid,customerraisequery_gid:t,queryresponse_remarks:e.txtcloseremarks},s="api/FndMstCustomerMasterAdd/PostCustomerresponsequery";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),_()):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})}),a.close("closed")}}s.open({templateUrl:"/queryClose.html",controller:e,backdrop:"static",keyboard:!1,size:"lg"});e.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("FndMstCustomerMasterEditController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){y.open=function(t){t.preventDefault(),t.stopPropagation(),y.opened=!0},y.open1=function(t){t.preventDefault(),t.stopPropagation(),y.opened1=!0},y.open2=function(t){t.preventDefault(),t.stopPropagation(),y.opened2=!0},y.formats=["dd-MM-yyyy"],y.format=y.formats[0],y.dateOptions={formatYear:"yy",startingDay:1};var t={customer_gid:e.customer_gid},a="api/FndMstCustomerMasterAdd/customerGSTList";r.getparams(a,t).then(function(t){e.customergst_list=t.data.customergst_list});var t={customer_gid:e.customer_gid},a="api/FndMstCustomerMasterAdd/customerMobileNoList";r.getparams(a,t).then(function(t){e.mobileno_list=t.data.mobileno_list});var t={customer_gid:e.customer_gid},a="api/FndMstCustomerMasterAdd/customerEmailAddressList";r.getparams(a,t).then(function(t){e.email_list=t.data.email_list});var t={customer_gid:e.customer_gid},a="api/FndMstCustomerMasterAdd/customerAddressList";r.getparams(a,t).then(function(t){e.address_list=t.data.customeraddress_list});var n={customer_gid:e.customer_gid},a="api/FndMstCustomerMasterAdd/customerDetailsEdit";r.getparams(a,n).then(function(t){e.customer_code=t.data.customer_code,e.customer_name=t.data.customer_name,e.businessstart_date=t.data.businessstart_date,e.year_business=t.data.year_business,e.month_business=t.data.month_business,e.constitution_name=t.data.constitution_name,e.assessmentagency_name=t.data.assessmentagency_name,e.assessmentagencyrating_name=t.data.assessmentagencyrating_name,e.rating_date=t.data.rating_date,e.amlcategory_name=t.data.amlcategory_name,e.cin_no=t.data.cin_no,e.pan_no=t.data.pan_no,e.businesscategory_name=t.data.businesscategory_name,e.remarks=t.data.remarks,e.msme_registration=t.data.msme_registration,e.contactperson_fn=t.data.contactperson_fn,e.contactperson_mn=t.data.contactperson_mn,e.contactperson_ln=t.data.contactperson_ln,e.individualproof_name=t.data.individualproof_name,e.designation_type=t.data.designation_type,unlockUI()})}var y=this;y.title="FndMstCustomerMasterViewController",e.customer_gid=g.decryptURL(d.search().hash).lscustomer_gid,_();var f={customer_gid:e.customer_gid},h="api/FndMstCustomerMasterAdd/GetChequeSummaryView";r.getparams(h,f).then(function(t){e.cheque_list=t.data.cheque_list}),e.onchangebusinessstartdate=function(){var t={businessstart_date:e.txtbusinessstart_date};console.log(t);var a="api/FndMstCustomerMasterAdd/GetYearsAndMonthsInBusiness";r.getparams(a,t).then(function(t){e.txtyear_business=t.data.year_business,e.txtmonth_business=t.data.month_business})},e.onselectedDep_yes=function(){"Yes"==e.newDependency?(e.new_dependency=!0,e.new_row=!0):(e.new_dependency=!1,e.new_row=!1),"Yes"==e.newdll?(e.new_dll=!0,e.new_row=!0):(e.new_dll=!1,e.new_row=!1)},e.onchangegst_number=function(){var t=e.txtgst_no,a={gst_code:t.substring(0,2)},n="api/MstApplicationAdd/GetGSTState";r.getparams(n,a).then(function(t){e.txtgst_state=t.data.gst_state})},e.IFSCValidation=function(){if(11==e.txtifsc_code.length){var t={ifsc:e.txtifsc_code},a="api/Kyc/IfscVerification";lockUI(),r.post(a,t).then(function(t){unlockUI(),""!=t.data.result.bank&&null!=t.data.result.bank?(e.ifscvalidation=!0,e.txtbank_name=t.data.result.bank,e.txtbranch_name=t.data.result.branch,e.txtbank_address=t.data.result.address,e.txtmicr_code=t.data.result.micr,""!=t.data.result.micr&&null!=t.data.result.micr||(e.micrempty=!0)):""==t.data.result.bank||null==t.data.result.bank?(e.ifscvalidation=!1,c.alert("IFSC is not verified..!","warning"),e.txtbank_name="",e.txtbranch_name="",e.txtbank_address="",e.txtmicr_code=""):c.alert(t.data.message,"warning")})}},e.BankAccValidation=function(){if(e.txtbankaccount_number==e.txtconfirmbankaccount_number){var t={ifsc:e.txtifsc_code,accountNumber:e.txtconfirmbankaccount_number},a="api/Kyc/BankAccVerification";lockUI(),r.post(a,t).then(function(t){unlockUI(),""!=t.data.result.bankTxnStatus&&null!=t.data.result.bankTxnStatus?(e.bankaccvalidation=!0,e.txtbankaccount_name=t.data.result.accountName):""==t.data.result.bankTxnStatus||null==t.data.result.bankTxnStatus?(e.bankaccvalidation=!1,c.alert("Bank Account is not verified..!","warning"),e.txtbankaccount_name=""):c.alert(t.data.message,"warning")})}},e.getPANbasedGST=function(){if(10==e.txtpan_no.length){var t={pan:e.txtpan_no},a="api/Kyc/GSTSBPAN";r.post(a,t).then(function(t){if(101==t.data.statusCode){e.panvalidation=!0;const a=t.data.result;var n={GSTArray:a},s="api/FndMstCustomerMasterAdd/PostGSTList";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?gst_list():c.alert("Error occured while adding the fetched GST Details..!","warning")})}else if(103==t.data.statusCode){var o={pan:e.txtpan_no},s="api/Kyc/PANNumber";lockUI(),r.post(s,o).then(function(t){unlockUI(),""!=t.data.result.name&&void 0!=t.data.result.name?e.panvalidation=!0:""==t.data.result.name||void 0==t.data.result.name?(e.panvalidation=!1,c.alert("PAN is not verified..!","warning")):c.alert(t.data.message,"warning")})}else c.alert(t.data.message,"warning")})}},e.Back=function(){a.go("app.FndMstCustomerMaster")},e.edit_Submit=function(){a.go("app.FndMstCustomerMaster")},e.StaticMapAndPhotos_View=function(t,e,a,n,o){function i(s,i){var c={latitude:t,longitude:e},d="api/GoogleMapsAPI/GetStaticMapUrl";if(r.getparams(d,c).then(function(t){s.staticmapImgUrl=t.data}),""==n)var m="".concat(a.toString(),",",o.toString());else var m="".concat(a.toString(),",",n.toString(),",",o.toString());var c={address:m},d="api/GoogleMapsAPI/GetPlaceImage";r.getparams(d,c).then(function(t){for(var e=[],a=0;a<t.data.length;a++)null!=t.data[a]&&(e[a]=t.data[a]);0==e.length?s.photoNotFound=!0:(s.photoUrlList=e,s.photoFound=!0)}),s.ok=function(){i.close("closed")}}s.open({templateUrl:"/StaticMapAndPhotosView.html",controller:i,backdrop:"static",keyboard:!1,size:"lg"});i.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("FndMstCustomerMasterViewController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l){function g(){var t="api/FndQuestionnarieMaster/GetQuestionnarie";lockUI(),r.get(t).then(function(t){e.questionarie=t.data.Questionnarie_list,unlockUI()})}var _=this;_.title="FndMstQuestionBankMaster",g(),e.addQuestionTitle=function(){a.go("app.FndAddQuestion")},e.Back=function(){g(),a.go("app.FndMstQuestionBankMaster")},e.edit=function(t){localStorage.setItem("Questionnarie_gid",t),a.go("app.FndEditQuestion")},e["delete"]=function(t){var e={Questionnarie_gid:t};p.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/FndQuestionnarieMaster/DeleteQuestionnarie";r.getparams(a,e).then(function(t){1==t.data.status?g():(c.alert("Error Occurred While Deleting Questionnarie !!!",{status:"warning",pos:"top-center",timeout:3e3}),g())}),p.swal("Deleted Successfully!")}})},e.showPopover=function(t){function e(e,a){var n={Questionnarie_gid:t},s="api/FndQuestionnarieMaster/QuestionnarieEdit";r.getparams(s,n).then(function(t){e.txteditQuestionnarie_code=t.data.Questionnarie_code,e.txteditlms_code=t.data.lms_code,e.txteditbureau_code=t.data.bureau_code,e.txteditQuestionnarie=t.data.Questionnarie_name,
e.txteditremarks=t.data.remarks,e.Questionnarie_gid=t.data.Questionnarie_gid}),e.ok=function(){a.close("closed")}}s.open({templateUrl:"/showremarks.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.importexcel=function(){function t(t,e){t.ok=function(){e.close("closed")},t.downloadtemplate_importexcel=function(){var t=m.GetCommonData.TemplatePath.Path,e="ImportQuestionsMaster.xlsx",a=t+e,n=a.split("EMS"),s=n[1].replace("\\","/"),o=window.location.protocol+"//",i=window.location.host,r=o.concat(i,s),c=document.createElement("a"),d=e.split(".");c.download=d[0],c.href=r,c.click()},t.excelupload=function(a,n,s){var o=document.getElementById("fileimport"),i=o.value;t.fileinputvalue=i;var r=/(\.xls|\.xlsx|\.csv)$/i;if(r.exec(i))if(0==i.includes("ImportQuestionsMaster"))c.alert("File Name / Template Not Supported!","warning"),e.close("closed");else{var d={name:a[0].name,file:a[0]},m=new FormData;m.append("fileupload",d.file),m.append("file_name",d.name),m.append("project_flag","RSK"),t.uploadfrm=m}else c.alert("File Format Not Supported!","warning"),e.close("closed")},t.uploadexcel=function(){if(""==t.fileinputvalue||void 0==t.fileinputvalue||null==t.fileinputvalue)c.alert("Kindly Select the Excel file","warning");else{var a="api/FndQuestionnarieMaster/ImportExcelSample";lockUI(),r.postFile(a,t.uploadfrm).then(function(t){e.close("closed"),1==t.data.status?(unlockUI(),c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),g()):(unlockUI(),c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.close("closed")),$("#fileimport").val("")})}},t.uploadexcelcancel=function(){$("#fileimport").val("")}}s.open({templateUrl:"/importexcel.html",controller:t,backdrop:"static",keyboard:!1,size:"lg"});t.$inject=["$scope","$modalInstance"]},e.Status_update=function(t){function e(e,a){var n={Questionnarie_gid:t},s="api/FndQuestionnarieMaster/QuestionnarieEdit";r.getparams(s,n).then(function(t){e.txteditQuestionnarie_code=t.data.Questionnarie_code,e.txteditlms_code=t.data.lms_code,e.txteditbureau_code=t.data.bureau_code,e.txteditQuestionnarie=t.data.Questionnarie_name,e.txteditremarks=t.data.remarks,e.Questionnarie_gid=t.data.Questionnarie_gid,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")},e.update_status=function(){var n={Questionnarie_name:e.Questionnarie_name,Questionnarie_gid:t,remarks:e.txtremarks,rbo_status:e.rbo_status},s="api/FndQuestionnarieMaster/InactiveQuestionnarie";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g()}),a.close("closed")};var o={Questionnarie_gid:t},s="api/FndQuestionnarieMaster/QuestionnarieInactiveLogview";lockUI(),r.getparams(s,o).then(function(t){e.statusQuestionnarieinactivelog_list=t.data.Questionnarie_list,unlockUI()})}s.open({templateUrl:"/statusQuestionnarie.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("FndMstQuestionBankMaster",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l){function g(){var t="api/FndMstCategoryTypeMaster/GetCategoryType";lockUI(),c.get(t).then(function(a){console.log(t),e.categorytype_data=a.data.categorytype_list,unlockUI()})}var _=this;_.title="FndMstQuestionnarieCategoryController",g(),e.popupcategorytype=function(){function t(t,e){t.ok=function(){e.close("closed")},t.categorytypeSubmit=function(){var a={categorytype_gid:t.categorytype_gid,categorytype_name:t.txtcategory_type,categorytype_code:t.txtcategorytype_code,lms_code:t.txtlms_code,remarks:t.txtaddremarks,bureau_code:t.txtbureau_code},n="api/FndMstCategoryTypeMaster/CreateCategoryType";c.post(n,a).then(function(t){1==t.data.status?(e.close("closed"),d.alert("Category Type Added Successfully..!!","success"),g()):d.alert(t.data.message,"warning")}),e.close("closed"),g()}}a.open({templateUrl:"/myModalContent.html",controller:t,size:"md",backdrop:"static",keyboard:!1});t.$inject=["$scope","$modalInstance"]},e.editcategorytype=function(t){function e(e,a){var n={categorytype_gid:t},s="api/FndMstCategoryTypeMaster/EditCategoryType";c.getparams(s,n).then(function(t){e.txteditcategorytype_code=t.data.categorytype_code,e.txteditlms_code=t.data.lms_code,e.txteditbureau_code=t.data.bureau_code,e.txteditcategory_type=t.data.categorytype_name,e.txteditremarks=t.data.remarks,e.categorytype_gid=t.data.categorytype_gid}),e.ok=function(){a.close("closed")},e.categorytypeUpdate=function(){var t="api/FndMstCategoryTypeMaster/UpdateCategoryType",n={lms_code:e.txteditlms_code,bureau_code:e.txteditbureau_code,categorytype_code:e.txteditcategorytype_code,categorytype_name:e.txteditcategory_type,remarks:e.txteditremarks,categorytype_gid:e.categorytype_gid};c.post(t,n).then(function(t){1==t.data.status?(a.close("closed"),d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),g()):(a.close("closed"),d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}))}),a.close("closed")}}a.open({templateUrl:"/editcategorytype.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.showPopover=function(t){function e(e,a){var n={categorytype_gid:t},s="api/FndMstCategoryTypeMaster/EditCategoryType";c.getparams(s,n).then(function(t){e.txteditcategorytype_code=t.data.categorytype_code,e.txteditlms_code=t.data.lms_code,e.txteditbureau_code=t.data.bureau_code,e.txteditcategory_type=t.data.categorytype_name,e.txteditremarks=t.data.remarks,e.categorytype_gid=t.data.categorytype_gid}),e.ok=function(){a.close("closed")}}a.open({templateUrl:"/showremarks.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.Status_update=function(t){function e(e,a){var n={categorytype_gid:t},s="api/FndMstCategoryTypeMaster/EditCategoryType";c.getparams(s,n).then(function(t){e.categorytype_gid=t.data.categorytype_gid,e.txtcategory_type=t.data.categorytype_name,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")},e.update_status=function(){var t={categorytype_name:e.txtcategory_type,categorytype_gid:e.categorytype_gid,remarks:e.txtremarks,rbo_status:e.rbo_status},n="api/FndMstCategoryTypeMaster/InactiveCategoryType";lockUI(),c.post(n,t).then(function(t){unlockUI(),1==t.data.status?d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g()}),a.close("closed")};var s="api/FndMstCategoryTypeMaster/CategoryTypeInactiveLogview";lockUI(),c.getparams(s,n).then(function(t){e.categorytypeinactivelog_data=t.data.categorytype_list,unlockUI()})}a.open({templateUrl:"/statuscategorytype.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.deletecategorytype=function(t){var e={categorytype_gid:t};o.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/FndMstCategoryTypeMaster/DeleteCategoryType";c.getparams(a,e).then(function(t){1==t.data.status?g():(d.alert("Error Occurred While Deleting Category Type !!!",{status:"warning",pos:"top-center",timeout:3e3}),g())}),o.swal("Deleted Successfully!")}})}}angular.module("angle").controller("FndMstQuestionnarieCategoryController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){M.open=function(t){t.preventDefault(),t.stopPropagation(),M.opened=!0},M.open1=function(t){t.preventDefault(),t.stopPropagation(),M.opened1=!0},M.open2=function(t){t.preventDefault(),t.stopPropagation(),M.opened2=!0},M.formats=["dd-MM-yyyy"],M.format=M.formats[0],M.dateOptions={formatYear:"yy",startingDay:1};var t="api/FndMstCustomerMasterAdd/GetcustomerTempClear";r.get(t).then(function(t){});var t="api/FndMstCustomerMasterAdd/GetChequeSummary";r.get(t).then(function(t){e.cheque_list=t.data.cheque_list,e.employee_gid=t.data.employee_gid});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/customerGSTList";r.getparams(t,a).then(function(t){e.customergst_list=t.data.customergst_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/customerMobileNoList";r.getparams(t,a).then(function(t){e.mobileno_list=t.data.mobileno_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/customerEmailAddressList";r.getparams(t,a).then(function(t){e.email_list=t.data.email_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/customerAddressList";r.getparams(t,a).then(function(t){e.customeraddress_list=t.data.customeraddress_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/Getconstitution";r.getparams(t,a).then(function(t){e.constitution_list=t.data.constitution_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/Getassessmentagency";r.getparams(t,a).then(function(t){e.assessmentagency_list=t.data.assessmentagency_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/Getassessmentagencyrating";r.getparams(t,a).then(function(t){e.assessmentagencyrating_list=t.data.assessmentagencyrating_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/Getamlcategory";r.getparams(t,a).then(function(t){e.amlcategory_list=t.data.amlcategory_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/Getbusinesscategory";r.getparams(t,a).then(function(t){e.businesscategory_list=t.data.businesscategory_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/Getdesignation";r.getparams(t,a).then(function(t){e.designation_list=t.data.designation_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/Getindividualproof";r.getparams(t,a).then(function(t){e.individualproof_list=t.data.individualproof_list});var a={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/state";r.getparams(t,a).then(function(t){e.state_list=t.data.state_list});var n={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/GetChequeSummaryView";r.getparams(t,n).then(function(t){e.cheque_list=t.data.cheque_list});var t="api/FndMstCustomerMasterAdd/state";r.get(t).then(function(t){e.state_list=t.data.state_list});var n={customer_gid:e.customer_gid},t="api/FndMstCustomerMasterAdd/customerDetailsEdit";r.getparams(t,n).then(function(t){e.customer_code=t.data.customer_code,e.customer_name=t.data.customer_name,e.businessstart_date=t.data.businessstart_date,e.year_business=t.data.year_business,e.month_business=t.data.month_business,e.cboconstitution=t.data.constitution_gid,e.cboassessmentagency=t.data.assessmentagency_gid,e.cboassessmentagencyrating=t.data.assessmentagencyrating_gid,e.rating_date=t.data.rating_date,e.cboamlcategory=t.data.amlcategory_gid,e.cin_no=t.data.cin_no,e.pan_no=t.data.pan_no,e.cbobusinesscategory=t.data.businesscategory_gid,e.remarks=t.data.remarks,e.dependency_name=t.data.msme_registration,e.contactperson_fn=t.data.contactperson_fn,e.contactperson_mn=t.data.contactperson_mn,e.contactperson_ln=t.data.contactperson_ln,e.cboindividualproof=t.data.individualproof_gid,e.cbodesignation=t.data.designation_gid,e.newDependency=t.data.msme_radio,e.txtAnswerDescription="","Yes"==e.newDependency?(e.new_dependency=!0,e.new_row=!0):(e.new_dependency=!1,e.new_row=!1),unlockUI()});var t="api/FndMstCustomerMasterAdd/GetCustomerRaiseQuery";r.getparams(t,n).then(function(t){e.customerraisequery_list=t.data.customerraisequery_list})}function y(){var t={customer_gid:e.customer_gid},a="api/FndMstCustomerMasterAdd/MobileNoTempList";r.getparams(a,t).then(function(t){e.mobileno_list=t.data.customermobileno_list})}function f(){var t="api/FndMstCustomerMasterAdd/GetGSTList";r.get(t).then(function(t){e.customergst_list=t.data.customergst_list})}function f(){var t="api/FndMstCustomerMasterAdd/GetGSTList";r.get(t).then(function(t){e.customergst_list=t.data.customergst_list})}function h(){var t={customer_gid:e.customer_gid},a="api/FndMstCustomerMasterAdd/EmailTempList";r.getparams(a,t).then(function(t){e.email_list=t.data.customeremailaddress_list})}function b(){var t="api/FndMstCustomerMasterAdd/GetAddressList";r.get(t).then(function(t){e.customeraddress_list=t.data.customeraddress_list})}function v(){var t="api/FndMstCustomerMasterAdd/GetChequeSummary";r.get(t).then(function(t){e.cheque_list=t.data.cheque_list})}function C(){var t="api/FndMstCustomerMasterAdd/GetBankList";r.get(t).then(function(t){e.customerbank_list=t.data.customerbank_list})}function k(t){var a={customer_gid:t},n="api/FndMstCustomerMasterAdd/GetCustomerRaiseQuery";lockUI(),r.getparams(n,a).then(function(t){unlockUI(),e.customerraisequery_list=t.data.customerraisequery_list})}var M=this;M.title="FndTrnApprovalEditController",e.customer_gid=g.decryptURL(d.search().hash).lscustomer_gid,e.fndmanagement2cheque_gid=g.decryptURL(d.search().hash).lsfndmanagement2cheque_gid,_();var S={customer_gid:e.customer_gid},x="api/FndMstCustomerMasterAdd/ChequeDetailsEdit";r.getparams(x,S).then(function(t){e.accountholder_name=t.data.accountholder_name,e.account_number=t.data.account_number,e.bank_name=t.data.bank_name,e.cheque_no=t.data.cheque_no,e.ifsc_code=t.data.ifsc_code,e.micr=t.data.micr,e.branch_address=t.data.branch_address,e.branch_name=t.data.branch_name,e.city=t.data.city,e.district=t.data.district,e.state=t.data.state}),e.onchangebusinessstartdate=function(t){var a={date:t.toDateString()},n="api/FndTrnMyCampaignSummary/FutureDateCheck";r.getparams(n,a).then(function(t){0==t.data.status&&(e.txtbusinessstart_date="",c.alert(t.data.message,"warning"))});var a={businessstart_date:e.txtbusinessstart_date};console.log(a);var n="api/FndMstCustomerMasterAdd/GetYearsAndMonthsInBusiness";r.getparams(n,a).then(function(t){e.txtyear_business=t.data.year_business,e.txtmonth_business=t.data.month_business})},e.onselectedDep_yes=function(){"Yes"==e.newDependency?(e.new_dependency=!0,e.new_row=!0):(e.new_dependency=!1,e.new_row=!1),"Yes"==e.newdll?(e.new_dll=!0,e.new_row=!0):(e.new_dll=!1,e.new_row=!1)},e.getcustomerbasedGST=function(){var t={pan:e.txtpan_no},a="api/Kyc/PANNumber";lockUI(),r.post(a,t).then(function(t){unlockUI(),""!=t.data.result.name&&void 0!=t.data.result.name?(e.panvalidation=!0,e.txtcustomer_name=t.data.result.name):""==t.data.result.name||void 0==t.data.result.name?(e.panvalidation=!1,c.alert("PAN is not verified..!","warning")):c.alert(t.data.message,"warning")})},e.getPANbasedGST=function(){if(10==e.txtpan_no.length){var t={pan:e.txtpan_no},a="api/Kyc/GSTSBPAN";r.post(a,t).then(function(t){if(101==t.data.statusCode){e.panvalidation=!0;const a=t.data.result;var n={GSTArray:a},s="api/FndMstCustomerMasterAdd/PostGSTList";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?f():c.alert("Error occured while adding the fetched GST Details..!","warning")})}else c.alert(t.data.message,"warning")})}},e.mobileno_add=function(){if(void 0==e.txtmobile_no||""==e.txtmobile_no||void 0==e.rdbprimarymobile_no||void 0==e.rdbwhatsappmobile_no)c.alert("Enter Mobile No/Select Status");else{var t={mobile_no:e.txtmobile_no,primary_mobileno:e.rdbprimarymobile_no,whatsapp_mobileno:e.rdbwhatsappmobile_no},a="api/FndMstCustomerMasterAdd/PostMobileNo";lockUI(),r.post(a,t).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),y(),e.txtmobile_no="",e.rdbprimarymobile_no="",e.rdbwhatsappmobile_no="",0==e.rdbprimarymobile_no})}},e.gst_add=function(){if(""==e.txtgst_no||void 0==e.txtgst_no||""==e.txtgst_state||void 0==e.txtgst_state)e.mandatoryfields=!0;else{e.mandatoryfields=!1;var t={gststate_name:e.txtgst_state,gst_no:e.txtgst_no,gstregister_status:e.rdbgstregister_status},a="api/FndMstCustomerMasterAdd/PostGST";lockUI(),r.post(a,t).then(function(t){unlockUI(),1==t.data.status?(e.cboGstState="",e.rdbgstregister_status="",c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3})):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),f(),e.txtgst_no="",""==e.txtgst_state})}},e.gst_delete=function(t){var e={customer2gst_gid:t};console.log(e);var a="api/FndMstCustomerMasterAdd/DeleteGST";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),f()})},e.onchangegst_number=function(){var t=e.txtgst_no,a={gst_code:t.substring(0,2)},n="api/MstApplicationAdd/GetGSTState";r.getparams(n,a).then(function(t){e.txtgst_state=t.data.gst_state})},e.address_add=function(){function t(t,e){t.geocodingFailed=!1;var a="api/AddressType/GetAddressTypeASC";r.get(a).then(function(e){t.addresstype_list=e.data.addresstype_list}),t.ok=function(){e.close("closed")},t.onchangepostal_code=function(){var e={postal_code:t.txtpostal_code},a="api/Mstbuyer/GetPostalCodeDetails";r.getparams(a,e).then(function(e){t.txtcity=e.data.city,t.txttaluka=e.data.taluka,t.txtdistrict=e.data.district,t.txtstate=e.data.state_name})},t.getGeoCoding=function(){if(void 0==t.txtpostal_code||t.txtpostal_code.length<6)t.txtlatitude="",t.txtlongitude="";else{if(void 0==t.txtaddressline2)var e="".concat(t.txtaddressline1.toString(),",",t.txtpostal_code.toString());else var e="".concat(t.txtaddressline1.toString(),",",t.txtaddressline2.toString(),",",t.txtpostal_code.toString());var a={address:e},n="api/GoogleMapsAPI/GetGeoCoding";r.getparams(n,a).then(function(e){"OK"==e.data.status?(t.txtlatitude=e.data.results[0].geometry.location.lat.toString(),t.txtlongitude=e.data.results[0].geometry.location.lng.toString(),t.geocodingFailed=!1):"ZERO_RESULTS"==e.data.status&&(t.geocodingFailed=!0)})}},t.txtcountry="India",t.addressSubmit=function(){var a={addresstype_gid:t.cboaddresstype.address_gid,addresstype_name:t.cboaddresstype.address_type,primary_address:t.rdbprimaryaddress,addressline1:t.txtaddressline1,addressline2:t.txtaddressline2,landmark:t.txtlandmark,postal_code:t.txtpostal_code,city:t.txtcity,taluka:t.txttaluka,district:t.txtdistrict,state_name:t.txtstate,country:t.txtcountry,latitude:t.txtlatitude,longitude:t.txtlongitude},n="api/FndMstCustomerMasterAdd/PostAddress";lockUI(),r.post(n,a).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),b()):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})}),e.close("closed")}}s.open({templateUrl:"/addAddress.html",controller:t,backdrop:"static",keyboard:!1,size:"lg"});t.$inject=["$scope","$modalInstance"]},e.add_cheque=function(){d.url("app/FndMstcustomerAddCheque?hash="+g.encryptURL("lscustomer_gid="+e.customer_gid+"&lsfndmanagement2cheque_gid="+e.fndmanagement2cheque_gid+"&lstab=edit"))},e.IFSCValidation=function(){if(11==e.txtifsc_code.length){var t={ifsc:e.txtifsc_code},a="api/Kyc/IfscVerification";lockUI(),r.post(a,t).then(function(t){unlockUI(),""!=t.data.result.bank&&null!=t.data.result.bank?(e.ifscvalidation=!0,e.txtbank_name=t.data.result.bank,e.txtbranch_name=t.data.result.branch,e.txtbank_address=t.data.result.address,e.txtmicr_code=t.data.result.micr,""!=t.data.result.micr&&null!=t.data.result.micr||(e.micrempty=!0)):""==t.data.result.bank||null==t.data.result.bank?(e.ifscvalidation=!1,c.alert("IFSC is not verified..!","warning"),e.txtbank_name="",e.txtbranch_name="",e.txtbank_address="",e.txtmicr_code=""):c.alert(t.data.message,"warning")})}},e.onchangegst_number=function(){var t=e.txtgst_no,a={gst_code:t.substring(0,2)},n="api/FndMstCustomerMasterAdd/GetGSTState";r.getparams(n,a).then(function(t){e.txtgst_state=t.data.gst_state})},e.BankAccValidation=function(){if(e.txtbankaccount_number==e.txtconfirmbankaccount_number){var t={ifsc:e.txtifsc_code,accountNumber:e.txtconfirmbankaccount_number},a="api/Kyc/BankAccVerification";lockUI(),r.post(a,t).then(function(t){unlockUI(),""!=t.data.result.bankTxnStatus&&null!=t.data.result.bankTxnStatus?(e.bankaccvalidation=!0,e.txtbankaccount_name=t.data.result.accountName):""==t.data.result.bankTxnStatus||null==t.data.result.bankTxnStatus?(e.bankaccvalidation=!1,c.alert("Bank Account is not verified..!","warning"),e.txtbankaccount_name=""):c.alert(t.data.message,"warning")})}},e.getPANbasedGST=function(){if(10==e.txtpan_no.length){var t={pan:e.txtpan_no},a="api/Kyc/GSTSBPAN";r.post(a,t).then(function(t){if(101==t.data.statusCode){e.panvalidation=!0;const a=t.data.result;var n={GSTArray:a},s="api/FndMstCustomerMasterAdd/PostGSTList";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?f():c.alert("Error occured while adding the fetched GST Details..!","warning")})}else if(103==t.data.statusCode){var o={pan:e.txtpan_no},s="api/Kyc/PANNumber";lockUI(),r.post(s,o).then(function(t){unlockUI(),""!=t.data.result.name&&void 0!=t.data.result.name?e.panvalidation=!0:""==t.data.result.name||void 0==t.data.result.name?(e.panvalidation=!1,c.alert("PAN is not verified..!","warning")):c.alert(t.data.message,"warning")})}else c.alert(t.data.message,"warning")})}},e.gst_edit=function(t){function e(e,a){var n="api/customer/state";r.get(n).then(function(t){e.state_list=t.data.state_list});var s={customer2gst_gid:t},n="api/FndMstCustomerMasterAdd/GSTEdit";r.getparams(n,s).then(function(t){e.txteditgst_state=t.data.gststate_name,e.txteditgst_number=t.data.gst_no,e.rdbgstregistered=t.data.gstregister_status,e.customer_gid=t.data.customer_gid,e.customer2gst_gid=t.data.customer2gst_gid}),e.ok=function(){a.close("closed")},e.onchangeeditgst_number=function(){var t=e.txteditgst_number,a={gst_code:t.substring(0,2)},n="api/FndMstCustomerMasterAdd/GetGSTState";r.getparams(n,a).then(function(t){e.txteditgst_state=t.data.gst_state})},e.update_gst=function(){var t={gststate_name:e.txteditgst_state,gst_no:e.txteditgst_number,gstregister_status:e.rdbgstregistered,customer_gid:localStorage.getItem("customer_gid"),customer2gst_gid:e.customer2gst_gid},n="api/FndMstCustomerMasterAdd/GSTUpdate";lockUI(),r.post(n,t).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),gst_templist(),e.txtgst_no=""}),a.close("closed")}}s.open({templateUrl:"/editgstdetails.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.emailaddress_edit=function(t){function e(e,a){var n={customer2emailaddress_gid:t},s="api/FndMstCustomerMasterAdd/EmailAddressEdit";r.getparams(s,n).then(function(t){e.txteditemail_address=t.data.email_address,e.rdbeditprimary_emailaddress=t.data.primary_emailaddress}),e.ok=function(){a.close("closed")},e.update_emailaddress=function(){var n={email_address:e.txteditemail_address,primary_emailaddress:e.rdbeditprimary_emailaddress,customer2emailaddress_gid:t,customer_gid:localStorage.getItem("customer_gid")},s="api/FndMstCustomerMasterAdd/EmailAddressUpdate";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),h()}),a.close("closed")}}s.open({templateUrl:"/editemailaddress.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.mobileno_edit=function(t){function e(e,a){var n={customer2mobileno_gid:t},s="api/FndMstCustomerMasterAdd/MobileNoEdit";r.getparams(s,n).then(function(t){e.txteditmobile_no=t.data.mobile_no,e.rdbeditprimarymobile_no=t.data.primary_mobileno,e.rdbeditwhatsappmobile_no=t.data.whatsapp_mobileno}),e.ok=function(){a.close("closed")},e.update_mobileno=function(){var n={mobile_no:e.txteditmobile_no,primary_mobileno:e.rdbeditprimarymobile_no,whatsapp_mobileno:e.rdbeditwhatsappmobile_no,customer2mobileno_gid:t,customer_gid:localStorage.getItem("customer_gid")},s="api/FndMstCustomerMasterAdd/MobileNoUpdate";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),y()}),a.close("closed")}}s.open({templateUrl:"/editmobileno.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.emailaddress_delete=function(t){var e={customer2emailaddress_gid:t},a="api/FndMstCustomerMasterAdd/DeleteEmailAddress";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),h()})},e.Back=function(){a.go("app.FndTrnCustomerApproval")},e.edit_Submit=function(){a.go("app.FndTrnCustomerApproval")},e.viewcustomer=function(t,e){d.url("app/FndMstCustomerChequeView?hash="+g.encryptURL("lscustomer_gid="+t+"&lsfndmanagement2cheque_gid="+e+"&lstab=edit"))},e.editCheque=function(t){d.url("app/FndMstcustomerEditCheque?hash="+g.encryptURL("lsfndmanagement2cheque_gid="+fndmanagement2cheque_gid+"&lsfndmanagement_gid="+e.fndmanagement_gid+"&lstab=edit"))},e.customer_submit=function(){var t="",n="",s="",o="",i="",d="",m="",p="",u="",l="";void 0==e.cboConstitution&&null==e.cboConstitution||(t=e.cboConstitution.constitution_gid,n=e.cboConstitution.constitution_name),void 0==e.cboassessmentagency&&null==e.cboassessmentagency||(s=e.cboassessmentagency.assessmentagency_gid,o=e.cboassessmentagency.assessmentagency_name),void 0==e.cboassessmentagencyrating&&null==e.cboassessmentagencyrating||(i=e.cboassessmentagencyrating.assessmentagencyrating_gid,d=e.cboassessmentagencyrating.assessmentagencyrating_name),void 0==e.cboamlcategory&&null==e.cboamlcategory||(m=e.cboamlcategory.amlcategory_gid,p=e.cboamlcategory.amlcategory_name),void 0==e.cbobusinesscategory&&null==e.cbobusinesscategory||(u=e.cbobusinesscategory.businesscategory_gid,l=e.cbobusinesscategory.businesscategory_name);var g={customer_name:e.txtcustomer_name,coi_date:e.txtcoi_date,businessstart_date:e.txtbusinessstart_date,year_business:e.txtyear_business,month_business:e.txtmonth_business,constitution_gid:t,constitution_name:n,assessmentagency_gid:s,assessmentagency_name:o,assessmentagencyrating_gid:i,assessmentagencyrating_name:d,amlcategory_gid:m,amlcategory_name:p,businesscategory_gid:u,businesscategory_name:l,cin_no:e.txtcin_no,pan_no:e.txtpan_no,contactperson_fn:e.txtcontactperson_fn,contactperson_mn:e.txtcontactperson_mn,contactperson_ln:e.txtcontactperson_ln,remarks:e.txtaddremarks},_="api/FndMstCustomerMasterAdd/customerEditSubmit";lockUI(),r.post(_,g).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),a.go("app.FndMstCustomerMaster")):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.approver_update=function(){var t={customer_name:e.customer_name,businessstart_date:e.businessstart_date,year_business:e.year_business,month_business:e.month_business,constitution_gid:e.cboConstitution,assessmentagency_gid:e.cboassessmentagency,constitution_name:e.constitution_name,assessmentagency_name:e.assessmentagency_name,assessmentagencyrating_name:e.assessmentagencyrating_name,amlcategory_name:e.amlcategory_name,businesscategory_name:e.businesscategory_name,designation_type:e.designation_type,individualproof_name:e.individualproof_name,assessmentagencyrating_gid:e.cboassessmentagencyrating,rating_date:e.rating_date,amlcategory_gid:e.cboamlcategory,businesscategory_gid:e.cbobusinesscategory,designation_gid:e.cbodesignation,individualproof_gid:e.cboindividualproof,cin_no:e.cin_no,pan_no:e.pan_no,contactperson_fn:e.contactperson_fn,contactperson_mn:e.contactperson_mn,contactperson_ln:e.contactperson_ln,remarks:e.addremarks,msme_registration:e.dependency_name,customer_gid:e.customer_gid},n="api/FndMstCustomerMasterAdd/approverEditUpdate";lockUI(),r.post(n,t).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),a.go("app.FndTrnCustomerApproval")):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.rejected_update=function(){var t={customer_name:e.customer_name,businessstart_date:e.businessstart_date,year_business:e.year_business,month_business:e.month_business,constitution_gid:e.cboConstitution,assessmentagency_gid:e.cboassessmentagency,constitution_name:e.constitution_name,assessmentagency_name:e.assessmentagency_name,assessmentagencyrating_name:e.assessmentagencyrating_name,amlcategory_name:e.amlcategory_name,businesscategory_name:e.businesscategory_name,designation_type:e.designation_type,individualproof_name:e.individualproof_name,assessmentagencyrating_gid:e.cboassessmentagencyrating,rating_date:e.rating_date,amlcategory_gid:e.cboamlcategory,businesscategory_gid:e.cbobusinesscategory,designation_gid:e.cbodesignation,individualproof_gid:e.cboindividualproof,cin_no:e.cin_no,pan_no:e.pan_no,contactperson_fn:e.contactperson_fn,contactperson_mn:e.contactperson_mn,contactperson_ln:e.contactperson_ln,remarks:e.addremarks,msme_registration:e.dependency_name,customer_gid:e.customer_gid},n="api/FndMstCustomerMasterAdd/rejectedEditUpdate";lockUI(),r.post(n,t).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),a.go("app.FndTrnCustomerApproval")):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.gst_delete=function(t){var e={customer2gst_gid:t};console.log(e);var a="api/FndMstCustomerMasterAdd/DeleteGST";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),f()})},e.mobileno_delete=function(t){var e={customer2mobileno_gid:t};console.log(e);var a="api/FndMstCustomerMasterAdd/DeleteMobileNo";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),y()})},e.cheque_delete=function(t){var e={fndmanagement2cheque_gid:t},a="api/FndMstCustomerMasterAdd/DeleteChequeDetail";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),customermobileno_list()})},e.emailaddress_delete=function(t){var e={customer2emailaddress_gid:t};console.log(e);var a="api/FndMstCustomerMasterAdd/DeleteEmailAddress";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),h()})},e.address_edit=function(t){function e(e,a){e.geocodingFailed=!1;var n="api/AddressType/GetAddressTypeASC";r.get(n).then(function(t){e.addresstype_list=t.data.addresstype_list});var s={customer2address_gid:t},n="api/FndMstCustomerMasterAdd/AddressDetailEdit";r.getparams(n,s).then(function(t){e.cboaddresstype=t.data.address_typegid,e.rdbprimaryaddress=t.data.primary_address,e.txtaddressline1=t.data.addressline1,e.txtaddressline2=t.data.addressline2,e.txtlandmark=t.data.landmark,e.txtpostal_code=t.data.postal_code,e.txtcity=t.data.city,e.txttaluka=t.data.taluka,e.txtdistrict=t.data.district,
e.txtstate=t.data.state,e.txtcountry=t.data.country,e.txtlatitude=t.data.latitude,e.txtlongitude=t.data.longitude,e.customer_gid=t.data.customer_gid,e.customer2address_gid=t.data.customer2address_gid}),e.ok=function(){a.close("closed")},e.onchangepostal_code=function(){var t={postal_code:e.txtpostal_code},a="api/Mstbuyer/GetPostalCodeDetails";r.getparams(a,t).then(function(t){e.txtcity=t.data.city,e.txttaluka=t.data.taluka,e.txtdistrict=t.data.district,e.txtstate=t.data.state_name})},e.getGeoCoding=function(){if(void 0==e.txtpostal_code||e.txtpostal_code.length<6)e.txtlatitude="",e.txtlongitude="";else{if(void 0==e.txtaddressline2)var t="".concat(e.txtaddressline1.toString(),",",e.txtpostal_code.toString());else var t="".concat(e.txtaddressline1.toString(),",",e.txtaddressline2.toString(),",",e.txtpostal_code.toString());var a={address:t},n="api/GoogleMapsAPI/GetGeoCoding";r.getparams(n,a).then(function(t){"OK"==t.data.status?(e.txtlatitude=t.data.results[0].geometry.location.lat.toString(),e.txtlongitude=t.data.results[0].geometry.location.lng.toString(),e.geocodingFailed=!1):"ZERO_RESULTS"==t.data.status&&(e.geocodingFailed=!0)})}},e.txtcountry="India",e.addressUpdate=function(){var t=$("#address_type :selected").text(),n={address_typegid:e.cboaddresstype,address_type:t,addressline1:e.txtaddressline1,addressline2:e.txtaddressline2,primary_address:e.rdbprimaryaddress,landmark:e.txtlandmark,postal_code:e.txtpostal_code,taluka:e.txttaluka,city:e.txtcity,state:e.txtstate,district:e.txtdistrict,country:e.txtcountry,latitude:e.txtlatitude,longitude:e.txtlongitude,customer2address_gid:e.customer2address_gid,customer_gid:localStorage.getItem("customer_gid")},s="api/FndMstCustomerMasterAdd/AddressDetailUpdate";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),address_templist()}),a.close("closed")}}s.open({templateUrl:"/editaddressdetails.html",controller:e,backdrop:"static",keyboard:!1,size:"lg"});e.$inject=["$scope","$modalInstance"]},e.address_delete=function(t){var e={customer2address_gid:t};console.log(e);var a="api/FndMstCustomerMasterAdd/DeleteAddress";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),b()})},e.gst_add=function(){if(""==e.txtgst_no||void 0==e.txtgst_no||""==e.txtgst_state||void 0==e.txtgst_state)e.mandatoryfields=!0;else{e.mandatoryfields=!1;var t={gststate_name:e.txtgst_state,gst_no:e.txtgst_no,gstregister_status:e.rdbgstregister_status},a="api/FndMstCustomerMasterAdd/PostGST";lockUI(),r.post(a,t).then(function(t){unlockUI(),1==t.data.status?(e.cboGstState="",e.rdbgstregister_status="",c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3})):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),f(),e.txtgst_no="",""==e.txtgst_state})}},e.emailaddress_add=function(){if(void 0==e.txtemail_address||""==e.txtemail_address||void 0==e.rdbprimaryemail_address)c.alert("Enter Email Address/Select Status");else{var t={email_address:e.txtemail_address,primary_emailaddress:e.rdbprimaryemail_address},a="api/FndMstCustomerMasterAdd/PostEmailAddress";lockUI(),r.post(a,t).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),h(),e.txtemail_address="",e.rdbprimaryemail_address="",0==e.rdbprimaryemail_address})}},e.StaticMapAndPhotos_View=function(t,e,a,n,o){function i(s,i){var c={latitude:t,longitude:e},d="api/GoogleMapsAPI/GetStaticMapUrl";if(r.getparams(d,c).then(function(t){s.staticmapImgUrl=t.data}),""==n)var m="".concat(a.toString(),",",o.toString());else var m="".concat(a.toString(),",",n.toString(),",",o.toString());var c={address:m},d="api/GoogleMapsAPI/GetPlaceImage";r.getparams(d,c).then(function(t){for(var e=[],a=0;a<t.data.length;a++)null!=t.data[a]&&(e[a]=t.data[a]);0==e.length?s.photoNotFound=!0:(s.photoUrlList=e,s.photoFound=!0)}),s.ok=function(){i.close("closed")}}s.open({templateUrl:"/StaticMapAndPhotosView.html",controller:i,backdrop:"static",keyboard:!1,size:"lg"});i.$inject=["$scope","$modalInstance"]},e.edit_cheque=function(){var t={stakeholder_gid:e.cboStakeholder.stakeholder_gid,stakeholder_name:e.cboStakeholder.stakeholder_name,stakeholder_type:e.txtstakeholder_type,designation:e.txtdesignation,accountholder_name:e.txtaccountholder_name,account_number:e.txtaccount_number,bank_name:e.txtbank_name,cheque_no:e.txtcheque_no,ifsc_code:e.txtifsc_code,micr:e.txtmicr,branch_address:e.txtbranch_address,branch_name:e.txtbranch_name,city:e.txtcity,district:e.txtdistrict,state:e.txtstate,mergedbankingentity_gid:e.cbomergedbanking_entity.bankname_gid,mergedbankingentity_name:e.cbomergedbanking_entity.bankname_name,special_condition:e.txtspecial_condition,general_remarks:e.txtgeneral_remarks,cts_enabled:e.rbocts_enabled,cheque_type:e.cbocheque_type,date_chequetype:e.txtdate_chequetype,date_chequepresentation:e.txtdate_chequepresentation,status_chequepresentation:e.txtstatus_chequepresentation,date_chequeclearance:e.txtdate_chequeclearance,status_chequeclearance:e.txtstatus_chequeclearance},a="api/UdcManagement/PostChequeDetail";r.post(a,t).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),v(),e.cboStakeholder="",e.txtstakeholder_type="",e.txtdesignation="",e.txtaccountholder_name="",e.txtaccount_number="",e.txtbank_name="",e.txtcheque_no="",e.txtifsc_code="",e.txtmicr="",e.txtbranch_address="",e.txtbranch_name="",e.txtcity="",e.txtdistrict="",e.txtstate="",e.cbomergedbanking_entity="",e.txtspecial_condition="",e.txtgeneral_remarks="",e.rbocts_enabled="",e.cbocheque_type="",e.txtdate_chequetype="",e.txtdate_chequepresentation="",e.txtstatus_chequepresentation="",e.txtdate_chequeclearance="",e.txtstatus_chequeclearance="",e.uploadfrm=void 0,e.chequedocument_list=null})},e.delete_cheque=function(t){lockUI();var e={udcmanagement2cheque_gid:t},a="api/FndMstCustomerMasterAdd/DeleteChequeDetail";r.getparams(a,e).then(function(t){1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"danger",pos:"top-center",timeout:3e3}),v(),unlockUI()})},e.bank_delete=function(t){var e={customer2bank_gid:t};console.log(e);var a="api/FndMstCustomerMasterAdd/DeleteBank";lockUI(),r.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),C()})},e.myraisequery=function(t){function e(e,a){e.ok=function(){a.close("closed")};e.submit=function(){var n={customer_gid:t,query_title:e.txtquery_title,query_description:e.txtquery_description},s="api/FndMstCustomerMasterAdd/PostCustomerRaiseQuery";lockUI(),r.post(s,n).then(function(e){unlockUI(),1==e.data.status?(c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}),k(t)):c.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3})}),a.close("closed")}}s.open({templateUrl:"/myqueryClose.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.view_myquerydesc=function(t,e,a){function n(n,s){n.lblquery_desc=t,n.lblqueryresponse_remarks=e,n.lblquery_responseby=a,n.ok=function(){s.close("closed")}}s.open({templateUrl:"/myqueryDescriptionView.html",controller:n,backdrop:"static",keyboard:!1,size:"lg"});n.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("FndTrnApprovalEditController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){y.open=function(t){t.preventDefault(),t.stopPropagation(),y.opened=!0},y.open1=function(t){t.preventDefault(),t.stopPropagation(),y.opened1=!0},y.open2=function(t){t.preventDefault(),t.stopPropagation(),y.opened2=!0},y.formats=["dd-MM-yyyy"],y.format=y.formats[0],y.dateOptions={formatYear:"yy",startingDay:1};var t={customer_gid:e.customer_gid},a="api/FndMstCustomerMasterAdd/customerGSTList";r.getparams(a,t).then(function(t){e.customergst_list=t.data.customergst_list});var t={customer_gid:e.customer_gid},a="api/FndMstCustomerMasterAdd/customerMobileNoList";r.getparams(a,t).then(function(t){e.mobileno_list=t.data.mobileno_list});var t={customer_gid:e.customer_gid},a="api/FndMstCustomerMasterAdd/customerEmailAddressList";r.getparams(a,t).then(function(t){e.email_list=t.data.email_list});var t={customer_gid:e.customer_gid},a="api/FndMstCustomerMasterAdd/customerAddressList";r.getparams(a,t).then(function(t){e.address_list=t.data.customeraddress_list});var n={customer_gid:e.customer_gid},a="api/FndMstCustomerMasterAdd/customerDetailsEdit";r.getparams(a,n).then(function(t){e.customer_code=t.data.customer_code,e.customer_name=t.data.customer_name,e.businessstart_date=t.data.businessstart_date,e.year_business=t.data.year_business,e.month_business=t.data.month_business,e.constitution_name=t.data.constitution_name,e.assessmentagency_name=t.data.assessmentagency_name,e.assessmentagencyrating_name=t.data.assessmentagencyrating_name,e.rating_date=t.data.rating_date,e.amlcategory_name=t.data.amlcategory_name,e.cin_no=t.data.cin_no,e.pan_no=t.data.pan_no,e.businesscategory_name=t.data.businesscategory_name,e.remarks=t.data.remarks,e.msme_registration=t.data.msme_registration,e.contactperson_fn=t.data.contactperson_fn,e.contactperson_mn=t.data.contactperson_mn,e.contactperson_ln=t.data.contactperson_ln,e.individualproof_name=t.data.individualproof_name,e.designation_type=t.data.designation_type,unlockUI()})}var y=this;y.title="FndTrnApprovalViewController",e.customer_gid=g.decryptURL(d.search().hash).lscustomer_gid,_();var f={customer_gid:e.customer_gid},h="api/FndMstCustomerMasterAdd/GetChequeSummaryView";r.getparams(h,f).then(function(t){e.cheque_list=t.data.cheque_list}),e.onchangebusinessstartdate=function(){var t={businessstart_date:e.txtbusinessstart_date};console.log(t);var a="api/FndMstCustomerMasterAdd/GetYearsAndMonthsInBusiness";r.getparams(a,t).then(function(t){e.txtyear_business=t.data.year_business,e.txtmonth_business=t.data.month_business})},e.onselectedDep_yes=function(){"Yes"==e.newDependency?(e.new_dependency=!0,e.new_row=!0):(e.new_dependency=!1,e.new_row=!1),"Yes"==e.newdll?(e.new_dll=!0,e.new_row=!0):(e.new_dll=!1,e.new_row=!1)},e.onchangegst_number=function(){var t=e.txtgst_no,a={gst_code:t.substring(0,2)},n="api/MstApplicationAdd/GetGSTState";r.getparams(n,a).then(function(t){e.txtgst_state=t.data.gst_state})},e.IFSCValidation=function(){if(11==e.txtifsc_code.length){var t={ifsc:e.txtifsc_code},a="api/Kyc/IfscVerification";lockUI(),r.post(a,t).then(function(t){unlockUI(),""!=t.data.result.bank&&null!=t.data.result.bank?(e.ifscvalidation=!0,e.txtbank_name=t.data.result.bank,e.txtbranch_name=t.data.result.branch,e.txtbank_address=t.data.result.address,e.txtmicr_code=t.data.result.micr,""!=t.data.result.micr&&null!=t.data.result.micr||(e.micrempty=!0)):""==t.data.result.bank||null==t.data.result.bank?(e.ifscvalidation=!1,c.alert("IFSC is not verified..!","warning"),e.txtbank_name="",e.txtbranch_name="",e.txtbank_address="",e.txtmicr_code=""):c.alert(t.data.message,"warning")})}},e.BankAccValidation=function(){if(e.txtbankaccount_number==e.txtconfirmbankaccount_number){var t={ifsc:e.txtifsc_code,accountNumber:e.txtconfirmbankaccount_number},a="api/Kyc/BankAccVerification";lockUI(),r.post(a,t).then(function(t){unlockUI(),""!=t.data.result.bankTxnStatus&&null!=t.data.result.bankTxnStatus?(e.bankaccvalidation=!0,e.txtbankaccount_name=t.data.result.accountName):""==t.data.result.bankTxnStatus||null==t.data.result.bankTxnStatus?(e.bankaccvalidation=!1,c.alert("Bank Account is not verified..!","warning"),e.txtbankaccount_name=""):c.alert(t.data.message,"warning")})}},e.getPANbasedGST=function(){if(10==e.txtpan_no.length){var t={pan:e.txtpan_no},a="api/Kyc/GSTSBPAN";r.post(a,t).then(function(t){if(101==t.data.statusCode){e.panvalidation=!0;const a=t.data.result;var n={GSTArray:a},s="api/FndMstCustomerMasterAdd/PostGSTList";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?gst_list():c.alert("Error occured while adding the fetched GST Details..!","warning")})}else if(103==t.data.statusCode){var o={pan:e.txtpan_no},s="api/Kyc/PANNumber";lockUI(),r.post(s,o).then(function(t){unlockUI(),""!=t.data.result.name&&void 0!=t.data.result.name?e.panvalidation=!0:""==t.data.result.name||void 0==t.data.result.name?(e.panvalidation=!1,c.alert("PAN is not verified..!","warning")):c.alert(t.data.message,"warning")})}else c.alert(t.data.message,"warning")})}},e.Back=function(){a.go("app.FndTrnCustomerApproval")},e.StaticMapAndPhotos_View=function(t,e,a,n,o){function i(s,i){var c={latitude:t,longitude:e},d="api/GoogleMapsAPI/GetStaticMapUrl";if(r.getparams(d,c).then(function(t){s.staticmapImgUrl=t.data}),""==n)var m="".concat(a.toString(),",",o.toString());else var m="".concat(a.toString(),",",n.toString(),",",o.toString());var c={address:m},d="api/GoogleMapsAPI/GetPlaceImage";r.getparams(d,c).then(function(t){for(var e=[],a=0;a<t.data.length;a++)null!=t.data[a]&&(e[a]=t.data[a]);0==e.length?s.photoNotFound=!0:(s.photoUrlList=e,s.photoFound=!0)}),s.ok=function(){i.close("closed")}}s.open({templateUrl:"/StaticMapAndPhotosView.html",controller:i,backdrop:"static",keyboard:!1,size:"lg"});i.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("FndTrnApprovalViewController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){v.open1=function(t){t.preventDefault(),t.stopPropagation(),v.opened1=!0},v.open2=function(t){t.preventDefault(),t.stopPropagation(),v.opened2=!0},v.open3=function(t){t.preventDefault(),t.stopPropagation(),v.opened3=!0},v.formats=["dd-MM-yyyy"],v.format=v.formats[0],v.dateOptions={formatYear:"yy",startingDay:1};var t="api/FndTrnCampaign/GetCampaigntype";c.get(t).then(function(t){e.campaigntypelist=t.data.campaigntype_list});var t="api/FndTrnCampaign/GetCustomer";c.get(t).then(function(t){e.customerlist=t.data.customer_list});var t="api/FndTrnCampaign/GetQuestionCategory";c.get(t).then(function(t){e.categorytype_list=t.data.category_list});var t="api/FndTrnCampaign/GetEmployeelist";lockUI(),c.get(t).then(function(t){e.employee_list=t.data.assigneelist,unlockUI()});var t="api/FndTrnCampaign/GetEmployeelist";lockUI(),c.get(t).then(function(t){e.employee_list=t.data.assigneelist,unlockUI()})}function y(t,a){var n={campaign_gid:t,categorytype_gid:S};lockUI();var s="api/FndTrnCampaign/GetCampaignQuestionnarie";c.getparams(s,n).then(function(t){e.questionnarielist=t.data.questionnarie_list}),unlockUI()}function f(t,a){var n={campaign_gid:t,categorytype_gid:x};lockUI();var s="api/FndTrnCampaign/GetMultipleSelectListQuestionnarie";c.getparams(s,n).then(function(t){e.multiplequestionnarie_list=t.data.multiplequestionnarie_list}),unlockUI()}function y(t,a){var n={campaign_gid:t,categorytype_gid:S};lockUI();var s="api/FndTrnCampaign/GetCampaignQuestionnarie";c.getparams(s,n).then(function(t){e.questionnarielist=t.data.questionnarie_list}),unlockUI()}function h(t){var a={campaign_gid:t},n="api/FndTrnCampaign/GetSingleform";c.getparams(n,a).then(function(t){e.singleform_list=t.data.singleform_list,null==t.data.length?e.Qtype_disabled=!1:e.Qtype_disabled=!0})}function b(t){var a={campaign_gid:t},n="api/FndTrnCampaign/GetMultipleform";c.getparams(n,a).then(function(t){e.multipleform_list=t.data.multipleform_list,null==t.data.length?e.Qtype_disabled=!1:e.Qtype_disabled=!0})}var v=this;v.title="FndTrnCampaignAddController";var C,k,M,S,x;_(),e.pastdatecheck=function(t){var a={date:t.toDateString()},n="api/FndTrnMyCampaignSummary/PastDateCheck";c.getparams(n,a).then(function(t){0==t.data.status&&(d.alert(t.data.message,"warning"),e.txtAssesment_date="")})},e.checkErr=function(t,a){e.errMessage="";new Date;if(new Date(t)>new Date(a))return e.errMessage="End Date should be greater than start date",e.txtstart_date="",e.txtend_date="",!1},e.txtcampaign_cost_change=function(){var t=document.getElementById("txtcampaign_cost").value,a=t.replace(/,/g,""),n=Number(a).toLocaleString("en-IN"),s=g.fnConvertNumbertoWord(a);"NaN"==n?(d.alert("Accept Number Format Only..!",{status:"danger",pos:"top-center",timeout:3e3}),e.txtcampaign_cost=""):(e.txtcampaign_cost=n,document.getElementById("words_campaign_cost").innerHTML=s)},e.getQuestionnarie=function(t){var a={categorytype_gid:e.cboSCategory.categorytype_gid,campaign_gid:M};lockUI();var n="api/FndTrnCampaign/GetCampaignQuestionnarie";c.getparams(n,a).then(function(t){e.questionnarielist=t.data.questionnarie_list}),unlockUI()},e.getQuestionnarie1=function(t){var a={categorytype_gid:e.cboMCategory.categorytype_gid};lockUI();var n="api/FndTrnCampaign/GetMultipleListQuestionnarie";c.getparams(n,a).then(function(t){e.multiplequestionnarie_list=t.data.multiplequestionnarie_list}),unlockUI()},e.Questionnarie_Sadd=function(){if(void 0==e.cboSCategory||"-----Select Campaign Type-----"==e.cboSCategory)d.alert("Select Category Type",{status:"warning",pos:"top-center",timeout:3e3});else if(void 0==e.cboSquestionnarie_name||"-----Select Questionnarie Title-----"==e.cboSquestionnarie_name)d.alert("Select Questionnarie title",{status:"warning",pos:"top-center",timeout:3e3});else{var t={category_gid:e.cboSCategory.categorytype_gid,questionnarie_name:e.cboSquestionnarie_name.questionnarie_name,questionnarie_gid:e.cboSquestionnarie_name.questionnarie_gid,campaign_gid:M},a="api/FndTrnCampaign/PostSingleform";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(C=t.data.campaign_gid,M=t.data.campaign_gid,S=t.data.category_gid,console.log("single"+C),h(C),y(C,S),d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3})):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}},e.Questionnarie_Madd=function(){if(void 0==e.cboMCategory||"-----Select Campaign Type-----"==e.cboMCategory)d.alert("Select Category Type",{status:"warning",pos:"top-center",timeout:3e3});else if(void 0==e.cboMquestionnarie_name||"-----Select Questionnarie Title-----"==e.cboMquestionnarie_name)d.alert("Select Questionnarie title",{status:"warning",pos:"top-center",timeout:3e3});else{var t={category_gid:e.cboMCategory.categorytype_gid,questionnarie_name:e.cboMquestionnarie_name.questionnarie_name,questionnarie_gid:e.cboMquestionnarie_name.questionnarie_gid,campaign_gid:M},a="api/FndTrnCampaign/PostMultipleform";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(k=t.data.campaign_gid,M=t.data.campaign_gid,x=t.data.category_gid,b(k),f(k,x),d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3})):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}},e.Questionnarie_Sdelete=function(t){var e={campaigndtl_gid:t};console.log(e);var a="api/FndTrnCampaign/DeleteSingleform";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?(C=t.data.campaign_gid,d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),h(C),y(C,S)):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.Questionnarie_Mdelete=function(t){var e={campaigndtl_gid:t};console.log(e);var a="api/FndTrnCampaign/DeleteMultipleform";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?(k=t.data.campaign_gid,d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),b(k),f(C,x)):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.Back=function(){n.go("app.FndTrnCampaignSummary")},e.getdetails=function(t){var a={customer_gid:e.cboCustomer.customer_gid};lockUI();var n="api/FndTrnCampaign/GetCustomerdtls";c.getparams(n,a).then(function(t){e.txtcontactperson=t.data.contactperson_fn,e.txtcontactperson_mobile=t.data.mobile_no,e.txtcontactperson_email=t.data.email_address}),unlockUI()},e.campaign_submit=function(){if(null!==e.singleform_list&&1==e.multipleform_list||null==e.singleform_list&&null==e.multipleform_list)d.alert("Select Single/Multiple Questionnarie","warning");else{var t={campaign_name:e.txtcampaign_name,campaign_type:e.cboCampaign_type.campaigntype_gid,customer_gid:e.cboCustomer.customer_gid,contactperson_fn:e.txtcontactperson,contactperson_mobile:e.txtcontactperson_mobile,contactperson_email:e.txtcontactperson_email,assignee:e.cboCampaign_mgr,campaign_apr:e.cboCampaign_apr.employee_gid,campaign_cost:e.txtcampaign_cost,start_date:e.txtstart_date,end_date:e.txtend_date,assesment_date:e.txtAssesment_date,osAssesment_date:e.txtosAssesment_date,loan_availed:e.txtloanavailed,campaign_gid:M},a="api/FndTrnCampaign/CampaignSubmit";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),n.go("app.FndTrnCampaignSummary")):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}},e.campaign_save=function(){var t="",a="",s="",o="";void 0==e.cboCampaign_type&&null==e.cboCampaign_type||(t=e.cboCampaign_type.campaigntype_gid),void 0==e.cboCustomer&&null==e.cboCustomer||(a=e.cboCustomer.customer_gid),void 0==e.cboCampaign_apr&&null==e.cboCampaign_apr||(s=e.cboCampaign_apr.employee_gid),void 0==e.cboCampaign_mgr&&null==e.cboCampaign_mgr||(o=e.cboCampaign_mgr.employee_gid);var i={campaign_name:e.txtcampaign_name,campaign_type:t,customer_gid:a,contactperson_fn:e.txtcontactperson,contactperson_mobile:e.txtcontactperson_mobile,contactperson_email:e.txtcontactperson_email,assignee:e.cboCampaign_mgr,campaign_apr:s,campaign_cost:e.txtcampaign_cost,start_date:e.txtstart_date,end_date:e.txtend_date,assesment_date:e.txtAssesment_date,osAssesment_date:e.txtosAssesment_date,loan_availed:e.txtloanavailed,campaign_gid:M},r="api/FndTrnCampaign/CampaignSave";lockUI(),c.post(r,i).then(function(t){unlockUI(),1==t.data.status?(d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),n.go("app.FndTrnCampaignSummary")):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}}angular.module("angle").controller("FndTrnCampaignAddController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g,_,y){function f(){var t="api/FndTrnCampaign/GetCampaignApprovalpending";c.get(t).then(function(t){e.campaign_list=t.data.campaign_list});var t="api/FndTrnCampaign/GetCampaignApprovalCounts";c.get(t).then(function(t){unlockUI(),e.campaignapprovalpending_count=t.data.campaignapprovalpending_count,e.approvalrejected_count=t.data.approvalrejected_count,e.approvalapproved_count=t.data.approvalapproved_count})}var h=this;h.title="FndTrnCampaignApprovalController",f(),e.pendingcampaignapproval=function(){n.go("app.FndTrnCampaignApproval")},e.Reject=function(){n.go("app.FndTrnCampaignApprovalReject")},e.Approved=function(){n.go("app.FndTrnCampaignApprovalWork")},e.Status_update=function(t){function e(e,a){var n={campaigntype_gid:t},s="api/FndMstCampaignTypeMaster/EditCampaignType";c.getparams(s,n).then(function(t){e.campaigntype_gid=t.data.campaigntype_gid,e.txtcampaign_type=t.data.campaigntype_name,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")},e.update_status=function(){var t={campaigntype_name:e.txtcampaign_type,campaigntype_gid:e.campaigntype_gid,remarks:e.txtremarks,rbo_status:e.rbo_status},n="api/FndMstCampaignTypeMaster/InactiveCampaignType";lockUI(),c.post(n,t).then(function(t){unlockUI(),1==t.data.status?d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),f()}),a.close("closed")};var s="api/FndMstCampaignTypeMaster/CampaignTypeInactiveLogview";lockUI(),c.getparams(s,n).then(function(t){e.campaigntypeinactivelog_data=t.data.campaigntype_list,unlockUI()})}o.open({templateUrl:"/statuscampaigntype.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.edit=function(t){m.url("app/FndTrnCampaignApprovalEdit?hash="+y.encryptURL("lscampaign_gid="+t))},e.viewcustomer=function(t){m.url("app/FndTrnCampaignApprovalView?hash="+y.encryptURL("lscampaign_gid="+t))},e.deletecampaign=function(t){var e={campaigntype_gid:campaigntype_gid};SweetAlert.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/FndMstCampaignTypeMaster/DeleteCampaignType";c.getparams(a,e).then(function(t){1==t.data.status?f():(d.alert("Error Occurred While Deleting Campaign Type !!!",{status:"warning",pos:"top-center",timeout:3e3}),f())}),SweetAlert.swal("Deleted Successfully!")}})}}angular.module("angle").controller("FndTrnCampaignApprovalController",t),t.$inject=["$rootScope","$scope","$sce","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","$route","$cookies","$filter","ngTableParams","$timeout","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){b.open1=function(t){t.preventDefault(),t.stopPropagation(),b.opened1=!0},b.open2=function(t){t.preventDefault(),t.stopPropagation(),b.opened2=!0},b.open3=function(t){t.preventDefault(),t.stopPropagation(),b.opened3=!0},b.formats=["dd-MM-yyyy"],b.format=b.formats[0],b.dateOptions={formatYear:"yy",startingDay:1};var t={campaign_gid:e.campaign_gid},a="api/FndTrnCampaign/GetCampaigntype";c.get(a).then(function(t){e.campaigntypelist=t.data.campaigntype_list});var a="api/FndTrnCampaign/GetCustomer";c.get(a).then(function(t){e.customerlist=t.data.customer_list});var a="api/FndTrnCampaign/GetQuestionCategory";c.get(a).then(function(t){e.categorytype_list=t.data.category_list});var a="api/FndTrnCampaign/GetEmployeelist";lockUI(),c.get(a).then(function(t){e.employee_list=t.data.assigneelist,unlockUI()});var t={campaign_gid:e.campaign_gid},a="api/FndTrnCampaign/campaignDetailsEdit";c.getparams(a,t).then(function(t){if(e.campaign_code=t.data.campaign_code,e.campaign_name=t.data.campaign_name,e.cboCampaign_type=t.data.campaigntype_gid,e.cboCustomer=t.data.customer_gid,e.contact_name=t.data.contact_name,e.contact_mobile=t.data.contact_mobile,e.contact_email=t.data.contact_email,e.cboCampaign_apr=t.data.campaign_approver,e.campaign_cost=t.data.campaign_cost,e.start_date=t.data.start_date,e.end_date=t.data.end_date,e.assesment_date=t.data.assesment_date,e.os_assesment_date=t.data.os_assesment_date,e.loan_availed=t.data.loan_availed,e.cboemployee_editlist=t.data.assignee,e.employees=t.data.employees,e.cboemployee_edit=[],null!=t.data.employees)for(var a=t.data.employees.length,n=0;n<a;n++){var s=e.cboemployee_editlist.map(function(t){return t.employee_gid}).indexOf(t.data.employees[n].employee_gid);e.cboemployee_edit.push(e.cboemployee_editlist[s]),e.$parent.cboSecondaryValueChain=e.cboSecondaryValueChain}if(null!=t.data.campaign_cost){e.campaign=t.data.campaign_cost;var o=e.campaign,i=o.replace(/,/g,""),r=g.fnConvertNumbertoWord(i);document.getElementById("words_campaign_cost").innerHTML=r}unlockUI()});var a="api/FndTrnCampaign/GetCampaignRaiseQuery";lockUI(),c.getparams(a,t).then(function(t){unlockUI(),e.campiagnraisequery_list=t.data.campiagnraisequery_list});var t={campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetSingleformEdit";c.getparams(a,t).then(function(t){e.singleform_list=t.data.singleform_list});var t={campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetMultipleformEdit";c.getparams(a,t).then(function(t){e.multipleform_list=t.data.multipleform_list})}function y(t){var a={campaign_gid:t},n="api/FndTrnCampaign/GetCampaignRaiseQuery";lockUI(),c.getparams(n,a).then(function(t){unlockUI(),e.campiagnraisequery_list=t.data.campiagnraisequery_list})}function f(t){var a={campaign_gid:t},n="api/FndTrnCampaign/GetSingleformEdit";c.getparams(n,a).then(function(t){e.singleform_list=t.data.singleform_list})}function h(t){var a={campaign_gid:t},n="api/FndTrnCampaign/GetMultipleformEdit";c.getparams(n,a).then(function(t){e.multipleform_list=t.data.multipleform_list})}var b=this;b.title="FndTrnCampaignApprovalEditController",e.campaign_gid=g.decryptURL(m.search().hash).lscampaign_gid;var v,C,k;_(),e.view_querydesc=function(t,e,n){function s(a,s){a.lblquery_desc=t,a.lblqueryresponse_remarks=e,a.lblquery_responseby=n,a.ok=function(){s.close("closed")}}a.open({templateUrl:"/queryDescriptionView.html",controller:s,backdrop:"static",keyboard:!1,size:"lg"});s.$inject=["$scope","$modalInstance"]},e.pastdatecheck=function(t){var e={date:t.toDateString()},a="api/FndTrnMyCampaignSummary/PastDateCheck";c.getparams(a,e).then(function(t){0==t.data.status&&d.alert(t.data.message,"warning")})},e.checkErr=function(t,a){e.errMessage="";new Date;if(new Date(t)>new Date(a))return e.errMessage="End Date should be greater than start date",e.txtstart_date="",e.txtend_date="",!1},e.txtcampaign_cost_change=function(){var t=document.getElementById("campaign_cost").value,a=t.replace(/,/g,""),n=Number(a).toLocaleString("en-IN"),s=g.fnConvertNumbertoWord(a);"NaN"==n?(d.alert("Accept Number Format Only..!",{status:"danger",pos:"top-center",timeout:3e3}),e.campaign_cost=""):(e.campaign_cost=n,document.getElementById("words_campaign_cost").innerHTML=s)},e.approved_update=function(){var t={campaign_name:e.campaign_name,campaigntype_gid:e.cboCampaign_type,customer_gid:e.cboCustomer,contact_name:e.contact_name,contact_mobile:e.contact_mobile,contact_email:e.contact_email,assignee:e.cboemployee_edit,campaign_approver:e.cboCampaign_apr,campaign_cost:e.campaign_cost,start_date:e.start_date,end_date:e.end_date,assesment_date:e.assesment_date,os_assesment_date:e.os_assesment_date,loan_availed:e.loan_availed,campaign_gid:e.campaign_gid,employees:e.employees,campaignapproval_remarks:e.remarks},a="api/FndTrnCampaign/PostCampaignApproved";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),n.go("app.FndTrnCampaignApproval")):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.rejected_update=function(){var t={campaign_name:e.campaign_name,campaigntype_gid:e.cboCampaign_type.campaigntype_gid,customer_gid:e.cboCustomer.customer_gid,contact_name:e.contact_name,contact_mobile:e.contact_mobile,contact_email:e.contact_email,assignee:e.cboCampaign_mgr,campaign_approver:e.cboCampaign_apr.employee_gid,campaign_cost:e.campaign_cost,start_date:e.start_date,end_date:e.end_date,assesment_date:e.assesment_date,os_assesment_date:e.os_assesment_date,loan_availed:e.loan_availed,campaign_gid:e.campaign_gid,campaignapproval_remarks:e.remarks},a="api/FndTrnCampaign/PostCampaignRejected";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),n.go("app.FndTrnCampaignApproval")):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.raisequery=function(t){function e(e,a){e.ok=function(){a.close("closed")},e.submit=function(){var n={campaign_gid:t,query_title:e.txtquery_title,
query_description:e.txtquery_description},s="api/FndTrnCampaign/Postraisequery";lockUI(),c.post(s,n).then(function(e){unlockUI(),1==e.data.status?(d.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}),y(t)):d.alert(e.data.message,{status:"warning",pos:"top-center",timeout:3e3})}),a.close("closed")}}a.open({templateUrl:"/queryClose.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.Back=function(){n.go("app.FndTrnCampaignApproval")},e.getQuestionnarie=function(t){var a={categorytype_gid:e.cboSCategory.categorytype_gid};lockUI();var n="api/FndTrnCampaign/GetQuestionnarie";c.getparams(n,a).then(function(t){e.questionnarielist=t.data.questionnarie_list}),unlockUI()},e.getQuestionnarie1=function(t){var a={categorytype_gid:e.cboMCategory.categorytype_gid};lockUI();var n="api/FndTrnCampaign/GetQuestionnarie";c.getparams(n,a).then(function(t){e.questionnarielist=t.data.questionnarie_list}),unlockUI()},e.Questionnarie_Sadd=function(){if(void 0==e.cboSCategory||"-----Select Campaign Type-----"==e.cboSCategory)d.alert("Select Category Type",{status:"warning",pos:"top-center",timeout:3e3});else if(void 0==e.cboSquestionnarie_name||"-----Select Questionnarie Title-----"==e.cboSquestionnarie_name)d.alert("Select Questionnarie title",{status:"warning",pos:"top-center",timeout:3e3});else{var t={category_gid:e.cboSCategory.categorytype_gid,questionnarie_name:e.cboSquestionnarie_name.questionnarie_name,questionnarie_gid:e.cboSquestionnarie_name.questionnarie_gid,campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},a="api/FndTrnCampaign/PostSingleformEdit";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),f(g.decryptURL(m.search().hash).lscampaign_gid),e.cboSquestionnarie_name.questionnarie_name=""):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}},e.Questionnarie_Madd=function(){if(void 0==e.cboMCategory||"-----Select Campaign Type-----"==e.cboMCategory)d.alert("Select Category Type",{status:"warning",pos:"top-center",timeout:3e3});else if(void 0==e.cboMquestionnarie_name||"-----Select Questionnarie Title-----"==e.cboMquestionnarie_name)d.alert("Select Questionnarie title",{status:"warning",pos:"top-center",timeout:3e3});else{var t={category_gid:e.cboMCategory.categorytype_gid,questionnarie_name:e.cboMquestionnarie_name.questionnarie_name,questionnarie_gid:e.cboMquestionnarie_name.questionnarie_gid,campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},a="api/FndTrnCampaign/PostMultipleformEdit";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(C=t.data.campaign_gid,k=t.data.campaign_gid,d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),h(g.decryptURL(m.search().hash).lscampaign_gid),e.cboMquestionnarie_name.questionnarie_name=""):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}},e.Questionnarie_Sdelete=function(t){var e={campaigndtl_gid:t};console.log(e);var a="api/FndTrnCampaign/DeleteSingleform";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?(v=t.data.campaign_gid,d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),f(g.decryptURL(m.search().hash).lscampaign_gid)):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.Questionnarie_Mdelete=function(t){var e={campaigndtl_gid:t};console.log(e);var a="api/FndTrnCampaign/DeleteMultipleform";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?(C=t.data.campaign_gid,d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),h(g.decryptURL(m.search().hash).lscampaign_gid)):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.getdetails=function(t){var a={customer_gid:e.cboCustomer};lockUI();var n="api/FndTrnCampaign/GetCustomerdtls";c.getparams(n,a).then(function(t){e.contact_name=t.data.contactperson_fn,e.contact_mobile=t.data.mobile_no,e.contact_email=t.data.email_address}),unlockUI()}}angular.module("angle").controller("FndTrnCampaignApprovalEditController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g,_,y){function f(){var t="api/FndTrnCampaign/GetCampaignRejected";c.get(t).then(function(t){e.campaign_list=t.data.campaign_list});var t="api/FndTrnCampaign/GetCampaignApprovalCounts";c.get(t).then(function(t){unlockUI(),e.campaignapprovalpending_count=t.data.campaignapprovalpending_count,e.approvalrejected_count=t.data.approvalrejected_count,e.approvalapproved_count=t.data.approvalapproved_count})}var h=this;h.title="FndTrnCampaignApprovalRejectController",f(),e.pendingcampaignapproval=function(){n.go("app.FndTrnCampaignApproval")},e.Reject=function(){n.go("app.FndTrnCampaignApprovalReject")},e.Approved=function(){n.go("app.FndTrnCampaignApprovalWork")},e.viewrejected=function(t){m.url("app/FndTrnCampaignApprovalRejectedView?hash="+y.encryptURL("lscampaign_gid="+t))}}angular.module("angle").controller("FndTrnCampaignApprovalRejectController",t),t.$inject=["$rootScope","$scope","$sce","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","$route","$cookies","$filter","ngTableParams","$timeout","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){var t={campaign_gid:e.campaign_gid},a="api/FndTrnCampaign/campaignDetailsView";c.getparams(a,t).then(function(t){e.campaign_code=t.data.campaign_code,e.campaign_name=t.data.campaign_name,e.cboCampaign_type=t.data.campaigntype_gid,e.cboCampaign_type=t.data.campaigntype_name,e.cboCustomer=t.data.customer_gid,e.cboCustomer=t.data.customer_name,e.contact_name=t.data.contact_name,e.contact_mobile=t.data.contact_mobile,e.contact_email=t.data.contact_email,e.cboCampaign_apr=t.data.campaign_approver,e.campaign_cost=t.data.campaign_cost,e.start_date=t.data.start_date,e.end_date=t.data.end_date,e.assesment_date=t.data.assesment_date,e.os_assesment_date=t.data.os_assesment_date,e.loan_availed=t.data.loan_availed,e.cboCampaign_mgr=t.data.employee_gid,e.cboCampaign_mgr=t.data.manager_name,unlockUI()});var a="api/FndTrnCampaign/GetCampaignRaiseQuery";lockUI(),c.getparams(a,t).then(function(t){unlockUI(),e.campiagnraisequery_list=t.data.campiagnraisequery_list});var t={campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetSingleformEdit";c.getparams(a,t).then(function(t){e.singleform_list=t.data.singleform_list});var t={campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetMultipleformEdit";c.getparams(a,t).then(function(t){e.multipleform_list=t.data.multipleform_list})}var y=this;y.title="FndTrnCampaignApprovalRejectedViewController",e.campaign_gid=g.decryptURL(m.search().hash).lscampaign_gid;_(),e.view_querydesc=function(t,e,n){function s(a,s){a.lblquery_desc=t,a.lblqueryresponse_remarks=e,a.lblquery_responseby=n,a.ok=function(){s.close("closed")}}a.open({templateUrl:"/queryDescriptionView.html",controller:s,backdrop:"static",keyboard:!1,size:"lg"});s.$inject=["$scope","$modalInstance"]},e.Back=function(){n.go("app.FndTrnCampaignApprovalReject")}}angular.module("angle").controller("FndTrnCampaignApprovalRejectedViewController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){var t={campaign_gid:e.campaign_gid},a="api/FndTrnCampaign/campaignDetailsView";c.getparams(a,t).then(function(t){e.campaign_code=t.data.campaign_code,e.campaign_name=t.data.campaign_name,e.cboCampaign_type=t.data.campaigntype_gid,e.cboCampaign_type=t.data.campaigntype_name,e.cboCustomer=t.data.customer_gid,e.cboCustomer=t.data.customer_name,e.contact_name=t.data.contact_name,e.contact_mobile=t.data.contact_mobile,e.contact_email=t.data.contact_email,e.cboCampaign_apr=t.data.campaign_approver,e.campaign_cost=t.data.campaign_cost,e.start_date=t.data.start_date,e.end_date=t.data.end_date,e.assesment_date=t.data.assesment_date,e.os_assesment_date=t.data.os_assesment_date,e.loan_availed=t.data.loan_availed,e.cboCampaign_mgr=t.data.employee_gid,e.cboCampaign_mgr=t.data.manager_name,unlockUI()});var a="api/FndTrnCampaign/GetCampaignRaiseQuery";lockUI(),c.getparams(a,t).then(function(t){unlockUI(),e.campiagnraisequery_list=t.data.campiagnraisequery_list});var t={campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetSingleformEdit";c.getparams(a,t).then(function(t){e.singleform_list=t.data.singleform_list});var t={campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetMultipleformEdit";c.getparams(a,t).then(function(t){e.multipleform_list=t.data.multipleform_list})}var y=this;y.title="FndTrnCampaignApprovalViewController",e.campaign_gid=g.decryptURL(m.search().hash).lscampaign_gid;_(),e.view_querydesc=function(t,e,n){function s(a,s){a.lblquery_desc=t,a.lblqueryresponse_remarks=e,a.lblquery_responseby=n,a.ok=function(){s.close("closed")}}a.open({templateUrl:"/queryDescriptionView.html",controller:s,backdrop:"static",keyboard:!1,size:"lg"});s.$inject=["$scope","$modalInstance"]},e.Back=function(){n.go("app.FndTrnCampaignApproval")}}angular.module("angle").controller("FndTrnCampaignApprovalViewController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g,_,y){function f(){var t="api/FndTrnCampaign/GetCampaignApproval";c.get(t).then(function(t){e.campaign_list=t.data.campaign_list});var t="api/FndTrnCampaign/GetCampaignApprovalCounts";c.get(t).then(function(t){unlockUI(),e.campaignapprovalpending_count=t.data.campaignapprovalpending_count,e.approvalrejected_count=t.data.approvalrejected_count,e.approvalapproved_count=t.data.approvalapproved_count})}var h=this;h.title="FndTrnCampaignApprovalWorkController",f(),e.pendingcampaignapproval=function(){n.go("app.FndTrnCampaignApproval")},e.Reject=function(){n.go("app.FndTrnCampaignApprovalReject")},e.Approved=function(){n.go("app.FndTrnCampaignApprovalWork")},e.viewapprovalwork=function(t){m.url("app/FndTrnCampaignApprovalWorkView?hash="+y.encryptURL("lscampaign_gid="+t))}}angular.module("angle").controller("FndTrnCampaignApprovalWorkController",t),t.$inject=["$rootScope","$scope","$sce","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","$route","$cookies","$filter","ngTableParams","$timeout","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){var t={campaign_gid:e.campaign_gid},a="api/FndTrnCampaign/campaignDetailsView";c.getparams(a,t).then(function(t){e.campaign_code=t.data.campaign_code,e.campaign_name=t.data.campaign_name,e.cboCampaign_type=t.data.campaigntype_gid,e.cboCampaign_type=t.data.campaigntype_name,e.cboCustomer=t.data.customer_gid,e.cboCustomer=t.data.customer_name,e.contact_name=t.data.contact_name,e.contact_mobile=t.data.contact_mobile,e.contact_email=t.data.contact_email,e.cboCampaign_apr=t.data.campaign_approver,e.campaign_cost=t.data.campaign_cost,e.start_date=t.data.start_date,e.end_date=t.data.end_date,e.assesment_date=t.data.assesment_date,e.os_assesment_date=t.data.os_assesment_date,e.loan_availed=t.data.loan_availed,e.cboCampaign_mgr=t.data.employee_gid,e.cboCampaign_mgr=t.data.manager_name,unlockUI()});var a="api/FndTrnCampaign/GetCampaignRaiseQuery";lockUI(),c.getparams(a,t).then(function(t){unlockUI(),e.campiagnraisequery_list=t.data.campiagnraisequery_list});var t={campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetSingleformEdit";c.getparams(a,t).then(function(t){e.singleform_list=t.data.singleform_list});var t={campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetMultipleformEdit";c.getparams(a,t).then(function(t){e.multipleform_list=t.data.multipleform_list})}var y=this;y.title="FndTrnCampaignApprovalWorkViewController",e.campaign_gid=g.decryptURL(m.search().hash).lscampaign_gid;_(),e.view_querydesc=function(t,e,n){function s(a,s){a.lblquery_desc=t,a.lblqueryresponse_remarks=e,a.lblquery_responseby=n,a.ok=function(){s.close("closed")}}a.open({templateUrl:"/queryDescriptionView.html",controller:s,backdrop:"static",keyboard:!1,size:"lg"});s.$inject=["$scope","$modalInstance"]},e.Back=function(){n.go("app.FndTrnCampaignApprovalWork")}}angular.module("angle").controller("FndTrnCampaignApprovalWorkViewController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g,_,y){function f(){var t="api/FndTrnCampaign/GetCampaignClosed";c.get(t).then(function(t){e.campaign_list=t.data.campaign_list});var t="api/FndTrnCampaign/GetCampaignCounts";c.get(t).then(function(t){unlockUI(),e.campaignpending_count=t.data.campaignpending_count,e.rejected_count=t.data.rejected_count,e.approved_count=t.data.approved_count,e.closed_count=t.data.closed_count})}var h=this;h.title="FndTrnCampaignClosedController",f(),e.Create=function(){n.go("app.FndTrnCampaignAdd")},e.Approved=function(){n.go("app.FndTrnCampaignWork")},e.Closed=function(){n.go("app.FndTrnCampaignClosed")},e.Reject=function(){n.go("app.FndTrnCampaignReject")},e.Pending=function(){n.go("app.FndTrnCampaignSummary")},e.viewcampaignclosed=function(t){m.url("app/FndTrnCampaignClosedView?hash="+y.encryptURL("lscampaign_gid="+t))},e.Status_update=function(t){function e(e,a){var n={campaigntype_gid:t},s="api/FndMstCampaignTypeMaster/EditCampaignType";c.getparams(s,n).then(function(t){e.campaigntype_gid=t.data.campaigntype_gid,e.txtcampaign_type=t.data.campaigntype_name,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")},e.update_status=function(){var t={campaigntype_name:e.txtcampaign_type,campaigntype_gid:e.campaigntype_gid,remarks:e.txtremarks,rbo_status:e.rbo_status},n="api/FndMstCampaignTypeMaster/InactiveCampaignType";lockUI(),c.post(n,t).then(function(t){unlockUI(),1==t.data.status?d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):d.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),f()}),a.close("closed")};var s="api/FndMstCampaignTypeMaster/CampaignTypeInactiveLogview";lockUI(),c.getparams(s,n).then(function(t){e.campaigntypeinactivelog_data=t.data.campaigntype_list,unlockUI()})}o.open({templateUrl:"/statuscampaigntype.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.edit=function(t){localStorage.setItem("campaign_gid",t),n.go("app.FndTrnCampaignEdit")},e.deletecampaign=function(t){var e={campaigntype_gid:campaigntype_gid};SweetAlert.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/FndMstCampaignTypeMaster/DeleteCampaignType";c.getparams(a,e).then(function(t){1==t.data.status?f():(d.alert("Error Occurred While Deleting Campaign Type !!!",{status:"warning",pos:"top-center",timeout:3e3}),f())}),SweetAlert.swal("Deleted Successfully!")}})}}angular.module("angle").controller("FndTrnCampaignClosedController",t),t.$inject=["$rootScope","$scope","$sce","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","$route","$cookies","$filter","ngTableParams","$timeout","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l){function g(){var t={campaign_gid:e.campaign_gid},a="api/FndTrnCampaign/campaignDetailsView";r.getparams(a,t).then(function(t){e.campaign_code=t.data.campaign_code,e.campaign_name=t.data.campaign_name,e.cboCampaign_type=t.data.campaigntype_gid,e.cboCampaign_type=t.data.campaigntype_name,e.cboCustomer=t.data.customer_gid,e.cboCustomer=t.data.customer_name,e.contact_name=t.data.contact_name,e.contact_mobile=t.data.contact_mobile,e.contact_email=t.data.contact_email,e.cboCampaign_apr=t.data.campaign_approver,e.campaign_cost=t.data.campaign_cost,e.start_date=t.data.start_date,e.end_date=t.data.end_date,e.assesment_date=t.data.assesment_date,e.os_assesment_date=t.data.os_assesment_date,e.loan_availed=t.data.loan_availed,e.cboCampaign_mgr=t.data.employee_gid,e.cboCampaign_mgr=t.data.manager_name,unlockUI()});var a="api/FndTrnCampaign/GetCampaignRaiseQuery";lockUI(),r.getparams(a,t).then(function(t){unlockUI(),e.campiagnraisequery_list=t.data.campiagnraisequery_list});var t={campaign_gid:l.decryptURL(d.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetSingleformEdit";r.getparams(a,t).then(function(t){e.singleform_list=t.data.singleform_list});var t={campaign_gid:l.decryptURL(d.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetMultipleformEdit";r.getparams(a,t).then(function(t){e.multipleform_list=t.data.multipleform_list})}var _=this;_.title="FndTrnCampaignClosedViewController",e.campaign_gid=l.decryptURL(d.search().hash).lscampaign_gid;l.decryptURL(d.search().hash).lscampaign_gid;g(),e.view_querydesc=function(t,e,a){function n(n,s){n.lblquery_desc=t,n.lblqueryresponse_remarks=e,n.lblquery_responseby=a,n.ok=function(){s.close("closed")}}u.open({templateUrl:"/queryDescriptionView.html",controller:n,backdrop:"static",keyboard:!1,size:"lg"});n.$inject=["$scope","$modalInstance"]},e.Back=function(){a.go("app.FndTrnCampaignClosed")}}angular.module("angle").controller("FndTrnCampaignClosedViewController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","$modal","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){b.open1=function(t){t.preventDefault(),t.stopPropagation(),b.opened1=!0},b.open2=function(t){t.preventDefault(),t.stopPropagation(),b.opened2=!0},b.open3=function(t){t.preventDefault(),t.stopPropagation(),b.opened3=!0},b.formats=["dd-MM-yyyy"],b.format=b.formats[0],b.dateOptions={formatYear:"yy",startingDay:1},""==e.cboCampaign_apr;var t={campaign_gid:e.campaign_gid},a="api/FndTrnCampaign/GetCampaigntype";c.get(a).then(function(t){e.campaigntype_list=t.data.campaigntype_list});var a="api/FndTrnCampaign/GetCustomer";c.get(a).then(function(t){e.customerlist=t.data.customer_list});var a="api/FndTrnCampaign/GetQuestionCategory";c.get(a).then(function(t){e.categorytype_list=t.data.category_list});var a="api/FndTrnCampaign/GetEmployeelist";lockUI(),c.get(a).then(function(t){e.employee_list=t.data.assigneelist,unlockUI()});var t={campaign_gid:e.campaign_gid},a="api/FndTrnCampaign/campaignDetailsEdit";c.getparams(a,t).then(function(t){if(e.campaign_code=t.data.campaign_code,e.campaign_name=t.data.campaign_name,e.cboCampaign_type=t.data.campaigntype_gid,e.cboCustomer=t.data.customer_gid,e.contact_name=t.data.contact_name,e.contact_mobile=t.data.contact_mobile,e.contact_email=t.data.contact_email,e.cboCampaign_apr=t.data.campaign_approver,e.campaign_cost=t.data.campaign_cost,e.start_date=t.data.start_date,e.end_date=t.data.end_date,e.assesment_date=t.data.assesment_date,e.os_assesment_date=t.data.os_assesment_date,e.loan_availed=t.data.loan_availed,e.cboemployee_editlist=t.data.assignee,e.employees=t.data.employees,e.cboemployee_edit=[],null!=t.data.employees)for(var a=t.data.employees.length,n=0;n<a;n++){var s=e.cboemployee_editlist.map(function(t){return t.employee_gid}).indexOf(t.data.employees[n].employee_gid);e.cboemployee_edit.push(e.cboemployee_editlist[s]),e.$parent.cboSecondaryValueChain=e.cboSecondaryValueChain}if(null!=t.data.campaign_cost){e.campaign=t.data.campaign_cost;var o=e.campaign,i=o.replace(/,/g,""),r=g.fnConvertNumbertoWord(i);document.getElementById("words_campaign_cost").innerHTML=r}unlockUI()});var t={campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetSingleformEdit";c.getparams(a,t).then(function(t){e.singleform_list=t.data.singleform_list,null==t.data.length?e.Qtype_disabled=!1:e.Qtype_disabled=!0});var t={campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetMultipleformEdit";c.getparams(a,t).then(function(t){e.multipleform_list=t.data.multipleform_list,null==t.data.length?e.Qtype_disabled=!1:e.Qtype_disabled=!0});var a="api/FndTrnCampaign/GetCampaignRaiseQuery";lockUI(),c.getparams(a,t).then(function(t){unlockUI(),e.campiagnraisequery_list=t.data.campiagnraisequery_list})}function y(t,a){var n={campaign_gid:t,categorytype_gid:M};lockUI();var s="api/FndTrnCampaign/GetCampaignQuestionnarie";c.getparams(s,n).then(function(t){e.questionnarielist=t.data.questionnarie_list}),unlockUI()}function y(t,a){var n={campaign_gid:t,categorytype_gid:M};lockUI();var s="api/FndTrnCampaign/GetCampaignQuestionnarie";c.getparams(s,n).then(function(t){e.questionnarielist=t.data.questionnarie_list}),unlockUI()}function f(t){var a={campaign_gid:t},n="api/FndTrnCampaign/GetSingleformEdit";c.getparams(n,a).then(function(t){e.singleform_list=t.data.singleform_list})}function h(t){var a={campaign_gid:t},n="api/FndTrnCampaign/GetMultipleformEdit";c.getparams(n,a).then(function(t){e.multipleform_list=t.data.multipleform_list})}var b=this;b.title="FndTrnCampaignEditController",e.campaign_gid=g.decryptURL(m.search().hash).lscampaign_gid;var v,C,k,M;_(),e.txtcampaign_cost_change=function(){var t=document.getElementById("campaign_cost").value,a=t.replace(/,/g,""),n=Number(a).toLocaleString("en-IN"),s=g.fnConvertNumbertoWord(a);"NaN"==n?(d.alert("Accept Number Format Only..!",{status:"danger",pos:"top-center",timeout:3e3}),e.campaign_cost=""):(e.campaign_cost=n,document.getElementById("words_campaign_cost").innerHTML=s)},e.pastdatecheck=function(t){var e={date:t.toDateString()},a="api/FndTrnMyCampaignSummary/PastDateCheck";c.getparams(a,e).then(function(t){0==t.data.status&&d.alert(t.data.message,"warning")})},e.checkErr=function(t,a){e.errMessage="";new Date;if(new Date(t)>new Date(a))return e.errMessage="End Date should be greater than start date",e.txtstart_date="",e.txtend_date="",!1},e.campaign_update=function(){var t={campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetSingleformEdit";c.getparams(a,t).then(function(t){e.singleform_list=t.data.singleform_list});var t={campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetMultipleformEdit";if(c.getparams(a,t).then(function(t){e.multipleform_list=t.data.multipleform_list}),null!==e.singleform_list&&1==e.multipleform_list||null==e.singleform_list&&null==e.multipleform_list)d.alert("Select Single/Multiple Questionnarie","warning");else{var t={campagin_name:e.campaign_name,campaigntype_gid:e.cboCampaign_type,customer_gid:e.cboCustomer,contact_name:e.contact_name,contact_mobile:e.contact_mobile,contact_email:e.contact_email,assignee:e.cboemployee_edit,campaign_approver:e.cboCampaign_apr,campaign_cost:e.campaign_cost,start_date:e.start_date,end_date:e.end_date,assesment_date:e.assesment_date,osAssesment_date:e.os_assesment_date,loan_availed:e.loan_availed,campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},a="api/FndTrnCampaign/campaignEditUpdate";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),n.go("app.FndTrnCampaignSummary")):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}},e.query_close=function(t){function e(e,a){e.ok=function(){a.close("closed")},e.submit=function(){var n={campaignraisequery_gid:t,queryresponse_remarks:e.txtcloseremarks,campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},s="api/FndTrnCampaign/PostCampaignresponsequery";lockUI(),c.post(s,n).then(function(t){unlockUI(),1==t.data.status?(d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),_()):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})}),a.close("closed")}}a.open({templateUrl:"/queryClose.html",controller:e,backdrop:"static",keyboard:!1,size:"lg"});e.$inject=["$scope","$modalInstance"]},e.view_responsequerydesc=function(t,e,n){function s(a,s){a.lblquery_desc=t,a.lblqueryresponse_remarks=e,a.lblquery_responseby=n,a.ok=function(){s.close("closed")}}a.open({templateUrl:"/responsequeryDescriptionView.html",controller:s,backdrop:"static",keyboard:!1,size:"lg"});s.$inject=["$scope","$modalInstance"]},e.Back=function(){n.go("app.FndTrnCampaignSummary")},e.getQuestionnarie=function(t){var a={categorytype_gid:e.cboSCategory.categorytype_gid,campaign_gid:k};lockUI();var n="api/FndTrnCampaign/GetCampaignQuestionnarie";c.getparams(n,a).then(function(t){e.questionnarielist=t.data.questionnarie_list}),unlockUI()},e.getQuestionnarie1=function(t){var a={categorytype_gid:e.cboMCategory.categorytype_gid};lockUI();var n="api/FndTrnCampaign/GetMultipleListQuestionnarie";c.getparams(n,a).then(function(t){e.multiplequestionnarie_list=t.data.multiplequestionnarie_list}),unlockUI()},e.Questionnarie_Sadd=function(){if(void 0==e.cboSCategory||"-----Select Campaign Type-----"==e.cboSCategory)d.alert("Select Category Type",{status:"warning",pos:"top-center",timeout:3e3});else if(void 0==e.cboSquestionnarie_name||"-----Select Questionnarie Title-----"==e.cboSquestionnarie_name)d.alert("Select Questionnarie title",{status:"warning",pos:"top-center",timeout:3e3});else{var t={category_gid:e.cboSCategory.categorytype_gid,questionnarie_name:e.cboSquestionnarie_name.questionnarie_name,questionnarie_gid:e.cboSquestionnarie_name.questionnarie_gid,campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},a="api/FndTrnCampaign/PostSingleformEdit";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),f(g.decryptURL(m.search().hash).lscampaign_gid),e.cboSquestionnarie_name.questionnarie_name="",k=t.data.campaign_gid,M=t.data.category_gid,y(k,M)):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}},e.Questionnarie_Madd=function(){if(void 0==e.cboMCategory||"-----Select Campaign Type-----"==e.cboMCategory)d.alert("Select Category Type",{status:"warning",pos:"top-center",timeout:3e3});else if(void 0==e.cboMquestionnarie_name||"-----Select Questionnarie Title-----"==e.cboMquestionnarie_name)d.alert("Select Questionnarie title",{status:"warning",pos:"top-center",timeout:3e3});else{var t={category_gid:e.cboMCategory.categorytype_gid,questionnarie_name:e.cboMquestionnarie_name.questionnarie_name,questionnarie_gid:e.cboMquestionnarie_name.questionnarie_gid,campaign_gid:g.decryptURL(m.search().hash).lscampaign_gid},a="api/FndTrnCampaign/PostMultipleformEdit";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(C=t.data.campaign_gid,k=t.data.campaign_gid,d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),h(g.decryptURL(m.search().hash).lscampaign_gid),e.cboMquestionnarie_name.questionnarie_name=""):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}},e.Questionnarie_Sdelete=function(t){var e={campaigndtl_gid:t};console.log(e);var a="api/FndTrnCampaign/DeleteSingleform";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?(v=t.data.campaign_gid,d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),f(g.decryptURL(m.search().hash).lscampaign_gid),y(v,M)):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.Questionnarie_Mdelete=function(t){var e={campaigndtl_gid:t};console.log(e);var a="api/FndTrnCampaign/DeleteMultipleform";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?(C=t.data.campaign_gid,d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),h(g.decryptURL(m.search().hash).lscampaign_gid)):d.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.getdetails=function(t){var a={customer_gid:e.cboCustomer};lockUI();var n="api/FndTrnCampaign/GetCustomerdtls";c.getparams(n,a).then(function(t){e.contact_name=t.data.contactperson_fn,e.contact_mobile=t.data.mobile_no,e.contact_email=t.data.email_address}),unlockUI()}}angular.module("angle").controller("FndTrnCampaignEditController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g,_,y){function f(){var t="api/FndTrnCampaign/GetCampaignApprovalRejected";c.get(t).then(function(t){e.campaign_list=t.data.campaign_list});var t="api/FndTrnCampaign/GetCampaignCounts";c.get(t).then(function(t){unlockUI(),e.campaignpending_count=t.data.campaignpending_count,e.rejected_count=t.data.rejected_count,e.approved_count=t.data.approved_count,e.closed_count=t.data.closed_count})}var h=this;h.title="FndTrnCampaignRejectController",f(),e.Create=function(){n.go("app.FndTrnCampaignAdd")},e.Approved=function(){n.go("app.FndTrnCampaignWork")},e.Closed=function(){n.go("app.FndTrnCampaignClosed")},e.Reject=function(){n.go("app.FndTrnCampaignReject")},e.Pending=function(){n.go("app.FndTrnCampaignSummary")},e.viewrejected=function(t){m.url("app/FndTrnCampaignRejectedView?hash="+y.encryptURL("lscampaign_gid="+t))},e.Status_update=function(t){function e(e,a){var n={campaigntype_gid:t},s="api/FndMstCampaignTypeMaster/EditCampaignType";c.getparams(s,n).then(function(t){e.campaigntype_gid=t.data.campaigntype_gid,e.txtcampaign_type=t.data.campaigntype_name,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")},e.update_status=function(){var t={campaigntype_name:e.txtcampaign_type,campaigntype_gid:e.campaigntype_gid,remarks:e.txtremarks,rbo_status:e.rbo_status},n="api/FndMstCampaignTypeMaster/InactiveCampaignType";lockUI(),c.post(n,t).then(function(t){unlockUI(),1==t.data.status?d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):d.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),f()}),a.close("closed")};var s="api/FndMstCampaignTypeMaster/CampaignTypeInactiveLogview";lockUI(),c.getparams(s,n).then(function(t){e.campaigntypeinactivelog_data=t.data.campaigntype_list,unlockUI()})}o.open({templateUrl:"/statuscampaigntype.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.edit=function(t){localStorage.setItem("campaign_gid",t),n.go("app.FndTrnCampaignEdit")},e.deletecampaign=function(t){var e={campaigntype_gid:campaigntype_gid};SweetAlert.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/FndMstCampaignTypeMaster/DeleteCampaignType";c.getparams(a,e).then(function(t){1==t.data.status?f():(d.alert("Error Occurred While Deleting Campaign Type !!!",{status:"warning",pos:"top-center",timeout:3e3}),f())}),SweetAlert.swal("Deleted Successfully!")}})}}angular.module("angle").controller("FndTrnCampaignRejectController",t),t.$inject=["$rootScope","$scope","$sce","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","$route","$cookies","$filter","ngTableParams","$timeout","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l){function g(){var t={campaign_gid:e.campaign_gid
},a="api/FndTrnCampaign/campaignDetailsView";r.getparams(a,t).then(function(t){e.campaign_code=t.data.campaign_code,e.campaign_name=t.data.campaign_name,e.cboCampaign_type=t.data.campaigntype_gid,e.cboCampaign_type=t.data.campaigntype_name,e.cboCustomer=t.data.customer_gid,e.cboCustomer=t.data.customer_name,e.contact_name=t.data.contact_name,e.contact_mobile=t.data.contact_mobile,e.contact_email=t.data.contact_email,e.cboCampaign_apr=t.data.campaign_approver,e.campaign_cost=t.data.campaign_cost,e.start_date=t.data.start_date,e.end_date=t.data.end_date,e.assesment_date=t.data.assesment_date,e.os_assesment_date=t.data.os_assesment_date,e.loan_availed=t.data.loan_availed,e.cboCampaign_mgr=t.data.employee_gid,e.cboCampaign_mgr=t.data.manager_name,unlockUI()});var a="api/FndTrnCampaign/GetCampaignRaiseQuery";lockUI(),r.getparams(a,t).then(function(t){unlockUI(),e.campiagnraisequery_list=t.data.campiagnraisequery_list});var t={campaign_gid:l.decryptURL(d.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetSingleformEdit";r.getparams(a,t).then(function(t){e.singleform_list=t.data.singleform_list});var t={campaign_gid:l.decryptURL(d.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetMultipleformEdit";r.getparams(a,t).then(function(t){e.multipleform_list=t.data.multipleform_list})}var _=this;_.title="FndTrnCampaignRejectedViewController",e.campaign_gid=l.decryptURL(d.search().hash).lscampaign_gid;l.decryptURL(d.search().hash).lscampaign_gid;g(),e.view_querydesc=function(t,e,a){function n(n,s){n.lblquery_desc=t,n.lblqueryresponse_remarks=e,n.lblquery_responseby=a,n.ok=function(){s.close("closed")}}u.open({templateUrl:"/queryDescriptionView.html",controller:n,backdrop:"static",keyboard:!1,size:"lg"});n.$inject=["$scope","$modalInstance"]},e.Back=function(){a.go("app.FndTrnCampaignReject")}}angular.module("angle").controller("FndTrnCampaignRejectedViewController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","$modal","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g,_,y,f){function h(){var t="api/FndTrnCampaign/GetCampaignSummary";c.get(t).then(function(t){e.campaign_list=t.data.campaign_list});var t="api/FndTrnCampaign/GetCampaignCounts";c.get(t).then(function(t){unlockUI(),e.campaignpending_count=t.data.campaignpending_count,e.rejected_count=t.data.rejected_count,e.approved_count=t.data.approved_count,e.closed_count=t.data.closed_count})}var b=this;b.title="FndTrnCampaignSummaryController",h(),e.Create=function(){n.go("app.FndTrnCampaignAdd")},e.Approved=function(){n.go("app.FndTrnCampaignWork")},e.Closed=function(){n.go("app.FndTrnCampaignClosed")},e.Reject=function(){n.go("app.FndTrnCampaignReject")},e.Pending=function(){n.go("app.FndTrnCampaignPendingSummary")},e.edit=function(t){m.url("app/FndTrnCampaignEdit?hash="+f.encryptURL("lscampaign_gid="+t))},e.view=function(t){m.url("app/FndTrnCampaignView?hash="+f.encryptURL("lscampaign_gid="+t))},e["delete"]=function(t){var e={campaign_gid:t};y.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/FndTrnCampaign/DeleteCampaign";c.getparams(a,e).then(function(t){1==t.data.status?h():d.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),h()}),y.swal("Deleted Successfully!")}})},e.Status_update=function(t){function e(e,a){var n={campaigntype_gid:t},s="api/FndMstCampaignTypeMaster/EditCampaignType";c.getparams(s,n).then(function(t){e.campaigntype_gid=t.data.campaigntype_gid,e.txtcampaign_type=t.data.campaigntype_name,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")},e.update_status=function(){var t={campaigntype_name:e.txtcampaign_type,campaigntype_gid:e.campaigntype_gid,remarks:e.txtremarks,rbo_status:e.rbo_status},n="api/FndMstCampaignTypeMaster/InactiveCampaignType";lockUI(),c.post(n,t).then(function(t){unlockUI(),1==t.data.status?d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):d.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),h()}),a.close("closed")};var s="api/FndMstCampaignTypeMaster/CampaignTypeInactiveLogview";lockUI(),c.getparams(s,n).then(function(t){e.campaigntypeinactivelog_data=t.data.campaigntype_list,unlockUI()})}o.open({templateUrl:"/statuscampaigntype.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("FndTrnCampaignSummaryController",t),t.$inject=["$rootScope","$scope","$sce","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","$route","$cookies","$filter","ngTableParams","$timeout","SweetAlert","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l){function g(){var t={campaign_gid:e.campaign_gid},a="api/FndTrnCampaign/campaignDetailsView";r.getparams(a,t).then(function(t){e.campaign_code=t.data.campaign_code,e.campaign_name=t.data.campaign_name,e.cboCampaign_type=t.data.campaigntype_gid,e.cboCampaign_type=t.data.campaigntype_name,e.cboCustomer=t.data.customer_gid,e.cboCustomer=t.data.customer_name,e.contact_name=t.data.contact_name,e.contact_mobile=t.data.contact_mobile,e.contact_email=t.data.contact_email,e.cboCampaign_apr=t.data.campaign_approver,e.campaign_cost=t.data.campaign_cost,e.start_date=t.data.start_date,e.end_date=t.data.end_date,e.assesment_date=t.data.assesment_date,e.os_assesment_date=t.data.os_assesment_date,e.loan_availed=t.data.loan_availed,e.cboCampaign_mgr=t.data.employee_gid,e.cboCampaign_mgr=t.data.manager_name,unlockUI()});var a="api/FndTrnCampaign/GetCampaignRaiseQuery";lockUI(),r.getparams(a,t).then(function(t){unlockUI(),e.campiagnraisequery_list=t.data.campiagnraisequery_list});var t={campaign_gid:l.decryptURL(d.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetSingleformEdit";r.getparams(a,t).then(function(t){e.singleform_list=t.data.singleform_list});var t={campaign_gid:l.decryptURL(d.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetMultipleformEdit";r.getparams(a,t).then(function(t){e.multipleform_list=t.data.multipleform_list})}var _=this;_.title="FndTrnCampaignViewController",e.campaign_gid=l.decryptURL(d.search().hash).lscampaign_gid;e.campaign_gid;g(),e.view_querydesc=function(t,e,a){function n(n,s){n.lblquery_desc=t,n.lblqueryresponse_remarks=e,n.lblquery_responseby=a,n.ok=function(){s.close("closed")}}u.open({templateUrl:"/queryDescriptionView.html",controller:n,backdrop:"static",keyboard:!1,size:"lg"});n.$inject=["$scope","$modalInstance"]},e.Back=function(){a.go("app.FndTrnCampaignSummary")}}angular.module("angle").controller("FndTrnCampaignViewController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","$modal","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g,_,y){function f(){var t="api/FndTrnCampaign/GetCampaignApprovalApproved";c.get(t).then(function(t){e.campaign_list=t.data.campaign_list});var t="api/FndTrnCampaign/GetCampaignCounts";c.get(t).then(function(t){unlockUI(),e.campaignpending_count=t.data.campaignpending_count,e.rejected_count=t.data.rejected_count,e.approved_count=t.data.approved_count,e.closed_count=t.data.closed_count})}var h=this;h.title="FndTrnCampaignWorkController",f(),e.Create=function(){n.go("app.FndTrnCampaignAdd")},e.Approved=function(){n.go("app.FndTrnCampaignWork")},e.Closed=function(){n.go("app.FndTrnCampaignClosed")},e.Reject=function(){n.go("app.FndTrnCampaignReject")},e.Pending=function(){n.go("app.FndTrnCampaignSummary")},e.Status_update=function(t){function e(e,a){var n={campaigntype_gid:t},s="api/FndMstCampaignTypeMaster/EditCampaignType";c.getparams(s,n).then(function(t){e.campaigntype_gid=t.data.campaigntype_gid,e.txtcampaign_type=t.data.campaigntype_name,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")},e.update_status=function(){var t={campaigntype_name:e.txtcampaign_type,campaigntype_gid:e.campaigntype_gid,remarks:e.txtremarks,rbo_status:e.rbo_status},n="api/FndMstCampaignTypeMaster/InactiveCampaignType";lockUI(),c.post(n,t).then(function(t){unlockUI(),1==t.data.status?d.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):d.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),f()}),a.close("closed")};var s="api/FndMstCampaignTypeMaster/CampaignTypeInactiveLogview";lockUI(),c.getparams(s,n).then(function(t){e.campaigntypeinactivelog_data=t.data.campaigntype_list,unlockUI()})}o.open({templateUrl:"/statuscampaigntype.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.edit=function(t){localStorage.setItem("campaign_gid",t),n.go("app.FndTrnCampaignEdit")},e.viewcampiagnwork=function(t){m.url("app/FndTrnCampaignWorkView?hash="+y.encryptURL("lscampaign_gid="+t))},e.deletecampaign=function(t){var e={campaigntype_gid:campaigntype_gid};SweetAlert.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/FndMstCampaignTypeMaster/DeleteCampaignType";c.getparams(a,e).then(function(t){1==t.data.status?f():(d.alert("Error Occurred While Deleting Campaign Type !!!",{status:"warning",pos:"top-center",timeout:3e3}),f())}),SweetAlert.swal("Deleted Successfully!")}})}}angular.module("angle").controller("FndTrnCampaignWorkController",t),t.$inject=["$rootScope","$scope","$sce","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","$route","$cookies","$filter","ngTableParams","$timeout","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l){function g(){var t={campaign_gid:e.campaign_gid},a="api/FndTrnCampaign/campaignDetailsView";r.getparams(a,t).then(function(t){e.campaign_code=t.data.campaign_code,e.campaign_name=t.data.campaign_name,e.cboCampaign_type=t.data.campaigntype_gid,e.cboCampaign_type=t.data.campaigntype_name,e.cboCustomer=t.data.customer_gid,e.cboCustomer=t.data.customer_name,e.contact_name=t.data.contact_name,e.contact_mobile=t.data.contact_mobile,e.contact_email=t.data.contact_email,e.cboCampaign_apr=t.data.campaign_approver,e.campaign_cost=t.data.campaign_cost,e.start_date=t.data.start_date,e.end_date=t.data.end_date,e.assesment_date=t.data.assesment_date,e.os_assesment_date=t.data.os_assesment_date,e.loan_availed=t.data.loan_availed,e.cboCampaign_mgr=t.data.employee_gid,e.cboCampaign_mgr=t.data.manager_name,unlockUI()});var a="api/FndTrnCampaign/GetCampaignRaiseQuery";lockUI(),r.getparams(a,t).then(function(t){unlockUI(),e.campiagnraisequery_list=t.data.campiagnraisequery_list});var t={campaign_gid:l.decryptURL(d.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetSingleformEdit";r.getparams(a,t).then(function(t){e.singleform_list=t.data.singleform_list});var t={campaign_gid:l.decryptURL(d.search().hash).lscampaign_gid},a="api/FndTrnCampaign/GetMultipleformEdit";r.getparams(a,t).then(function(t){e.multipleform_list=t.data.multipleform_list})}var _=this;_.title="FndTrnCampaignWorkViewController",e.campaign_gid=l.decryptURL(d.search().hash).lscampaign_gid;e.campaign_gid;g(),e.view_querydesc=function(t,e,a){function n(n,s){n.lblquery_desc=t,n.lblqueryresponse_remarks=e,n.lblquery_responseby=a,n.ok=function(){s.close("closed")}}u.open({templateUrl:"/queryDescriptionView.html",controller:n,backdrop:"static",keyboard:!1,size:"lg"});n.$inject=["$scope","$modalInstance"]},e.Back=function(){a.go("app.FndTrnCampaignWork")}}angular.module("angle").controller("FndTrnCampaignWorkViewController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","$modal","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){var t="api/FndMstCustomerMasterAdd/GetcustomerApprovalSummary";r.get(t).then(function(t){e.customer_list=t.data.customer_list});var t="api/FndMstCustomerMasterAdd/GetcustomerTempClear";r.get(t).then(function(t){});var t="api/FndMstCustomerMasterAdd/GetcustomerApprovalSummary";r.get(t).then(function(t){e.customer_list=t.data.customer_list}),e.customersummary=function(){var t="api/FndMstCustomerMasterAdd/GetcustomerApprovalSummary";r.get(t).then(function(t){e.customer_list=t.data.customer_list})};var t="api/FndMstCustomerMasterAdd/GetCustomerCounts";r.get(t).then(function(t){unlockUI(),e.customerpending_count=t.data.customerpending_count,e.customerapproved_count=t.data.customerapproved_count,e.customerrejected_count=t.data.customerrejected_count})}var y=this;y.title="FndTrnCustomerApprovalController",_(),e.customersummary=function(){a.go("app.FndTrnCustomerApproval")},e.approvecustomer=function(){a.go("app.FndTrnCustomerApproved")},e.rejectcustomer=function(){a.go("app.FndTrnCustomerRejected")},e.editcustomer=function(t){d.url("app/FndTrnApprovalEdit?hash="+g.encryptURL("lscustomer_gid="+t))},e.viewcustomer=function(t){d.url("app/FndTrnApprovalView?hash="+g.encryptURL("lscustomer_gid="+t))},e.Status_update=function(t){function e(e,a){var n={customer_gid:t},s="api/FndMstCustomerMasterAdd/Editcustomer";r.getparams(s,n).then(function(t){e.customer_gid=t.data.customer_gid,e.txtcategory_type=t.data.customer_name,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")},e.update_status=function(){var t={customer_name:e.txtcategory_type,customer_gid:e.customer_gid,remarks:e.txtremarks,rbo_status:e.rbo_status},n="api/FndMstCustomerMasterAdd/Inactivecustomer";lockUI(),r.post(n,t).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),_()}),a.close("closed")};var s="api/FndMstCustomerMasterAdd/customerInactiveLogview";lockUI(),r.getparams(s,n).then(function(t){e.customerinactivelog_data=t.data.customer_list,unlockUI()})}s.open({templateUrl:"/statuscustomer.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.showsPopover=function(t){function e(e,a){var n={customer_gid:t},s="api/FndMstCustomerMasterAdd/Editcustomer";r.getparams(s,n).then(function(t){e.txtcustomer_code=t.data.customer_code,e.txtcustomer_name=t.data.customer_name,e.txteditremarks=t.data.remarks,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")}}s.open({templateUrl:"/showremarks.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e["delete"]=function(t){var e={customer_gid:t};p.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/FndMstCustomerMasterAdd/Deletecustomer";r.getparams(a,e).then(function(t){1==t.data.status?_():(c.alert("Error Occurred While Deleting Customer!",{status:"warning",pos:"top-center",timeout:3e3}),_())}),p.swal("Deleted Successfully!")}})}}angular.module("angle").controller("FndTrnCustomerApprovalController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){var t="api/FndMstCustomerMasterAdd/Getcustomerapprover";lockUI(),r.get(t).then(function(t){e.customerapprover_list=t.data.customerapprover_list,unlockUI()});var t="api/FndMstCustomerMasterAdd/GetCustomerCounts";r.get(t).then(function(t){unlockUI(),e.customerpending_count=t.data.customerpending_count,e.customerapproved_count=t.data.customerapproved_count,e.customerrejected_count=t.data.customerrejected_count}),e.customersummary=function(){a.go("app.FndTrnCustomerApproval")},e.approvecustomer=function(){a.go("app.FndTrnCustomerApproved")},e.rejectcustomer=function(){a.go("app.FndTrnCustomerRejected")},e.viewcustomer=function(t){d.url("app/FndTrnApprovalView?hash="+g.encryptURL("lscustomer_gid="+t))},e.approvecustomer=function(){var t="api/FndMstCustomerMasterAdd/Getcustomerapprover";lockUI(),r.get(t).then(function(t){e.customerapprover_list=t.data.customerapprover_list,unlockUI()})}}var y=this;y.title="FndTrnCustomerApprovedController",_(),e.showsPopover=function(t){function e(e,a){var n={customer_gid:t},s="api/FndMstCustomerMasterAdd/Editcustomer";r.getparams(s,n).then(function(t){e.txtcustomer_code=t.data.customer_code,e.txtcustomer_name=t.data.customer_name,e.txteditremarks=t.data.remarks,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")}}s.open({templateUrl:"/showremarks.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("FndTrnCustomerApprovedController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){var t="api/FndMstCustomerMasterAdd/Getcustomerapproverview";lockUI(),r.get(t).then(function(t){e.customerapprover_list=t.data.customerapprover_list,unlockUI()});var t="api/FndMstCustomerMasterAdd/GetCustomerViewCounts";r.get(t).then(function(t){unlockUI(),e.customerpendingView_count=t.data.customerpendingview_count,e.customerapprovedView_count=t.data.customerapprovedview_count,e.customerrejectedView_count=t.data.customerrejectedview_count}),e.approvecustomerview=function(){a.go("app.FndTrnCustomerApprovedView")},e.pendingcustomerview=function(){a.go("app.FndMstCustomerMaster")},e.rejectcustomerview=function(){a.go("app.FndTrnCustomerRejectedView")},e.addcustomer=function(){a.go("app.FndMstCustomerMasterAdd")},e.viewcustomer=function(t){d.url("app/FndMstCustomerMasterView?hash="+g.encryptURL("lscustomer_gid="+t))},e.approvecustomerview=function(){var t="api/FndMstCustomerMasterAdd/Getcustomerapprover";lockUI(),r.get(t).then(function(t){e.customerapprover_list=t.data.customerapprover_list,unlockUI()})}}var y=this;y.title="FndTrnCustomerApprovedViewController",_(),e.showsPopover=function(t){function e(e,a){var n={customer_gid:t},s="api/FndMstCustomerMasterAdd/Editcustomer";r.getparams(s,n).then(function(t){e.txtcustomer_code=t.data.customer_code,e.txtcustomer_name=t.data.customer_name,e.txteditremarks=t.data.remarks,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")}}s.open({templateUrl:"/showremarks.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("FndTrnCustomerApprovedViewController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){var t="api/FndMstCustomerMasterAdd/Getcustomerapprovalreject";lockUI(),r.get(t).then(function(t){e.customerrejected_list=t.data.customerrejected_list,unlockUI()});var t="api/FndMstCustomerMasterAdd/GetCustomerCounts";r.get(t).then(function(t){unlockUI(),e.customerpending_count=t.data.customerpending_count,e.customerapproved_count=t.data.customerapproved_count,e.customerrejected_count=t.data.customerrejected_count}),e.customersummary=function(){a.go("app.FndTrnCustomerApproval")},e.approvecustomer=function(){a.go("app.FndTrnCustomerApproved")},e.rejectcustomer=function(){a.go("app.FndTrnCustomerRejected")},e.viewcustomer=function(t){d.url("app/FndTrnApprovalView?hash="+g.encryptURL("lscustomer_gid="+t))},e.rejectcustomer=function(){var t="api/FndMstCustomerMasterAdd/Getcustomerreject";lockUI(),r.get(t).then(function(t){e.customerrejected_list=t.data.customerrejected_list,unlockUI()})}}var y=this;y.title="FndTrnCustomerRejectedController",_(),e.showsPopover=function(t){function e(e,a){var n={customer_gid:t},s="api/FndMstCustomerMasterAdd/Editcustomer";r.getparams(s,n).then(function(t){e.txtcustomer_code=t.data.customer_code,e.txtcustomer_name=t.data.customer_name,e.txteditremarks=t.data.remarks,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")}}s.open({templateUrl:"/showremarks.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("FndTrnCustomerRejectedController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){var t="api/FndMstCustomerMasterAdd/Getcustomerreject";lockUI(),r.get(t).then(function(t){e.customerrejected_list=t.data.customerrejected_list,unlockUI()});var t="api/FndMstCustomerMasterAdd/GetCustomerViewCounts";r.get(t).then(function(t){unlockUI(),e.customerpendingView_count=t.data.customerpendingview_count,e.customerapprovedView_count=t.data.customerapprovedview_count,e.customerrejectedView_count=t.data.customerrejectedview_count}),e.approvecustomerview=function(){a.go("app.FndTrnCustomerApprovedView")},e.rejectcustomerview=function(){a.go("app.FndTrnCustomerRejectedView")},e.addcustomer=function(){a.go("app.FndMstCustomerMasterAdd")},e.pendingcustomerview=function(){a.go("app.FndMstCustomerMaster")},e.viewcustomer=function(t){d.url("app/FndMstCustomerMasterView?hash="+g.encryptURL("lscustomer_gid="+t))},e.rejectcustomerview=function(){var t="api/FndMstCustomerMasterAdd/Getcustomerreject";lockUI(),r.get(t).then(function(t){e.customerrejected_list=t.data.customerrejected_list,unlockUI()})}}var y=this;y.title="FndTrnCustomerRejectedViewController",_(),e.showsPopover=function(t){function e(e,a){var n={customer_gid:t},s="api/FndMstCustomerMasterAdd/Editcustomer";r.getparams(s,n).then(function(t){e.txtcustomer_code=t.data.customer_code,e.txtcustomer_name=t.data.customer_name,e.txteditremarks=t.data.remarks,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")}}s.open({templateUrl:"/showremarks.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("FndTrnCustomerRejectedViewController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){var t="api/FndTrnMyCampaignSummary/GetCampaignApprovalclose";r.get(t).then(function(t){e.mycampaign_list=t.data.mycampaign_list}),e.close_campaign=function(){var t="api/FndTrnMyCampaignSummary/GetCampaignApprovalclose";r.get(t).then(function(t){e.mycampaign_list=t.data.mycampaign_list})};var t="api/FndTrnMyCampaignSummary/GetMyCampaignSummaryCounts";r.get(t).then(function(t){unlockUI(),e.campaignspending_count=t.data.campaignspending_count,e.campaignsapproved_count=t.data.campaignsapproved_count})}var y=this;y.title="FndTrnMyCampaignApprovalCloseController",_(),e.pending_campaign=function(){a.go("app.FndTrnMyCampaignApprovalPending")},e.close_campaign=function(){a.go("app.FndTrnMyCampaignApprovalClosed")},e.showPopover=function(t){function e(e,a){var n={campaign_gid:t};lockUI();var s="api/FndTrnMyCampaignSummary/GetEmployeeName";r.getparams(s,n).then(function(t){unlockUI(),e.employee_name=t.data.employee_name}),e.ok=function(){a.close("closed")}}s.open({templateUrl:"/showemployee.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.viewclosed=function(t){d.url("app/FndTrnMyCampaignApprovalClosedView?hash="+g.encryptURL("lscampaign_gid="+t))}}angular.module("angle").controller("FndTrnMyCampaignApprovalCloseController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l){function g(){var t={campaign_gid:f},a="api/FndTrnCampaign/campaignDetailsView";r.getparams(a,t).then(function(t){e.campaign_code=t.data.campaign_code,e.campaign_name=t.data.campaign_name,e.cboCampaign_type=t.data.campaigntype_gid,e.cboCampaign_type=t.data.campaigntype_name,e.cboCustomer=t.data.customer_gid,e.cboCustomer=t.data.customer_name,e.contact_name=t.data.contact_name,e.contact_mobile=t.data.contact_mobile,e.contact_email=t.data.contact_email,e.cboCampaign_apr=t.data.campaign_approver,e.campaign_cost=t.data.campaign_cost,e.start_date=t.data.start_date,e.end_date=t.data.end_date,e.assesment_date=t.data.assesment_date,e.os_assesment_date=t.data.os_assesment_date,e.loan_availed=t.data.loan_availed,e.cboCampaign_mgr=t.data.employee_gid,e.cboCampaign_mgr=t.data.manager_name,unlockUI()});var a="api/FndTrnMyCampaignSummary/GetMyCampaignApprovalRaiseQuery";lockUI(),r.getparams(a,t).then(function(t){unlockUI(),e.mycampiagnraisequery_list=t.data.mycampiagnraisequery_list});var t={campaign_gid:f},a="api/FndTrnMyCampaignSummary/GetSingleFormView";lockUI(),r.getparams(a,t).then(function(t){e.singleform_list=t.data.singleform_list}),_(),unlockUI()}function _(){var t={campaign_gid:f},a="api/FndTrnMyCampaignSummary/GetSampleDynamicdata";r.getparams(a,t).then(function(t){1==t.data.status?(e.SampleDynamicdata=JSON.parse(t.data.JSONdata),e.SampleDynamicTabledata=angular.copy(e.SampleDynamicdata),e.SampleDynamicTable=angular.copy(e.SampleDynamicTabledata)):e.SampleDynamicTabledata=""})}var y=this;y.title="FndTrnMyCampaignApprovalClosedViewController",e.campaign_gid=l.decryptURL(d.search().hash).lscampaign_gid;var f=e.campaign_gid;g(),e.Back=function(){a.go("app.FndTrnMyCampaignApprovalClosed")},e.stripAddr=function(t){return t},e.view_campaignquerydesc=function(t,e,a){function n(n,s){n.lblquery_desc=t,n.lblqueryresponse_remarks=e,n.lblquery_responseby=a,n.ok=function(){s.close("closed")}}u.open({templateUrl:"/mycampaignqueryDescriptionView.html",controller:n,backdrop:"static",keyboard:!1,size:"lg"});n.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("FndTrnMyCampaignApprovalClosedViewController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","$modal","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g,_){function y(){e.form_submit=!1,e.form_update=!1,e.selectOptions="",e.choices="";var t={campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid},a="api/FndTrnMyCampaignSummary/GetCampaignDetails";r.getparams(a,t).then(function(t){e.choices=t.data.campaign_details,e.campaign_name=t.data.campaign_name,angular.forEach(e.choices,function(t,a){e.campaign_name=t.campaign_name,e.campaignrefno=t.campaignrefno,e.campaign_type=t.campaign_type,e.customer_name=t.customer_name,e.contactperson_fn=t.contactperson_fn,e.contactperson_mobile=t.contactperson_mobile,e.contactperson_email=t.contactperson_email,e.start_date=t.start_date,e.end_date=t.end_date,e.assesment_date=t.assesment_date}),angular.forEach(e.choices,function(t,a){if("Text"==t.answer_type);else if("List"==t.answer_type){var n=t.answer_desc.split(",");e.selectOptions=n,console.log(e.selectOptions)}else"Number"==t.answer_type||"Radio_Button"==t.answer_type&&(e.radioOptions=t.answerdesc_list,console.log(e.radioOptions))})});var a="api/FndTrnMyCampaignSummary/GetMycampaignSingle";r.getparams(a,t).then(function(t){if(1==t.data.status)if("Y"==t.data.lsFlag){e.form_submit=!0,e.form_details=!0;var a={campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid},n="api/FndTrnMyCampaignSummary/GetSingleCampaignSummary";r.getparams(n,a).then(function(t){e.singleformanswer_list=t.data.campaign_list,e.form_summary=!1})}else e.form_submit=!1,e.form_details=!1,e.form_summary=!0;e.singleformanswer_list=t.data.singleformanswer_list}),e.stripAddr=function(t){return t};var t={campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid},a="api/FndTrnMyCampaignSummary/GetSingleCampaignSummary";r.getparams(a,t).then(function(t){e.singleformanswer_list=t.data.campaign_list}),f(),h();var a="api/FndTrnMyCampaignSummary/GetMyCampaignApprovalRaiseQuery";lockUI(),r.getparams(a,t).then(function(t){unlockUI(),e.mycampiagnraisequery_list=t.data.mycampiagnraisequery_list})}function f(){var t={campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid},a="api/FndTrnMyCampaignSummary/GetMycampaignMultiple";r.getparams(a,t).then(function(t){1==t.data.status?(e.SampleDynamicdata=JSON.parse(t.data.JSONdata),e.SampleDynamicTabledata=angular.copy(e.SampleDynamicdata),e.SampleDynamicTable=angular.copy(e.SampleDynamicTabledata),e.invisible=!0):(e.SampleDynamicTabledata="",e.invisible=!1)})}function h(){var t={campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid},a="api/FndTrnMyCampaignSummary/GetMycampaignTeamActivity";r.getparams(a,t).then(function(t){1==t.data.status?(e.SampleDynamicdata1=JSON.parse(t.data.JSONdata),e.SampleDynamicTabledata1=angular.copy(e.SampleDynamicdata1),e.SampleDynamicTable1=angular.copy(e.SampleDynamicTabledata1),e.invisibleTeam=!0):(e.SampleDynamicTabledata1="",e.invisibleTeam=!1)})}function b(t){var a={campaign_gid:t},n="api/FndTrnMyCampaignSummary/GetMyCampaignRaiseQuery";lockUI(),r.getparams(n,a).then(function(t){unlockUI(),e.mycampiagnraisequery_list=t.data.mycampiagnraisequery_list})}var v=this;v.title="FndTrnMyCampaignApprovalController",e.campaign_gid=_.decryptURL(d.search().hash).lscampaign_gid;e.answer=!1,y(),e.approver_update=function(){var t={mycampaignapproval_remarks:e.remarks,campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid},n="api/FndTrnMyCampaignSummary/MyCampaignApprovedSubmit";lockUI(),r.post(n,t).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),a.go("app.FndTrnMyCampaignApprovalPending")):c.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3})})},e.rejected_update=function(){var t={mycampaignapproval_remarks:e.remarks,campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid},n="api/FndTrnMyCampaignSummary/MyCampaignRejectSubmit";lockUI(),r.post(n,t).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),a.go("app.FndTrnMyCampaignApprovalPending")):c.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3})})},e.myraisequery=function(t){function e(e,a){e.ok=function(){a.close("closed")};var n={campaign_gid:t},s="api/FndTrnMyCampaignSummary/GetCampaignManager";lockUI(),r.getparams(s,n).then(function(t){e.campaignmanager_list=t.data.campaignmanager_list,unlockUI()}),e.submit=function(){var n="",s="";void 0==e.cboemployee_name&&null==e.cboemployee_name||(n=e.cboemployee_name.manager_gid,s=e.cboemployee_name.manager_name);var o={campaign_gid:t,query_title:e.txtquery_title,query_description:e.txtquery_description,manager_gid:n,manager_name:s},i="api/FndTrnMyCampaignSummary/PostMyCampaignraisequery";lockUI(),r.post(i,o).then(function(e){unlockUI(),1==e.data.status?(c.alert(e.data.message,{status:"success",pos:"top-center",timeout:3e3}),b(t)):c.alert(e.data.message,{status:"info",pos:"top-center",timeout:3e3})}),a.close("closed")}}s.open({templateUrl:"/myqueryClose.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.view_myquerydesc=function(t,e,a){
function n(n,s){n.lblquery_desc=t,n.lblqueryresponse_remarks=e,n.lblquery_responseby=a,n.ok=function(){s.close("closed")}}s.open({templateUrl:"/myqueryDescriptionView.html",controller:n,backdrop:"static",keyboard:!1,size:"lg"});n.$inject=["$scope","$modalInstance"]},e.showPopover=function(t){function e(e,a){var n={campaignmanager2employee_gid:t};lockUI();var s="api/FndTrnMyCampaignSummary/GetManagerEmployeeName";r.getparams(s,n).then(function(t){unlockUI(),e.manager_name=t.data.manager_name}),e.ok=function(){a.close("closed")}}s.open({templateUrl:"/showemployee.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.Back=function(){a.go("app.FndTrnMyCampaignApprovalPending")},e.AddMultiple=function(){function t(t,n){var s={campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid},o="api/FndTrnMyCampaignSummary/GetCampaignMultipleDetails";lockUI(),r.getparams(o,s).then(function(e){t.multichoices=e.data.multi_campaign_details,t.campaign_name=e.data.campaign_name,angular.forEach(t.multichoices,function(e,a){t.campaign_name=e.campaign_name,t.campaignrefno=e.campaignrefno,t.campaign_type=e.campaign_type,t.customer_name=e.customer_name,t.contactperson_fn=e.contactperson_fn,t.contactperson_mobile=e.contactperson_mobile,t.contactperson_email=e.contactperson_email,t.start_date=e.start_date,t.end_date=e.end_date,t.assesment_date=e.assesment_date}),angular.forEach(t.multichoices,function(e,a){if("Text"==e.answer_type);else if("List"==e.answer_type){var n=e.answer_desc.split(",");t.selectOptions=n,console.log(t.selectOptions)}else"Number"==e.answer_type||"Radio_Button"==e.answer_type&&(t.multiradioOptions=e.answerdesc_list,console.log(t.multiradioOptions))})}),unlockUI(),t.MultipleSubmit=function(){var s,o=Math.floor(Math.pow(10,5)+Math.random()*(Math.pow(10,6)-Math.pow(10,5)-1));angular.forEach(t.multichoices,function(t,n){if("Text"==t.answer_type){s={campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid,questionnarie_gid:t.questionnarie_gid,questionnarie_name:t.question,questionnarie_type:t.answer_type,questionnarie_answer:t.name,form_type:o};var i="api/FndTrnMyCampaignSummary/MyCampaignMultipleSubmit";r.post(i,s).then(function(t){1==t.data.status&&(e="success",a=t.data.message,setTimeout(1e3))})}else if("Number"==t.answer_type){s={campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid,questionnarie_gid:t.questionnarie_gid,questionnarie_name:t.question,questionnarie_type:t.answer_type,questionnarie_answer:t.name,form_type:o};var i="api/FndTrnMyCampaignSummary/MyCampaignMultipleSubmit";r.post(i,s).then(function(t){1==t.data.status&&(e="success",a=t.data.message,setTimeout(1e3))})}}),n.close("closed"),y()},t.ok=function(){n.close("closed")}}var e,a;s.open({templateUrl:"/myModalContent.html",controller:t,size:"md"});t.$inject=["$scope","$modalInstance"]},e.add=function(){var t={l:"",v:""};e.inputs.push(t)},e.Back=function(){a.go("app.FndTrnMyCampaignApprovalPending")},e.viewcampaign=function(){function t(t,n){var s={campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid},o="api/FndTrnMyCampaignSummary/GetMycampaignSingle";lockUI(),r.getparams(o,s).then(function(e){t.singlechoices=e.data.campaign_details,angular.forEach(t.singlechoices,function(e,a){if("Text"==e.answer_type);else if("List"==e.answer_type){var n=e.answer_desc.split(",");t.selectOptions=n}else"Number"==e.answer_type||"Radio_Button"==e.answer_type&&(t.radioOptions=e.answerdesc_list)})}),unlockUI(),t.singleUpdate=function(){var s;lockUI(),angular.forEach(t.singlechoices,function(t,e){"Text"==t.answer_type?s={campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid,mycampaignsingle_gid:t.mycampaignsingle_gid,questionnarie_answer:t.name}:"List"==t.answer_type?s={campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid,mycampaignsingle_gid:t.mycampaignsingle_gid,questionnarie_answer:t.type}:"Number"==t.answer_type?s={campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid,mycampaignsingle_gid:t.mycampaignsingle_gid,questionnarie_answer:t.name}:"Radio_Button"==t.answer_type&&(s={campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid,mycampaignsingle_gid:t.mycampaignsingle_gid,questionnarie_answer:t.singleRadio})}),unlockUI(),n.close("closed"),"success"==e?c.alert(a,{status:"success",pos:"top-center",timeout:3e3}):c.alert(a,{status:"info",pos:"top-center",timeout:3e3}),y()},t.ok=function(){n.close("closed")}}var e,a;s.open({templateUrl:"/ViewSingleform.html",controller:t,backdrop:"static",keyboard:!1,size:"lg"});t.$inject=["$scope","$modalInstance"]},e.viewmultiplecampaign=function(t){function e(e,s){var o={campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid,reference_gid:t},i="api/FndTrnMyCampaignSummary/GeteditMycampaignMultiple";lockUI(),r.getparams(i,o).then(function(t){e.editmultichoices=t.data.multi_campaign_details,angular.forEach(e.singlechoices,function(t,e){"Text"==t.answer_type||"Number"==t.answer_type})}),unlockUI(),e.MultipleUpdate=function(){var t;lockUI(),angular.forEach(e.editmultichoices,function(e,a){"Text"==e.answer_type?t={campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid,mycampaignmultiple_gid:e.mycampaignmultiple_gid,questionnarie_answer:e.name}:"Number"==e.answer_type&&(t={campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid,mycampaignmultiple_gid:e.mycampaignmultiple_gid,questionnarie_answer:e.name})}),unlockUI(),s.close("closed"),"success"==a?c.alert(n,{status:"success",pos:"top-center",timeout:3e3}):c.alert(n,{status:"Warning",pos:"top-center",timeout:3e3}),y()},e.ok=function(){s.close("closed")}}var a,n;s.open({templateUrl:"/ViewMultiple.html",controller:e,backdrop:"static",keyboard:!1,size:"lg"});e.$inject=["$scope","$modalInstance"]},e.importexcel=function(t){function e(e,a){e.ok=function(){a.close("closed")},e.downloadtemplate_importexcel=function(){g.Downloaddocument(val1,val2)},e.excelupload=function(n,s,o){var i=document.getElementById("fileimport"),r=i.value;e.fileinputvalue=r;var d=/(\.xls|\.xlsx|\.csv)$/i;if(d.exec(r))if(0==r.includes("ImportExcelSample"))c.alert("File Name / Template Not Supported!","warning"),a.close("closed");else{var m={name:n[0].name,file:n[0]},p=new FormData;p.append("fileupload",m.file),p.append("file_name",m.name),p.append("auditcreation_gid",t),e.uploadfrm=p}else c.alert("File Format Not Supported!","warning"),a.close("closed")},e.uploadexcel=function(){if(""==e.fileinputvalue||void 0==e.fileinputvalue||null==e.fileinputvalue)c.alert("Kindly Select the Excel file","warning");else{var t="api/AtmTrnSampling/ImportExcelSample";lockUI(),r.postFile(t,e.uploadfrm).then(function(t){a.close("closed"),1==t.data.status?(defaultdynamic(),unlockUI(),c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3})):(unlockUI(),c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),a.close("closed")),$("#fileimport").val("")})}},e.uploadexcelcancel=function(){$("#fileimport").val("")}}s.open({templateUrl:"/importexcel.html",controller:e,backdrop:"static",keyboard:!1,size:"lg"});e.$inject=["$scope","$modalInstance"]},e.mycampaign_submit=function(){var t;angular.forEach(e.choices,function(a,n){"Text"==a.answer_type?t={campaign_gid:e.campaign_gid,questionnarie_gid:a.questionnarie_gid,questionnarie_name:a.question,questionnarie_type:a.answer_type,questionnarie_answer:a.name,form_type:"S"}:"List"==a.answer_type?t={campaign_gid:e.campaign_gid,questionnarie_gid:a.questionnarie_gid,questionnarie_name:a.question,questionnarie_type:a.answer_type,questionnarie_answer:a.type,form_type:"S"}:"Number"==a.answer_type?t={campaign_gid:e.campaign_gid,questionnarie_gid:a.questionnarie_gid,questionnarie_name:a.question,questionnarie_type:a.answer_type,questionnarie_answer:a.name,form_type:"S"}:"Radio_Button"==a.answer_type&&(t={campaign_gid:e.campaign_gid,questionnarie_gid:a.questionnarie_gid,questionnarie_name:a.question,questionnarie_type:a.answer_type,questionnarie_answer:a.selected,form_type:"S"});var s="api/FndTrnMyCampaignSummary/MyCampaignSubmit";r.post(s,t).then(function(t){1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),y()})}),t={campaign_gid:_.decryptURL(d.search().hash).lscampaign_gid};var a="api/FndTrnMyCampaignSummary/GetMycampaignSingle";r.getparams(a,t).then(function(t){e.singleformanswer_list=t.data.singleformanswer_list})}}angular.module("angle").controller("FndTrnMyCampaignApprovalController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){var t="api/FndTrnMyCampaignSummary/GetCampaignApprovalpending";r.get(t).then(function(t){e.mycampaign_list=t.data.mycampaign_list}),e.pending_campaign=function(){var t="api/FndTrnMyCampaignSummary/GetCampaignApprovalpending";r.get(t).then(function(t){e.mycampaign_list=t.data.mycampaign_list})};var t="api/FndTrnMyCampaignSummary/GetMyCampaignSummaryCounts";r.get(t).then(function(t){unlockUI(),e.campaignspending_count=t.data.campaignspending_count,e.campaignsapproved_count=t.data.campaignsapproved_count})}var y=this;y.title="FndTrnMyCampaignApprovalPendingController",_(),e.viewFormdata=function(t){d.url("app/FndTrnMyCampaignApprovalView?hash="+g.encryptURL("lscampaign_gid="+t))},e.mycampaign_approval=function(t){d.url("app/FndTrnMyCampaignApproval?hash="+g.encryptURL("lscampaign_gid="+t))},e.pending_campaign=function(){a.go("app.FndTrnMyCampaignApprovalPending")},e.close_campaign=function(){a.go("app.FndTrnMyCampaignApprovalClosed")},e.showPopover=function(t){function e(e,a){var n={campaign_gid:t};lockUI();var s="api/FndTrnMyCampaignSummary/GetEmployeeName";r.getparams(s,n).then(function(t){unlockUI(),e.employee_name=t.data.employee_name}),e.ok=function(){a.close("closed")}}s.open({templateUrl:"/showemployee.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("FndTrnMyCampaignApprovalPendingController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){var t={campaign_gid:b},a="api/FndTrnCampaign/campaignDetailsView";r.getparams(a,t).then(function(t){e.campaign_code=t.data.campaign_code,e.campaign_name=t.data.campaign_name,e.cboCampaign_type=t.data.campaigntype_gid,e.cboCampaign_type=t.data.campaigntype_name,e.cboCustomer=t.data.customer_gid,e.cboCustomer=t.data.customer_name,e.contact_name=t.data.contact_name,e.contact_mobile=t.data.contact_mobile,e.contact_email=t.data.contact_email,e.cboCampaign_apr=t.data.campaign_approver,e.campaign_cost=t.data.campaign_cost,e.start_date=t.data.start_date,e.end_date=t.data.end_date,e.assesment_date=t.data.assesment_date,e.os_assesment_date=t.data.os_assesment_date,e.loan_availed=t.data.loan_availed,e.cboCampaign_mgr=t.data.employee_gid,e.cboCampaign_mgr=t.data.manager_name,unlockUI()});var a="api/FndTrnMyCampaignSummary/GetMyCampaignApprovalRaiseQuery";lockUI(),r.getparams(a,t).then(function(t){unlockUI(),e.mycampiagnraisequery_list=t.data.mycampiagnraisequery_list});var t={campaign_gid:b},a="api/FndTrnMyCampaignSummary/GetSingleFormView";lockUI(),r.getparams(a,t).then(function(t){e.singleform_list=t.data.singleform_list}),y(),unlockUI()}function y(){var t={campaign_gid:b},a="api/FndTrnMyCampaignSummary/GetSampleDynamicdata";r.getparams(a,t).then(function(t){1==t.data.status?(e.SampleDynamicTabledata="",e.SampleDynamicdata="",e.SampleDynamicdata=JSON.parse(t.data.JSONdata),e.SampleDynamicTabledata=angular.copy(e.SampleDynamicdata),e.SampleDynamicTable=angular.copy(e.SampleDynamicTabledata)):e.SampleDynamicTabledata=""})}var f=this;f.title="FndTrnMyCampaignApprovalViewController";var h=g.decryptURL(d.search().hash);e.campaign_gid=h.lscampaign_gid;var b=h.lscampaign_gid;_(),e.Back=function(){a.go("app.FndTrnMyCampaignApprovalPending")},e.view_campaignquerydesc=function(t,e,a){function n(n,s){n.lblquery_desc=t,n.lblqueryresponse_remarks=e,n.lblquery_responseby=a,n.ok=function(){s.close("closed")}}u.open({templateUrl:"/mycampaignqueryDescriptionView.html",controller:n,backdrop:"static",keyboard:!1,size:"lg"});n.$inject=["$scope","$modalInstance"]},e.ExportExcel=function(){var t={campaign_gid:b},e="api/FndTrnMyCampaignSummary/ExportSingleMultipleFormDetails";lockUI(),r.getparams(e,t).then(function(t){1==t.data.status?(unlockUI(),l.Downloaddocument(t.data.lscloudpath,t.data.lsname)):(unlockUI(),c.alert("Error Occurred While Exporting !","warning"))})}}angular.module("angle").controller("FndTrnMyCampaignApprovalViewController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","$modal","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){var t="api/FndTrnMyCampaignSummary/GetCampaignSummaryRejected";r.get(t).then(function(t){e.mycampaign_list=t.data.mycampaign_list}),e.rejected_campaign=function(){var t="api/FndTrnMyCampaignSummary/GetCampaignSummaryRejected";r.get(t).then(function(t){e.mycampaign_list=t.data.mycampaign_list})};var t="api/FndTrnMyCampaignSummary/GetMyCampaignCounts";r.get(t).then(function(t){unlockUI(),e.mycampaignpending_count=t.data.mycampaignpending_count,e.campaignapproved_count=t.data.campaignapproved_count,e.campaignrejected_count=t.data.campaignrejected_count})}var y=this;y.title="FndTrnMyCampaignApprovedController",_(),e.pending_campaign=function(){a.go("app.FndTrnMyCampaignOpen")},e.approved_campaign=function(){a.go("app.FndTrnMyCampaignPending")},e.rejected_campaign=function(){a.go("app.FndTrnMyCampaignApproved")},e.viewrejected=function(t){d.url("app/FndTrnMyCampaignRejectedView?hash="+g.encryptURL("lscampaign_gid="+t))},e.showPopover=function(t){function e(e,a){var n={campaign_gid:t};lockUI();var s="api/FndTrnMyCampaignSummary/GetEmployeeName";r.getparams(s,n).then(function(t){unlockUI(),e.employee_name=t.data.employee_name}),e.ok=function(){a.close("closed")}}s.open({templateUrl:"/showemployee.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("FndTrnMyCampaignApprovedController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l){function g(){var t={campaign_gid:f},a="api/FndTrnCampaign/campaignDetailsView";r.getparams(a,t).then(function(t){e.campaign_code=t.data.campaign_code,e.campaign_name=t.data.campaign_name,e.cboCampaign_type=t.data.campaigntype_gid,e.cboCampaign_type=t.data.campaigntype_name,e.cboCustomer=t.data.customer_gid,e.cboCustomer=t.data.customer_name,e.contact_name=t.data.contact_name,e.contact_mobile=t.data.contact_mobile,e.contact_email=t.data.contact_email,e.cboCampaign_apr=t.data.campaign_approver,e.campaign_cost=t.data.campaign_cost,e.start_date=t.data.start_date,e.end_date=t.data.end_date,e.assesment_date=t.data.assesment_date,e.os_assesment_date=t.data.os_assesment_date,e.loan_availed=t.data.loan_availed,e.cboCampaign_mgr=t.data.employee_gid,e.cboCampaign_mgr=t.data.manager_name,unlockUI()});var a="api/FndTrnMyCampaignSummary/GetMyCampaignRaiseQuery";lockUI(),r.getparams(a,t).then(function(t){unlockUI(),e.mycampiagnraisequery_list=t.data.mycampiagnraisequery_list});var t={campaign_gid:f},a="api/FndTrnMyCampaignSummary/GetSingleFormView";lockUI(),r.getparams(a,t).then(function(t){e.singleform_list=t.data.singleform_list}),_(),unlockUI()}function _(){var t={campaign_gid:f},a="api/FndTrnMyCampaignSummary/GetSampleDynamicdata";r.getparams(a,t).then(function(t){1==t.data.status?(e.SampleDynamicdata=JSON.parse(t.data.JSONdata),e.SampleDynamicTabledata=angular.copy(e.SampleDynamicdata),e.SampleDynamicTable=angular.copy(e.SampleDynamicTabledata)):e.SampleDynamicTabledata=""})}var y=this;y.title="FndTrnMyCampaignApprovedViewController",e.campaign_gid=l.decryptURL(d.search().hash).lscampaign_gid;var f=e.campaign_gid;g(),e.Back=function(){a.go("app.FndTrnMyCampaignPending")},e.stripAddr=function(t){return t},e.view_campaignquerydesc=function(t,e,a){function n(n,s){n.lblquery_desc=t,n.lblqueryresponse_remarks=e,n.lblquery_responseby=a,n.ok=function(){s.close("closed")}}u.open({templateUrl:"/mycampaignqueryDescriptionView.html",controller:n,backdrop:"static",keyboard:!1,size:"lg"});n.$inject=["$scope","$modalInstance"]},e.ExportExcel=function(){var t="api/FndTrnMyCampaignSummary/ExportSingleMultipleFormDetails";lockUI(),r.post(t).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}}angular.module("angle").controller("FndTrnMyCampaignApprovedViewController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","$modal","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){e.form_submit=!1,e.form_update=!1,e.form_summary=!1,e.selectOptions="",e.choices="",e.SampleDynamicTabledata1="",e.invisibleTeam=!1,e.SampleDynamicTabledata="";var t={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid},a="api/FndTrnMyCampaignSummary/GetCampaignDetails";lockUI(),r.getparams(a,t).then(function(t){unlockUI(),e.choices=t.data.campaign_details,e.campaign_name=t.data.campaign_name,angular.forEach(e.choices,function(t,a){e.campaign_name=t.campaign_name,e.campaignrefno=t.campaignrefno,e.campaign_type=t.campaign_type,e.customer_name=t.customer_name,e.contactperson_fn=t.contactperson_fn,e.contactperson_mobile=t.contactperson_mobile,e.contactperson_email=t.contactperson_email,e.start_date=t.start_date,e.end_date=t.end_date,e.assesment_date=t.assesment_date,e.campaign_status=t.campaign_status}),angular.forEach(e.choices,function(t,e){var a="";"Text"==t.answer_type||("List"==t.answer_type?(a=t.answer_desc.split(","),t.answer_desc=a,console.log(t.answer_desc)):"Number"==t.answer_type||"Radio Button"!=t.answer_type&&"Radio_Button"!=t.answer_type||(t.radioOptions=t.answerdesc_list))})}),lockUI();var a="api/FndTrnMyCampaignSummary/GetMycampaignSingle";r.getparams(a,t).then(function(t){if(unlockUI(),1==t.data.status)if("Nothing"!=t.data.lsFlag)if(e.ShowSinglefrm=!0,"Y"==t.data.lsFlag){e.form_submit=!0,e.form_details=!0,e.form_summary=!1;var a={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid},n="api/FndTrnMyCampaignSummary/GetSingleCampaignSummary";r.getparams(n,a).then(function(t){e.singleformanswer_list=t.data.campaign_list})}else e.form_submit=!1,e.form_details=!1,e.form_summary=!0;else e.ShowSinglefrm=!1}),y(),f();var a="api/FndTrnMyCampaignSummary/GetMyCampaignRaiseQuery";lockUI(),r.getparams(a,t).then(function(t){unlockUI(),e.mycampiagnraisequery_list=t.data.mycampiagnraisequery_list})}function y(){var t={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid},a="api/FndTrnMyCampaignSummary/GetMycampaignMultiple";lockUI(),r.getparams(a,t).then(function(t){unlockUI(),1==t.data.status?(e.SampleDynamicTabledata="",e.SampleDynamicdata="",e.SampleDynamicTable="",e.invisible=!1,e.SampleDynamicdata=JSON.parse(t.data.JSONdata),e.SampleDynamicTabledata=angular.copy(e.SampleDynamicdata),e.SampleDynamicTable=angular.copy(e.SampleDynamicTabledata),e.invisible=!0):(e.SampleDynamicTabledata="",e.invisible=!1)})}function f(){var t={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid};lockUI();var a="api/FndTrnMyCampaignSummary/GetMycampaignTeamActivity";r.getparams(a,t).then(function(t){unlockUI(),1==t.data.status?(e.SampleDynamicTabledata1="",e.invisibleTeam=!1,e.SampleDynamicdata1=JSON.parse(t.data.JSONdata),e.SampleDynamicTabledata1=angular.copy(e.SampleDynamicdata1),e.SampleDynamicTable1=angular.copy(e.SampleDynamicTabledata1),e.invisibleTeam=!0):(e.SampleDynamicTabledata1="",e.invisibleTeam=!1)})}var h=this;h.title="FndTrnMyCampaignEditController",e.campaign_gid=g.decryptURL(d.search().hash).lscampaign_gid,e.Questionnarie_gid=g.decryptURL(d.search().hash).lsQuestionnarie_gid;e.answer=!1;_(),e.editmultipleform=function(t){function e(e,s){var o={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid,reference_gid:t},i="api/FndTrnMyCampaignSummary/GeteditMycampaignMultiple";lockUI(),r.getparams(i,o).then(function(t){e.editmultichoices=t.data.multi_campaign_details,angular.forEach(e.singlechoices,function(t,e){"Text"==t.answer_type||"Number"==t.answer_type})}),unlockUI(),e.MultipleUpdate=function(){var t;lockUI(),angular.forEach(e.editmultichoices,function(e,s){if("Text"==e.answer_type){t={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid,mycampaignmultiple_gid:e.mycampaignmultiple_gid,questionnarie_answer:e.name};var o="api/FndTrnMyCampaignSummary/MyCampaignMultipleUpdate";lockUI(),r.post(o,t).then(function(t){unlockUI(),1==t.data.status&&(a="success",n=t.data.message,setTimeout(1e3))})}else if("Number"==e.answer_type){t={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid,mycampaignmultiple_gid:e.mycampaignmultiple_gid,questionnarie_answer:e.name};var o="api/FndTrnMyCampaignSummary/MyCampaignMultipleUpdate";lockUI(),r.post(o,t).then(function(t){unlockUI(),1==t.data.status&&(a="success",n=t.data.message,setTimeout(1e3))})}}),unlockUI(),s.close("closed"),"success"==a?c.alert(n,{status:"success",pos:"top-center",timeout:3e3}):c.alert(n,{status:"warning",pos:"top-center",timeout:3e3}),_()},e.ok=function(){s.close("closed")}}var a,n;s.open({templateUrl:"/EditMultiple.html",controller:e,backdrop:"static",keyboard:!1,size:"lg"});e.$inject=["$scope","$modalInstance"]},e.editcampaign=function(){function t(t,n){var s={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid},o="api/FndTrnMyCampaignSummary/GetMycampaignSingle";lockUI(),r.getparams(o,s).then(function(e){t.singlechoices=e.data.campaign_details,angular.forEach(t.singlechoices,function(e,a){if("Text"==e.answer_type);else if("List"==e.answer_type){var n=e.answer_desc.split(",");e.answer_desc=n}else"Number"==e.answer_type||"Radio_Button"!=e.answer_type&&"Radio Button"!=e.answer_type||(t.radioOptions=e.answerdesc_list)})}),unlockUI(),t.onTaskSelect=function(n,o){console.log(n),angular.forEach(t.singlechoices,function(t,i){if("Radio_Button"==t.answer_type||"Radio Button"==t.answer_type){s={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid,mycampaignsingle_gid:o,questionnarie_answer:n.name};var c="api/FndTrnMyCampaignSummary/MyCampaignUpdate";lockUI(),r.post(c,s).then(function(t){unlockUI(),1==t.data.status&&(e="success",a=t.data.message,setTimeout(1e3))})}})},t.singleUpdate=function(){var s;lockUI(),angular.forEach(t.singlechoices,function(t,n){if("Text"==t.answer_type){s={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid,mycampaignsingle_gid:t.mycampaignsingle_gid,questionnarie_answer:t.name};var o="api/FndTrnMyCampaignSummary/MyCampaignUpdate";lockUI(),r.post(o,s).then(function(t){unlockUI(),1==t.data.status&&(e="success",a=t.data.message,setTimeout(1e3))})}else if("List"==t.answer_type){s={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid,mycampaignsingle_gid:t.mycampaignsingle_gid,questionnarie_answer:t.type};var o="api/FndTrnMyCampaignSummary/MyCampaignUpdate";lockUI(),r.post(o,s).then(function(t){unlockUI(),1==t.data.status&&(e="success",a=t.data.message,setTimeout(1e3))})}else if("Number"==t.answer_type){s={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid,mycampaignsingle_gid:t.mycampaignsingle_gid,questionnarie_answer:t.name};var o="api/FndTrnMyCampaignSummary/MyCampaignUpdate";lockUI(),r.post(o,s).then(function(t){unlockUI(),1==t.data.status&&(e="success",a=t.data.message,setTimeout(1e3))})}}),"success"==e?c.alert(a,{status:"success",pos:"top-center",timeout:3e3}):c.alert(a,{status:"warning",pos:"top-center",timeout:3e3}),n.close("closed"),unlockUI()},t.ok=function(){n.close("closed")}}var e,a;s.open({templateUrl:"/EditSingleform.html",controller:t,backdrop:"static",keyboard:!1,size:"lg"});t.$inject=["$scope","$modalInstance"]},e.onSingleTaskSelect=function(t,e,a,n){console.log(t),console.log(t),console.log(e);var s={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid,questionnarie_gid:e,questionnarie_name:a,questionnarie_type:n,questionnarie_answer:t,form_type:"S"},o="api/FndTrnMyCampaignSummary/MyCampaignRadioSubmit";lockUI(),r.post(o,s).then(function(t){unlockUI(),1==t.data.status&&(lsstatus="success",lsmessage=t.data.message,setTimeout(1e3))})},e.viewcampaign=function(){function t(t,n){var s={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid},o="api/FndTrnMyCampaignSummary/GetMycampaignSingle";lockUI(),r.getparams(o,s).then(function(e){t.singlechoices=e.data.campaign_details,angular.forEach(t.singlechoices,function(e,a){if("Text"==e.answer_type);else if("List"==e.answer_type){var n=e.answer_desc.split(",");t.selectOptions=n}else"Number"==e.answer_type||"Radio_Button"!=e.answer_type&&"Radio Button"!=e.answer_type||(t.radioOptions=e.answerdesc_list)})}),unlockUI(),t.singleUpdate=function(){var s;lockUI(),angular.forEach(t.singlechoices,function(t,e){"Text"==t.answer_type?s={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid,mycampaignsingle_gid:t.mycampaignsingle_gid,questionnarie_answer:t.name}:"List"==t.answer_type?s={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid,mycampaignsingle_gid:t.mycampaignsingle_gid,questionnarie_answer:t.type}:"Number"==t.answer_type?s={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid,mycampaignsingle_gid:t.mycampaignsingle_gid,questionnarie_answer:t.name}:"Radio_Button"!=t.answer_type&&"Radio Button"!=t.answer_type||(s={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid,mycampaignsingle_gid:t.mycampaignsingle_gid,questionnarie_answer:t.singleRadio})}),unlockUI(),n.close("closed"),"success"==e?c.alert(a,{status:"success",pos:"top-center",timeout:3e3}):c.alert(a,{status:"warning",pos:"top-center",timeout:3e3}),_()},t.ok=function(){n.close("closed")}}var e,a;s.open({templateUrl:"/ViewSingleform.html",controller:t,backdrop:"static",keyboard:!1,size:"lg"});t.$inject=["$scope","$modalInstance"]},e.viewmultiplecampaign=function(t){function e(e,s){var o={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid,reference_gid:t},i="api/FndTrnMyCampaignSummary/GeteditMycampaignMultiple";lockUI(),r.getparams(i,o).then(function(t){e.editmultichoices=t.data.multi_campaign_details,angular.forEach(e.singlechoices,function(t,e){"Text"==t.answer_type||"Number"==t.answer_type})}),unlockUI(),e.MultipleUpdate=function(){var t;lockUI(),angular.forEach(e.editmultichoices,function(e,a){"Text"==e.answer_type?t={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid,mycampaignmultiple_gid:e.mycampaignmultiple_gid,questionnarie_answer:e.name}:"Number"==e.answer_type&&(t={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid,mycampaignmultiple_gid:e.mycampaignmultiple_gid,questionnarie_answer:e.name})}),unlockUI(),s.close("closed"),"success"==a?c.alert(n,{status:"success",pos:"top-center",timeout:3e3}):c.alert(n,{status:"warning",pos:"top-center",timeout:3e3}),_()},e.ok=function(){s.close("closed")}}var a,n;s.open({templateUrl:"/ViewMultiple.html",controller:e,backdrop:"static",keyboard:!1,size:"lg"});e.$inject=["$scope","$modalInstance"]},e.proceedtoapprove=function(){var t={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid},e="api/FndTrnMyCampaignSummary/CampaignFinalSubmit";lockUI(),r.post(e,t).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),_()}),a.go("app.FndTrnMyCampaignOpen")},e.mycampaignquery_close=function(t){function e(e,a){e.ok=function(){a.close("closed")},e.submit=function(){var n={mycampaignraisequery_gid:t,queryresponse_remarks:e.txtcloseremarks,campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid},s="api/FndTrnMyCampaignSummary/PostMyCampaignresponsequery";lockUI(),r.post(s,n).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),_()):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})}),a.close("closed")}}s.open({templateUrl:"/mycampaignqueryClose.html",controller:e,backdrop:"static",keyboard:!1,size:"lg"});e.$inject=["$scope","$modalInstance"]},e.view_campaignquerydesc=function(t,e,a){function n(n,s){n.lblquery_desc=t,n.lblqueryresponse_remarks=e,n.lblquery_responseby=a,n.ok=function(){s.close("closed")}}s.open({templateUrl:"/mycampaignqueryDescriptionView.html",controller:n,backdrop:"static",keyboard:!1,size:"lg"});n.$inject=["$scope","$modalInstance"]},e.Back=function(){a.go("app.FndTrnMyCampaignOpen")},e.AddMultiple=function(){function t(t,n){var s={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid},o="api/FndTrnMyCampaignSummary/GetCampaignMultipleDetails";lockUI(),r.getparams(o,s).then(function(e){t.multichoices=e.data.multi_campaign_details,t.campaign_name=e.data.campaign_name,angular.forEach(t.multichoices,function(e,a){t.campaign_name=e.campaign_name,t.campaignrefno=e.campaignrefno,t.campaign_type=e.campaign_type,t.customer_name=e.customer_name,t.contactperson_fn=e.contactperson_fn,t.contactperson_mobile=e.contactperson_mobile,t.contactperson_email=e.contactperson_email,t.start_date=e.start_date,t.end_date=e.end_date,t.assesment_date=e.assesment_date}),angular.forEach(t.multichoices,function(t,e){"Text"==t.answer_type||"Number"==t.answer_type})}),unlockUI(),t.MultipleSubmit=function(){var s,o=Math.floor(Math.pow(10,5)+Math.random()*(Math.pow(10,6)-Math.pow(10,5)-1));angular.forEach(t.multichoices,function(t,n){if("Text"==t.answer_type){s={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid,questionnarie_gid:t.questionnarie_gid,questionnarie_name:t.question,questionnarie_type:t.answer_type,questionnarie_answer:t.name,form_type:o};var i="api/FndTrnMyCampaignSummary/MyCampaignMultipleSubmit";r.post(i,s).then(function(t){1==t.data.status&&(e="success",a=t.data.message,setTimeout(1e3))})}else if("Number"==t.answer_type){s={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid,questionnarie_gid:t.questionnarie_gid,questionnarie_name:t.question,questionnarie_type:t.answer_type,questionnarie_answer:t.name,form_type:o};var i="api/FndTrnMyCampaignSummary/MyCampaignMultipleSubmit";r.post(i,s).then(function(t){1==t.data.status&&(e="success",a=t.data.message,setTimeout(1e3))})}}),n.close("closed"),_()},t.ok=function(){n.close("closed")}}var e,a;s.open({templateUrl:"/myModalContent.html",controller:t,backdrop:"static",keyboard:!1,size:"lg"});t.$inject=["$scope","$modalInstance"]},e.importexcel=function(){function t(t,a){t.ok=function(){a.close("closed")},t.downloadtemplate_importexcel=function(){var t="api/FndTrnMyCampaignSummary/ExcelTemplate";lockUI(),r.getparams(t,e).then(function(t){if(unlockUI(),1==t.data.status){unlockUI();var e=t.data.lspath,a=e.split("EMS"),n=a[1].replace("\\","/"),s=window.location.host,o=location.protocol+"//",i=o.concat(s,n),r=document.createElement("a"),d=t.data.lsname.split(".");r.download=d[0];var m=i;r.href=m,r.click()}else unlockUI(),c.alert("Error Occurred While DownLoading !","warning")})},t.excelupload=function(e,n,s){var o=document.getElementById("fileimport"),i=o.value;t.fileinputvalue=i;var r=/(\.xls|\.xlsx|\.csv)$/i;if(r.exec(i))if(0==i.includes("Questionnaire"))c.alert("File Name / Template Not Supported!","warning"),a.close("closed");else{
var m={name:e[0].name,file:e[0]},p=new FormData;Math.floor(Math.pow(10,5)+Math.random()*(Math.pow(10,6)-Math.pow(10,5)-1));p.append("fileupload",m.file),p.append("file_name",m.name),p.append("campaign_gid",g.decryptURL(d.search().hash).lscampaign_gid),p.append("project_flag","RSK"),t.uploadfrm=p}else c.alert("File Format Not Supported!","warning"),a.close("closed")},t.uploadexcel=function(){if(""==t.fileinputvalue||void 0==t.fileinputvalue||null==t.fileinputvalue)c.alert("Kindly Select the Excel file","warning");else{var e="api/FndTrnMyCampaignSummary/MyCampaignExcelSubmit";lockUI(),r.postFile(e,t.uploadfrm).then(function(t){unlockUI(),a.close("closed"),1==t.data.status?(lsstatus="success",lsmessage=t.data.message,setTimeout(1e3)):(unlockUI(),c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),a.close("closed")),_()}),$("#fileimport").val("")}},t.uploadexcelcancel=function(){$("#fileimport").val("")}}var e=(s.open({templateUrl:"/importexcel.html",controller:t,backdrop:"static",keyboard:!1,size:"lg"}),{campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid});t.$inject=["$scope","$modalInstance"]},e.stripAddr=function(t){return t},e.mycampaign_submit=function(){var t,a,n,s="N";angular.forEach(e.choices,function(o,i){if("Text"==o.answer_type?(s="Y",t={campaign_gid:e.campaign_gid,questionnarie_gid:o.questionnarie_gid,questionnarie_name:o.question,questionnarie_type:o.answer_type,questionnarie_answer:o.name,form_type:"S"}):"List"==o.answer_type?(s="Y",t={campaign_gid:e.campaign_gid,questionnarie_gid:o.questionnarie_gid,questionnarie_name:o.question,questionnarie_type:o.answer_type,questionnarie_answer:o.type,form_type:"S"}):"Number"==o.answer_type&&(s="Y",t={campaign_gid:e.campaign_gid,questionnarie_gid:o.questionnarie_gid,questionnarie_name:o.question,questionnarie_type:o.answer_type,questionnarie_answer:o.name,form_type:"S"}),"Y"==s){var c="api/FndTrnMyCampaignSummary/MyCampaignSubmit";lockUI(),r.post(c,t).then(function(t){unlockUI(),1==t.data.status?(a="success",n=t.data.message,console.log("submit"+n,a)):(n=t.data.message,console.log("submitelse"+n,a))})}else a="success",n="Single Form Added Successfully"}),console.log(n,a),"success"==a?c.alert(n,{status:"success",pos:"top-center",timeout:3e3}):c.alert(n,{status:"warning",pos:"top-center",timeout:3e3}),t={campaign_gid:g.decryptURL(d.search().hash).lscampaign_gid},_(),_()}}angular.module("angle").controller("FndTrnMyCampaignEditController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){var t="api/FndTrnMyCampaignSummary/GetCampaignSummary";r.get(t).then(function(t){e.mycampaign_list=t.data.mycampaign_list}),e.pending_campaign=function(){var t="api/FndTrnMyCampaignSummary/GetCampaignSummary";r.get(t).then(function(t){e.mycampaign_list=t.data.mycampaign_list})};var t="api/FndTrnMyCampaignSummary/GetMyCampaignCounts";r.get(t).then(function(t){unlockUI(),e.mycampaignpending_count=t.data.mycampaignpending_count,e.campaignapproved_count=t.data.campaignapproved_count,e.campaignrejected_count=t.data.campaignrejected_count})}var y=this;y.title="FndTrnMyCampaignOpenController",_(),e.pending_campaign=function(){a.go("app.FndTrnMyCampaignOpen")},e.approved_campaign=function(){a.go("app.FndTrnMyCampaignPending")},e.rejected_campaign=function(){a.go("app.FndTrnMyCampaignApproved")},e.editcampaign=function(t){d.url("app/FndTrnMyCampaignEdit?hash="+g.encryptURL("lscampaign_gid="+t))},e.viewcampaign=function(t){d.url("app/FndTrnMyCampaignView?hash="+g.encryptURL("lscampaign_gid="+t))},e.showPopover=function(t){function e(e,a){var n={campaign_gid:t};lockUI();var s="api/FndTrnMyCampaignSummary/GetEmployeeName";r.getparams(s,n).then(function(t){unlockUI(),e.employee_name=t.data.employee_name}),e.ok=function(){a.close("closed")}}s.open({templateUrl:"/showemployee.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("FndTrnMyCampaignOpenController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){var t="api/FndTrnMyCampaignSummary/GetCampaignSummaryApproved";r.get(t).then(function(t){e.mycampaign_list=t.data.mycampaign_list}),e.approved_campaign=function(){var t="api/FndTrnMyCampaignSummary/GetCampaignSummaryApproved";r.get(t).then(function(t){e.mycampaign_list=t.data.mycampaign_list})};var t="api/FndTrnMyCampaignSummary/GetMyCampaignCounts";r.get(t).then(function(t){unlockUI(),e.mycampaignpending_count=t.data.mycampaignpending_count,e.campaignapproved_count=t.data.campaignapproved_count,e.campaignrejected_count=t.data.campaignrejected_count})}var y=this;y.title="FndTrnMyCampaignPendingController",_(),e.pending_campaign=function(){a.go("app.FndTrnMyCampaignOpen")},e.approved_campaign=function(){a.go("app.FndTrnMyCampaignPending")},e.rejected_campaign=function(){a.go("app.FndTrnMyCampaignApproved")},e.viewapproved=function(t){d.url("app/FndTrnMyCampaignApprovedView?hash="+g.encryptURL("lscampaign_gid="+t))},e.showPopover=function(t){function e(e,a){var n={campaign_gid:t};lockUI();var s="api/FndTrnMyCampaignSummary/GetEmployeeName";r.getparams(s,n).then(function(t){unlockUI(),e.employee_name=t.data.employee_name}),e.ok=function(){a.close("closed")}}s.open({templateUrl:"/showemployee.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("FndTrnMyCampaignPendingController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l){function g(){var t={campaign_gid:f},a="api/FndTrnCampaign/campaignDetailsView";r.getparams(a,t).then(function(t){e.campaign_code=t.data.campaign_code,e.campaign_name=t.data.campaign_name,e.cboCampaign_type=t.data.campaigntype_gid,e.cboCampaign_type=t.data.campaigntype_name,e.cboCustomer=t.data.customer_gid,e.cboCustomer=t.data.customer_name,e.contact_name=t.data.contact_name,e.contact_mobile=t.data.contact_mobile,e.contact_email=t.data.contact_email,e.cboCampaign_apr=t.data.campaign_approver,e.campaign_cost=t.data.campaign_cost,e.start_date=t.data.start_date,e.end_date=t.data.end_date,e.assesment_date=t.data.assesment_date,e.os_assesment_date=t.data.os_assesment_date,e.loan_availed=t.data.loan_availed,e.cboCampaign_mgr=t.data.employee_gid,e.cboCampaign_mgr=t.data.manager_name,unlockUI()});var a="api/FndTrnMyCampaignSummary/GetMyCampaignRaiseQuery";lockUI(),r.getparams(a,t).then(function(t){unlockUI(),e.mycampiagnraisequery_list=t.data.mycampiagnraisequery_list});var t={campaign_gid:f},a="api/FndTrnMyCampaignSummary/GetSingleFormView";lockUI(),r.getparams(a,t).then(function(t){e.singleform_list=t.data.singleform_list}),_(),unlockUI()}function _(){var t={campaign_gid:f},a="api/FndTrnMyCampaignSummary/GetSampleDynamicdata";r.getparams(a,t).then(function(t){1==t.data.status?(e.SampleDynamicdata=JSON.parse(t.data.JSONdata),e.SampleDynamicTabledata=angular.copy(e.SampleDynamicdata),e.SampleDynamicTable=angular.copy(e.SampleDynamicTabledata)):e.SampleDynamicTabledata=""})}var y=this;y.title="FndTrnMyCampaignRejectedViewController",e.campaign_gid=l.decryptURL(d.search().hash).lscampaign_gid;var f=e.campaign_gid;g(),e.Back=function(){a.go("app.FndTrnMyCampaignApproved")},e.stripAddr=function(t){return t},e.view_campaignquerydesc=function(t,e,a){function n(n,s){n.lblquery_desc=t,n.lblqueryresponse_remarks=e,n.lblquery_responseby=a,n.ok=function(){s.close("closed")}}u.open({templateUrl:"/mycampaignqueryDescriptionView.html",controller:n,backdrop:"static",keyboard:!1,size:"lg"});n.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("FndTrnMyCampaignRejectedViewController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","$modal","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l,g){function _(){var t="api/FndTrnMyCampaignSummary/GetCampaignSummary";r.get(t).then(function(t){e.mycampaign_list=t.data.mycampaign_list}),e.customersummary=function(){var t="api/FndTrnMyCampaignSummary/GetCampaignSummary";r.get(t).then(function(t){e.mycampaign_list=t.data.mycampaign_list})}}var y=this;y.title="FndTrnMyCampaignSummaryController",_(),e.edit=function(t){d.url("app/FndTrnMyCampaignEdit?hash="+g.encryptURL("lscampaign_gid="+t))}}angular.module("angle").controller("FndTrnMyCampaignSummaryController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,s,o,i,r,c,d,m,p,u,l){function g(){var t={campaign_gid:f},a="api/FndTrnCampaign/campaignDetailsView";r.getparams(a,t).then(function(t){e.campaign_code=t.data.campaign_code,e.campaign_name=t.data.campaign_name,e.cboCampaign_type=t.data.campaigntype_gid,e.cboCampaign_type=t.data.campaigntype_name,e.cboCustomer=t.data.customer_gid,e.cboCustomer=t.data.customer_name,e.contact_name=t.data.contact_name,e.contact_mobile=t.data.contact_mobile,e.contact_email=t.data.contact_email,e.cboCampaign_apr=t.data.campaign_approver,e.campaign_cost=t.data.campaign_cost,e.start_date=t.data.start_date,e.end_date=t.data.end_date,e.assesment_date=t.data.assesment_date,e.os_assesment_date=t.data.os_assesment_date,e.loan_availed=t.data.loan_availed,e.cboCampaign_mgr=t.data.employee_gid,e.cboCampaign_mgr=t.data.manager_name,unlockUI()});var a="api/FndTrnMyCampaignSummary/GetMyCampaignRaiseQuery";lockUI(),r.getparams(a,t).then(function(t){unlockUI(),e.mycampiagnraisequery_list=t.data.mycampiagnraisequery_list});var t={campaign_gid:f},a="api/FndTrnMyCampaignSummary/GetSingleFormView";lockUI(),r.getparams(a,t).then(function(t){e.singleform_list=t.data.singleform_list}),_(),unlockUI()}function _(){var t={campaign_gid:f},a="api/FndTrnMyCampaignSummary/GetSampleDynamicdata";r.getparams(a,t).then(function(t){1==t.data.status?(e.SampleDynamicdata=JSON.parse(t.data.JSONdata),e.SampleDynamicTabledata=angular.copy(e.SampleDynamicdata),e.SampleDynamicTable=angular.copy(e.SampleDynamicTabledata)):e.SampleDynamicTabledata=""})}var y=this;y.title="FndTrnMyCampaignViewController",e.campaign_gid=l.decryptURL(d.search().hash).lscampaign_gid;var f=e.campaign_gid;g(),e.Back=function(){a.go("app.FndTrnMyCampaignOpen")},e.stripAddr=function(t){return t},e.view_campaignquerydesc=function(t,e,a){function n(n,s){n.lblquery_desc=t,n.lblqueryresponse_remarks=e,n.lblquery_responseby=a,n.ok=function(){s.close("closed")}}u.open({templateUrl:"/mycampaignqueryDescriptionView.html",controller:n,backdrop:"static",keyboard:!1,size:"lg"});n.$inject=["$scope","$modalInstance"]}}angular.module("angle").controller("FndTrnMyCampaignViewController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","$modal","cmnfunctionService"]}();