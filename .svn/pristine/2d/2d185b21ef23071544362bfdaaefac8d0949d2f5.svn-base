<h3>
    BRS Repayment Summary
</h3>
<div ng-controller="brsMstRepaymentTemplateController">
    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="col-lg-5 col-md-5 col-sm-5">
                <button type="button" id="opentab" class="btn btn-labeled " ng-click="transac_template()" style="width: 100%; height: 50px; border: 1px solid rgb(179, 177, 177);">
                    <div class="pull-right label" style="background-color:#838383;padding-top:5px;padding-bottom:5px;"> <b> {{transac_count}}</b></div>
                    <b style="font-size: 14px;">Transaction Template</b>
                </button>
                <br />
            </div>
            <div class="col-lg-5 col-md-5 col-sm-5">
                <button type="button" id="pendingtab" class="btn btn-labeled tabactivecolorstyle" ng-click="repayment_template()" style="width: 100%; height: 50px; border: 1px solid rgb(179, 177, 177); background-color: #84cbdb;">
                    <div class="pull-right label" style="background-color:#838383;padding-top:5px;padding-bottom:5px;"> <b> {{repayment_count}}</b></div>
                    <b style="font-size: 14px;">Repayment Template</b>
                </button>
                <br />
            </div>
            <div class="col-lg-2 col-md-2 col-sm-2">
                <button type="button" class="btn btn-success btn-md pull-right" title="Sample Import Excel" ng-click="importexcel()">
                    <i class="fa fa-file-excel-o">&nbsp;Import</i>
                </button>
                <br />
            </div>
        </div>
    </div>
    <br />


    <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="table-responsive">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <table datatable="ng" class="table hover table-striped row-border">

                        <thead class="bg-gray text-white">
                            <tr width="100%">
                                <th align="center" scope="col" style="display:none">S.No</th>
                                <th align="center" scope="col">File Name</th>
                                <th align="center" scope="col">Pending Count</th>
                                <th align="center" scope="col">Closed Count</th>
                                <th align="center" scope="col">Total Count</th>
                                <th align="center" scope="col">Upload Date</th>
                                <th align="center" scope="col">Uploaded By</th>
                                <th align="center" scope="col">Status</th>
                                <th align="center" scope="col">Action</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="data in uploadtemplatelist" class="nowrap" width="100%">
                                <td align="left" style="display:none" scope="col" title="S.No">
                                    {{$index+1}}
                                </td>
                                <td align="left" scope="col" title="File Name">
                                    {{data.file_name}}
                                </td>
                                <td align="left" scope="col" title="Pending Count">
                                    <div class="parent-container" style="display: flex; justify-content: center; align-items: center;">
                                        <div class="text-center" style="position: relative;">
                                            <span style="position: absolute; left: -10px; top: -10px; width: 24px; height: 24px; background-color: gray; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: white; font-weight: bold;">{{data.pending_count}}</span>
                                        </div>
                                        </div>
                                </td>
                                <td align="left" scope="col" title="Closed Count">
                                    <div class="parent-container" style="display: flex; justify-content: center; align-items: center;">
                                        <div class="text-center" style="position: relative;">
                                            <span style="position: absolute; left: -10px; top: -10px; width: 24px; height: 24px; background-color: gray; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: white; font-weight: bold;">{{data.closed_count}}</span>
                                        </div>
                                        </div>
                                </td>
                                <td align="left" scope="col" title="Total Count">
                                    <div class="parent-container" style="display: flex; justify-content: center; align-items: center;">
                                        <div class="text-center" style="position: relative;">
                                            <span style="position: absolute; left: -10px; top: -10px; width: 24px; height: 24px; background-color: gray; border-radius: 50%; display: flex; justify-content: center; align-items: center; color: white; font-weight: bold;">{{data.total_count}}</span>
                                        </div>
                                    </div>

                                </td>
                                <td align="left" scope="col" title="Upload Date">
                                    {{data.created_date}}
                                </td>
                                <td align="left" scope="col" title="Uploaded By">
                                    {{data.created_by}}
                                </td>
                                <td data-title="'Status'" ng-switch="data.Status">
                                    <label ng-if="data.Status=='N' && data.norepayment_flag=='N'" class="label label-info">Pending</label>
                                    <label ng-if="data.Status=='N' && data.norepayment_flag=='Y'" class="label label-warning">No Repayment</label>
                                    <label ng-if="data.Status=='Y' && data.norepayment_flag=='N'" class="label label-success">Completed</label>
                                </td>

                                <td align="center" class="nowrap" data-title="'Action'" style="text-align: center;">
                                    <button ng-disabled="data.Status=='Y' || data.norepayment_flag=='Y'" title="Process" ng-click="process(data.repayreconcildoc_gid)" style="background-color:#871490;" class="btn btn-pink btn-sm">
                                        <em class="fa fa-spinner"></em>
                                    </button>
                                    <button title="Download" class="btn btn-green btn-sm"
                                            ng-click="downloads(data.file_name,data.file_path)">
                                        <a download="" href="" id="btnpdf" style="display:none;"></a>
                                        <em class="fa fa-download"></em>
                                    </button>
                                    <button title="Delete" ng-disabled="true" ng-click="deletetemplate(data.reconcildoc_gid)" class="btn btn-danger btn-sm">
                                        <em class="icon icon-trash "></em>
                                    </button>

                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>


   

</div>
<script type="text/ng-template" id="/importexcel.html">
    <div class="modal-content" style="margin-top:0px;">
        <div class="modal-header bg-blue-600 ng-scope">
            <h4 id="myModalLabel" class="modal-title">
                <span class="btn-label bg-blue-600">
                    <em class="fa fa-plus"></em>
                    LMS Repayment Statement Upload Excel
                </span>
            </h4>
        </div>
        <div class="modal-body ng-scope">
            <div class="pd-sm-10">
                <div class="row">

                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <div class="row">
                            <div class="col-md-12 col-lg-12 col-sm-12">
                                <div class="col-md-2 col-lg-2 col-sm-2 ">
                                    <label><b> Upload Excel :</b></label>
                                </div>
                                <div class="col-md-3 col-lg-3 col-sm-3" style="margin-left:-40px;">
                                    <input type="file" id="fileimport" ng-model="test_document"
                                           onchange="angular.element(this).scope().excelupload(this.files, angular.element(this).scope().documentupload, this.name)"
                                           data-classbutton="btn btn-default" data-classinput="form-control inline" data-button-text="Select" />
                                    &nbsp;
                                </div>
                                <div class="col-md-3 col-lg-3 col-sm-3"></div>
                                <div class="col-md-4 col-lg-4 col-sm-4">
                                    <button title="Upload Excel" ng-click="uploadexcel()" class="btn btn-info">
                                        <em class="icon-cloud-upload"></em>
                                    </button>
                                    <span>
                                        <button title="Cancel Upload" ng-click="uploadexcelcancel()" class="btn btn-danger">
                                            <i class="fa icon-close"></i>
                                        </button>
                                    </span>
                                </div>

                            </div>
                        </div>
                    </div>

                </div>
                <div class="class">
                    <div class="text-center">
                        <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                    </div>
                </div>

            </div>
        </div>
    </div>
</script>




