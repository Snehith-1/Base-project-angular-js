!function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p){function g(){var t="api/MstEnquiryRequire/GetEnquiryRequire";lockUI(),c.get(t).then(function(t){e.enquiryrequire_list=t.data.enquiryrequire_list,unlockUI()})}var _=this;_.title="EnquiryRequireController",g(),e.popupenquiryrequire=function(){function t(t,e){t.ok=function(){e.close("closed")},t.enquiryrequireSubmit=function(){var a={enquiryrequire_name:t.txtenquiryrequire,lms_code:t.txtlms_code,bureau_code:t.txtbureau_code},n="api/MstEnquiryRequire/CreateEnquiryRequire";lockUI(),c.post(n,a).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):(e.close("closed"),s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})),g()}),e.close("closed")}}a.open({templateUrl:"/myModalContent.html",controller:t,backdrop:"static",keyboard:!1,size:"md"});t.$inject=["$scope","$modalInstance"]},e.editenquiryrequire=function(t){function e(e,a){var n={enquiryrequire_gid:t},l="api/MstEnquiryRequire/EditEnquiryRequire";c.getparams(l,n).then(function(t){e.txteditlms_code=t.data.lms_code,e.txteditbureau_code=t.data.bureau_code,e.txtenquiryrequire=t.data.enquiryrequire_name,e.enquiryrequire_gid=t.data.enquiryrequire_gid}),e.ok=function(){a.close("closed")},e.enquiryrequireUpdate=function(){var t="api/MstEnquiryRequire/UpdateEnquiryRequire",n={lms_code:e.txteditlms_code,bureau_code:e.txteditbureau_code,enquiryrequire_name:e.txtenquiryrequire,enquiryrequire_gid:e.enquiryrequire_gid};lockUI(),c.post(t,n).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g()}),a.close("closed")}}a.open({templateUrl:"/editenquiryrequire.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.Status_update=function(t){function e(e,a){var n={enquiryrequire_gid:t},l="api/MstEnquiryRequire/EditEnquiryRequire";c.getparams(l,n).then(function(t){e.enquiryrequire_gid=t.data.enquiryrequire_gid,e.txtenquiryrequire=t.data.enquiryrequire_name,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")},e.update_status=function(){var t={enquiryrequire_name:e.txtenquiryrequire,enquiryrequire_gid:e.enquiryrequire_gid,remarks:e.txtremarks,rbo_status:e.rbo_status},n="api/MstEnquiryRequire/InactiveEnquiryRequire";lockUI(),c.post(n,t).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),g()}),a.close("closed")};var l="api/MstEnquiryRequire/EnquiryRequireInactiveLogview";lockUI(),c.getparams(l,n).then(function(t){e.enquiryrequireinactivelog_data=t.data.enquiryrequire_list,unlockUI()})}a.open({templateUrl:"/statusaudittype.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.deleteenquiryrequire=function(t){var e={enquiryrequire_gid:t};o.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/MstEnquiryRequire/DeleteEnquiryRequire";c.getparams(a,e).then(function(t){1==t.data.status?(o.swal("Deleted Successfully!"),g()):(s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g())})}})}}angular.module("angle").controller("EnquiryRequireController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p){function g(){var t="api/MarMstLeadRequire/GetLeadRequire";lockUI(),c.get(t).then(function(t){e.leadrequire_list=t.data.leadrequire_list,unlockUI()})}var _=this;_.title="LeadRequireController",g(),e.popupleadrequire=function(){function t(t,e){t.ok=function(){e.close("closed")},t.leadrequireSubmit=function(){var a={leadrequire_name:t.txtleadrequire,lms_code:t.txtlms_code,bureau_code:t.txtbureau_code},n="api/MarMstLeadRequire/CreateLeadRequire";lockUI(),c.post(n,a).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):(e.close("closed"),s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})),g()}),e.close("closed")}}a.open({templateUrl:"/myModalContent.html",controller:t,backdrop:"static",keyboard:!1,size:"md"});t.$inject=["$scope","$modalInstance"]},e.editleadrequire=function(t){function e(e,a){var n={leadrequire_gid:t},l="api/MarMstLeadRequire/EditLeadRequire";c.getparams(l,n).then(function(t){e.txteditlms_code=t.data.lms_code,e.txteditbureau_code=t.data.bureau_code,e.txtleadrequire=t.data.leadrequire_name,e.leadrequire_gid=t.data.leadrequire_gid}),e.ok=function(){a.close("closed")},e.leadrequireUpdate=function(){var t="api/MarMstLeadRequire/UpdateLeadRequire",n={lms_code:e.txteditlms_code,bureau_code:e.txteditbureau_code,leadrequire_name:e.txtleadrequire,leadrequire_gid:e.leadrequire_gid};lockUI(),c.post(t,n).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g()}),a.close("closed")}}a.open({templateUrl:"/editleadrequire.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.Status_update=function(t){function e(e,a){var n={leadrequire_gid:t},l="api/MarMstLeadRequire/EditLeadRequire";c.getparams(l,n).then(function(t){e.leadrequire_gid=t.data.leadrequire_gid,e.txtleadrequire=t.data.leadrequire_name,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")},e.update_status=function(){var t={leadrequire_name:e.txtleadrequire,leadrequire_gid:e.leadrequire_gid,remarks:e.txtremarks,rbo_status:e.rbo_status},n="api/MarMstLeadRequire/InactiveLeadRequire";lockUI(),c.post(n,t).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),g()}),a.close("closed")};var l="api/MarMstLeadRequire/LeadRequireInactiveLogview";lockUI(),c.getparams(l,n).then(function(t){e.leadrequireinactivelog_data=t.data.leadrequire_list,unlockUI()})}a.open({templateUrl:"/statusaudittype.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.deleteleadrequire=function(t){var e={leadrequire_gid:t};o.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/MarMstLeadRequire/DeleteLeadRequire";c.getparams(a,e).then(function(t){1==t.data.status?(o.swal("Deleted Successfully!"),g()):(s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g())})}})}}angular.module("angle").controller("LeadRequireController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p){function g(){var t="api/MarMstMilletRequire/GetMilletRequire";lockUI(),c.get(t).then(function(t){e.milletrequire_list=t.data.milletrequire_list,unlockUI()})}var _=this;_.title="MilletRequireController",g(),e.popupmilletrequire=function(){function t(t,e){t.ok=function(){e.close("closed")},t.milletrequireSubmit=function(){var a={milletrequire_name:t.txtmilletrequire,lms_code:t.txtlms_code,bureau_code:t.txtbureau_code},n="api/MarMstMilletRequire/CreateMilletRequire";lockUI(),c.post(n,a).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):(e.close("closed"),s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})),g()}),e.close("closed")}}a.open({templateUrl:"/myModalContent.html",controller:t,backdrop:"static",keyboard:!1,size:"md"});t.$inject=["$scope","$modalInstance"]},e.editmilletrequire=function(t){function e(e,a){var n={milletrequire_gid:t},l="api/MarMstMilletRequire/EditMilletRequire";c.getparams(l,n).then(function(t){e.txteditlms_code=t.data.lms_code,e.txteditbureau_code=t.data.bureau_code,e.txtmilletrequire=t.data.milletrequire_name,e.milletrequire_gid=t.data.milletrequire_gid}),e.ok=function(){a.close("closed")},e.milletrequireUpdate=function(){var t="api/MarMstMilletRequire/UpdateMilletRequire",n={lms_code:e.txteditlms_code,bureau_code:e.txteditbureau_code,milletrequire_name:e.txtmilletrequire,milletrequire_gid:e.milletrequire_gid};lockUI(),c.post(t,n).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g()}),a.close("closed")}}a.open({templateUrl:"/editmilletrequire.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.Status_update=function(t){function e(e,a){var n={milletrequire_gid:t},l="api/MarMstMilletRequire/EditMilletRequire";c.getparams(l,n).then(function(t){e.milletrequire_gid=t.data.milletrequire_gid,e.txtmilletrequire=t.data.milletrequire_name,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")},e.update_status=function(){var t={milletrequire_name:e.txtmilletrequire,milletrequire_gid:e.milletrequire_gid,remarks:e.txtremarks,rbo_status:e.rbo_status},n="api/MarMstMilletRequire/InactiveMilletRequire";lockUI(),c.post(n,t).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),g()}),a.close("closed")};var l="api/MarMstMilletRequire/MilletRequireInactiveLogview";lockUI(),c.getparams(l,n).then(function(t){e.milletrequireinactivelog_data=t.data.milletrequire_list,unlockUI()})}a.open({templateUrl:"/statusaudittype.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.deletemilletrequire=function(t){var e={milletrequire_gid:t};o.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/MarMstMilletRequire/DeleteMilletRequire";c.getparams(a,e).then(function(t){1==t.data.status?(o.swal("Deleted Successfully!"),g()):(s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g())})}})}}angular.module("angle").controller("MilletRequireController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){var t="api/Marketing/MarketingAssignedCallCount";c.get(t).then(function(t){e.assignedcall_count=t.data.assignedcall_count,e.completedcall_count=t.data.completedcall_count,e.followupcall_count=t.data.followupcall_count,e.closedcall_count=t.data.closedcall_count,e.rejectedcall_count=t.data.rejectedcall_count,unlockUI()});var t="api/Marketing/GetAssignedCallSummary";c.get(t).then(function(t){e.marketingassignedcall_list=t.data.MarketingCall_list,unlockUI()})}var f=this;f.title="MstAssignedMarketingSummaryController",_(),e.closed_call=function(){u.url("app/MstClosedMarketingSummary")},e.followup_call=function(){u.url("app/MstFollowUpMarketingSummary")},e.assigned_call=function(){u.url("app/MstAssignedMarketingSummary")},e.completed_call=function(){u.url("app/MstCompletedMarketingSummary")},e.view=function(t){u.url("app/MstMarketingAssignView?hash="+g.encryptURL("lsmarketingcall_gid="+t+"&lspage=AssignedMarketing"))},e.rejected_call=function(){u.url("app/MstRejectedMarketingSummary")},e.transfer=function(t){function e(e,a,l,o,i,r,c,s,u,d,m,p,g){var f={marketingcall_gid:t},k="api/Marketing/MarketingCallDetailsForTransfer";u.getparams(k,f).then(function(t){a.marketingcall_gid=t.data.marketingcall_gid,a.ticket_refid=t.data.ticket_refid,a.assignemployee_gid=t.data.assignemployee_gid,a.assignemployee_name=t.data.assignemployee_name,a.ibcalltransfer_list=t.data.MarketingCalltransfer_list});var k="api/OsdTrnCustomerQueryMgmt/TransferEmployee";u.get(k).then(function(t){a.TransferEmployeeList=t.data.TransferEmployeeList,unlockUI()}),a.transfer_call=function(){if(void 0==a.cboTransferTo)return n.close("closed"),void d.alert("Kindly Select the Transfer to Person","warning");var t={marketingcall_gid:a.marketingcall_gid,ticket_refid:a.ticket_refid,transferfrom_gid:a.assignemployee_gid,transferfrom_name:a.assignemployee_name,transferto_gid:a.cboTransferTo,transferto_name:$("#transfer_to :selected").text(),transfer_remarks:a.transfer_remarks},e="api/Marketing/MarketingCallTransferEmployee";lockUI(),u.post(e,t).then(function(t){unlockUI(),(t.data.status=!0)?(n.close("closed"),d.alert(t.data.message,"success"),_()):(n.close("closed"),d.alert(t.data.message,"warning"),_())})},a.close=function(){n.close("closed")}}var n=a.open({templateUrl:"/transferContent.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams"]}}angular.module("angle").controller("MstAssignedMarketingSummaryController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g,_){function f(){k.calender1=function(t){t.preventDefault(),t.stopPropagation(),k.open1=!0},k.formats=["dd-MM-yyyy"],k.format=k.formats[0],k.dateOptions={formatYear:"yy",startingDay:1},"ClosedMarketing"==b?(e.followupshow=!1,e.completedshow=!1,e.RejectedShow=!0):"FollowUpMarketing"==b?(e.followupshow=!0,e.completedshow=!1,e.closedshow=!1,e.RejectedShow=!1):"CompletedMarketing"==b?(e.completedshow=!0,e.closedshow=!1,e.followupshow=!1,e.RejectedShow=!1):"RejectedMarketing"==b&&(e.RejectedShow=!0,e.closedshow=!1,e.followupshow=!1,e.completedshow=!1);var t={marketingcall_gid:M},a="api/Marketing/GetMarketingCallAssignedView";c.getparams(a,t).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.rdbsam_fin=t.data.entity_name,e.txtsourceofcontact_name=t.data.sourceofcontact_name,e.txtcallreceivednumber_name=t.data.callreceivednumber_name,e.txtcustomer_type=t.data.leadrequesttype_name,e.txtcallreceived_date=t.data.callreceived_date,e.txtcaller_name=t.data.caller_name,e.txtinternalreference_name=t.data.internalreference_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtcalltype_name=t.data.calltype_name,e.txtfunction_name=t.data.function_name,e.txtfunction_remarks=t.data.function_remarks,e.txttat_hours=t.data.tat_hours,e.txtrequirement=t.data.requirement,e.txtenquiry_description=t.data.enquiry_description,e.txtcallclosure_status=t.data.callclosure_status,e.txtassignemployee_name=t.data.assignemployee_name,e.txtassign_date=t.data.assign_date,e.txttagemployee_name=t.data.tagemployee_name,e.txtassignclosure_remarks=t.data.assignclosure_remarks,e.ibcalladdress_list=t.data.MarketingCalladdress_list,e.ibcallfollowup_list=t.data.MarketingCallfollowup_list,e.ibcallextendfollowup_list=t.data.marketingcallextendfollowup_list,e.ibcalltaggedmember_list=t.data.MarketingCalltaggedmember_list,e.txtcompleted_by=t.data.completed_by,e.txtcompleted_date=t.data.completed_date,e.txtcompleted_remarks=t.data.completed_remarks,e.txtclosed_date=t.data.closed_date,e.txtclosed_by=t.data.closed_by,e.txtclosed_remarks=t.data.closed_remarks,e.txtrejected_date=t.data.rejected_date,e.txtrejected_by=t.data.rejected_by,e.txtrejected_remarks=t.data.rejected_remarks,e.txtfollowup_date=t.data.followup_date,e.txtfollowup_time=t.data.followup_time,e.txtfollowup_remarks=t.data.followup_remarks,e.txtloanproduct_name=t.data.loanproduct_name,e.txtloansubproduct_name=t.data.loansubproduct_name,e.txtloan_amount=t.data.loan_amount,e.txtclosed=t.data.closed,e.txtbase_location=t.data.baselocation_name,e.txtprimary_mobileno=t.data.primary_mobileno,e.ibcallmobileno_list=t.data.MarketingCallmobileno_list,e.txtprimary_email=t.data.primary_email,e.ibcallemail_list=t.data.MarketingCallemail_list,e.origination=t.data.origination,e.txtleadrequire_name=t.data.leadrequire_name,e.txtmilletrequire_name=t.data.milletrequire_name,e.txtenquiryrequire_name=t.data.enquiryrequire_name,e.txtstartuprequire_name=t.data.startuprequire_name,e.txtbusiness_name=t.data.business_name,e.txtindustry_name=t.data.industry_name,unlockUI()});var a="api/Marketing/MarketingCallProofDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.lufilename=t.data.filename,e.lufilepath=t.data.filepath,e.Uploadcallproofdocument_list=t.data.callproofupload_list,unlockUI()});var a="api/Marketing/MarketingCallRecordingDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.Uploadcallrecordingdocument_list=t.data.callproofupload_list,unlockUI()});var a="api/Marketing/GetMarketingCallLeadstatusList";lockUI(),c.getparams(a,t).then(function(t){e.MarketingCallLeadstatus_list=t.data.MarketingCallLeadstatus_list,unlockUI()});var a="api/Marketing/GetDocumentList";c.getparams(a,t).then(function(t){e.lsfilename=t.data.filename,e.lsfilepath=t.data.filepath,e.document_list=t.data.document_list});var a="api/Marketing/GetMilletDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.milletdocument_list=t.data.milletdocument_list});var a="api/Marketing/GetEnquiryDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.enquirydocument_list=t.data.enquirydocument_list})}var k=this;k.title="MstAssignedMarketingViewController";var y=_.decryptURL(u.search().hash),M=y.marketingcall_gid,b=y.lspage;e.transfershow=!1,e.followupshow=!1,e.closedshow=!1,e.RejectedShow=!1,lockUI(),f(),e.document_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.download_allupload=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.download_allmillet=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.milletdocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_allenquiry=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.enquirydocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.documentviewerenquiry=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.rec_downloads=function(t,e){g.Downloaddocument(t,e)},e.recproof_downloads=function(t,e){g.Downloaddocument(t,e)},e.documentviewer=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewermillet=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewerupload=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.Back=function(){"ClosedMarketing"==b?u.url("app/MstClosedMarketingSummary"):"FollowUpMarketing"==b?n.go("app.MstFollowUpMarketingSummary"):"CompletedMarketing"==b?n.go("app.MstCompletedMarketingSummary"):"RejectedMarketing"==b&&n.go("app.MstRejectedMarketingSummary")}}angular.module("angle").controller("MstAssignedMarketingViewController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p){function g(){var t="api/MstLeadRequestType/GetLeadRequestType";lockUI(),r.get(t).then(function(t){e.leadrequesttype_list=t.data.leadrequesttype_list,unlockUI()})}var _=this;_.title="MstBDLeadRequestTypeController",g(),e.addleadrequesttype=function(){function t(t,e){t.back=function(){e.close("closed")},t.submit=function(){var a={leadrequesttype_name:t.txtleadrequesttype_name,lms_code:t.txtlms_code,bureau_code:t.txtbureau_code},n="api/MstLeadRequestType/CreateLeadRequestType";lockUI(),r.post(n,a).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),e.close("closed"),g()):(c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.close("closed"),g())})}}l.open({templateUrl:"/addleadrequesttype.html",controller:t,backdrop:"static",keyboard:!1,size:"md"});t.$inject=["$scope","$modalInstance"]},e.editleadrequesttype=function(t){function e(e,a){e.back=function(){a.close("closed")};var n={leadrequesttype_gid:t},l="api/MstLeadRequestType/EditLeadRequestType";r.getparams(l,n).then(function(t){e.txteditleadrequesttype_name=t.data.leadrequesttype_name,e.txteditlms_code=t.data.lms_code,e.txteditbureau_code=t.data.bureau_code,e.leadrequesttype_gid=t.data.leadrequesttype_gid}),e.back=function(){a.close("closed")},e.update=function(){var t="api/MstLeadRequestType/UpdateLeadRequestType",n={leadrequesttype_name:e.txteditleadrequesttype_name,lms_code:e.txteditlms_code,bureau_code:e.txteditbureau_code,leadrequesttype_gid:e.leadrequesttype_gid};r.post(t,n).then(function(t){1==t.data.status?(a.close("closed"),c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),g()):(a.close("closed"),c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g())})}}l.open({templateUrl:"/editleadrequesttype.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.Status_update=function(t){function e(e,a){var n={leadrequesttype_gid:t},l="api/MstLeadRequestType/EditLeadRequestType";r.getparams(l,n).then(function(t){e.leadrequesttype_gid=t.data.leadrequesttype_gid,e.txtleadrequesttype_name=t.data.leadrequesttype_name,e.rbo_status=t.data.Status}),e.back=function(){a.close("closed")},e.update_status=function(){var n={leadrequesttype_gid:t,remarks:e.txtremarks,rbo_status:e.rbo_status},l="api/MstLeadRequestType/InactiveLeadRequestType";lockUI(),r.post(l,n).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g()}),a.close("closed")};var n={leadrequesttype_gid:t},l="api/MstLeadRequestType/InactiveLeadRequestTypeHistory";lockUI(),r.getparams(l,n).then(function(t){e.leadrequesttypeinactivehistory_list=t.data.leadrequesttypeinactivehistory_list,unlockUI()})}l.open({templateUrl:"/statusleadrequesttype.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e["delete"]=function(t){var e={leadrequesttype_gid:t};d.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showSpinner:!0,CancelButtonColor:"#dedad9",showCancelButton:!0,confirmButtonColor:"#d64b3c",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/MstLeadRequestType/DeleteLeadRequestType";r.getparams(a,e).then(function(t){1==t.data.status?(d.swal("Deleted Successfully!"),g()):0==t.data.status?(d.swal({title:"Warning!",text:"Can't able to delete Lead Request Type because it is mapped to add Business Development call",timer:5e3,showCancelButton:!1,showConfirmButton:!1,backgroundcolor:"#d64b3c"}),g()):(c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g())})}})}}angular.module("angle").controller("MstBDLeadRequestTypeController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){var t="api/Marketing/MarketingAssignedCallCount";c.get(t).then(function(t){e.assignedcall_count=t.data.assignedcall_count,e.completedcall_count=t.data.completedcall_count,e.followupcall_count=t.data.followupcall_count,e.closedcall_count=t.data.closedcall_count,e.rejectedcall_count=t.data.rejectedcall_count,unlockUI()});var t="api/Marketing/GetClosedCallSummary";c.get(t).then(function(t){e.marketingclosedcall_list=t.data.MarketingCall_list,unlockUI()})}var f=this;f.title="MstClosedMarketingSummaryController",_(),e.closed_call=function(){u.url("app/MstClosedMarketingSummary")},e.followup_call=function(){u.url("app/MstFollowUpMarketingSummary")},e.assigned_call=function(){u.url("app/MstAssignedMarketingSummary")},e.completed_call=function(){u.url("app/MstCompletedMarketingSummary")},e.view=function(t){u.url("app/MstAssignedMarketingView?hash="+g.encryptURL("marketingcall_gid="+t+"&lspage=ClosedMarketing"))},e.rejected_call=function(){u.url("app/MstRejectedMarketingSummary")}}angular.module("angle").controller("MstClosedMarketingSummaryController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){var t="api/Marketing/MarketingAssignedCallCount";c.get(t).then(function(t){e.assignedcall_count=t.data.assignedcall_count,e.completedcall_count=t.data.completedcall_count,e.followupcall_count=t.data.followupcall_count,e.closedcall_count=t.data.closedcall_count,e.rejectedcall_count=t.data.rejectedcall_count,unlockUI()});var t="api/Marketing/GetCompletedCallSummary";c.get(t).then(function(t){e.marketingcompletedcall_list=t.data.MarketingCall_list,unlockUI()})}var f=this;f.title="MstCompletedMarketingSummaryController",_(),e.closed_call=function(){u.url("app/MstClosedMarketingSummary")},e.followup_call=function(){u.url("app/MstFollowUpMarketingSummary")},e.assigned_call=function(){u.url("app/MstAssignedMarketingSummary")},e.completed_call=function(){u.url("app/MstCompletedMarketingSummary")},e.view=function(t){u.url("app/MstAssignedMarketingView?hash="+g.encryptURL("marketingcall_gid="+t+"&lspage=CompletedMarketing"))},e.rejected_call=function(){u.url("app/MstRejectedMarketingSummary")}}angular.module("angle").controller("MstCompletedMarketingSummaryController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){var t="api/Marketing/MarketingAssignedCallCount";c.get(t).then(function(t){e.assignedcall_count=t.data.assignedcall_count,e.completedcall_count=t.data.completedcall_count,e.followupcall_count=t.data.followupcall_count,e.closedcall_count=t.data.closedcall_count,e.rejectedcall_count=t.data.rejectedcall_count,unlockUI()});var t="api/Marketing/GetFollowUpCallSummary";c.get(t).then(function(t){e.ibfollowupcall_list=t.data.ibcall_list,unlockUI()})}var f=this;f.title="MstFollowUpMarketingSummaryController",_(),e.closed_call=function(){u.url("app/MstClosedMarketingSummary")},e.followup_call=function(){u.url("app/MstFollowUpMarketingSummary")},e.assigned_call=function(){u.url("app/MstAssignedMarketingSummary")},e.completed_call=function(){u.url("app/MstCompletedMarketingSummary")},e.view=function(t){u.url("app/MstAssignedMarketingView?hash="+g.encryptURL("marketingcall_gid="+t+"&lspage=FollowUpMarketing"))},e.rejected_call=function(){u.url("app/MstRejectedRejectedCallSummary")},e.transfer=function(t){function e(e,a,l,o,i,r,c,s,u,d,m,p,g){var f={marketingcall_gid:t},k="api/Marketing/MarketingCallDetailsForTransfer";u.getparams(k,f).then(function(t){a.marketingcall_gid=t.data.marketingcall_gid,a.ticket_refid=t.data.ticket_refid,a.assignemployee_gid=t.data.assignemployee_gid,a.assignemployee_name=t.data.assignemployee_name,a.ibcalltransfer_list=t.data.ibcalltransfer_list});var k="api/OsdTrnCustomerQueryMgmt/TransferEmployee";u.get(k).then(function(t){a.TransferEmployeeList=t.data.TransferEmployeeList,unlockUI()}),a.transfer_call=function(){if(void 0==a.cboTransferTo)return n.close("closed"),void d.alert("Kindly Select the Transfer to Person","warning");var t={marketingcall_gid:a.marketingcall_gid,ticket_refid:a.ticket_refid,transferfrom_gid:a.assignemployee_gid,transferfrom_name:a.assignemployee_name,transferto_gid:a.cboTransferTo,transferto_name:$("#transfer_to :selected").text(),transfer_remarks:a.transfer_remarks},e="api/Marketing/MarketingCallTransferEmployee";lockUI(),u.post(e,t).then(function(t){unlockUI(),(t.data.status=!0)?(n.close("closed"),d.alert(t.data.message,"success"),_()):(n.close("closed"),d.alert(t.data.message,"warning"),_())})},a.close=function(){n.close("closed")}}var n=a.open({templateUrl:"/transferContent.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams"]}}angular.module("angle").controller("MstFollowUpMarketingSummaryController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){var t="api/Marketing/GetFollowUpCallSummary";c.get(t).then(function(t){e.ibcallfollowup_list=t.data.MarketingCall_list,unlockUI()});var t="api/Marketing/MarketingAssignedCallCount";c.get(t).then(function(t){e.assignedcall_count=t.data.assignedcall_count,e.completedcall_count=t.data.completedcall_count,e.followupcall_count=t.data.followupcall_count,e.closedcall_count=t.data.closedcall_count,e.rejectedcall_count=t.data.rejectedcall_count,unlockUI()})}var f=this;f.title="MstFollowUpMarketingSummaryController",_(),lockUI(),e.closed_call=function(){u.url("app/MstClosedMarketingSummary")},e.followup_call=function(){u.url("app/MstFollowUpMarketingSummary")},e.assigned_call=function(){u.url("app/MstAssignedMarketingSummary")},e.completed_call=function(){u.url("app/MstCompletedMarketingSummary")},e.call_response=function(t){u.url("app/MstCallResponse?hash="+g.encryptURL("marketingcall_gid="+t))},e.view=function(t){u.url("app/MstAssignedMarketingView?hash="+g.encryptURL("marketingcall_gid="+t+"&lspage=FollowUpMarketing"))},e.edit=function(t){u.url("app/MstMarketingEdit?hash="+g.encryptURL("marketingcall_gid="+t))},e.work_inprogress=function(){u.url("app/MstWorkInprogressCallSummary")},e.rejected_call=function(){u.url("app/MstRejectedMarketingSummary")},e.transfer=function(t){function e(e,a,l,o,i,r,c,s,u,d,m,p,g){var f={marketingcall_gid:t},k="api/Marketing/MarketingCallDetailsForTransfer";u.getparams(k,f).then(function(t){a.marketingcall_gid=t.data.marketingcall_gid,a.ticket_refid=t.data.ticket_refid,a.assignemployee_gid=t.data.assignemployee_gid,a.assignemployee_name=t.data.assignemployee_name,a.ibcalltransfer_list=t.data.MarketingCalltransfer_list});var k="api/OsdTrnCustomerQueryMgmt/TransferEmployee";
u.get(k).then(function(t){a.TransferEmployeeList=t.data.TransferEmployeeList,unlockUI()}),a.transfer_call=function(){if(void 0==a.cboTransferTo)return n.close("closed"),void d.alert("Kindly Select the Transfer to Person","warning");var t={marketingcall_gid:a.marketingcall_gid,ticket_refid:a.ticket_refid,transferfrom_gid:a.assignemployee_gid,transferfrom_name:a.assignemployee_name,transferto_gid:a.cboTransferTo,transferto_name:$("#transfer_to :selected").text(),transfer_remarks:a.transfer_remarks},e="api/Marketing/MarketingCallTransferEmployee";lockUI(),u.post(e,t).then(function(t){unlockUI(),(t.data.status=!0)?(n.close("closed"),d.alert(t.data.message,"success"),_()):(n.close("closed"),d.alert(t.data.message,"warning"),_())})},a.close=function(){n.close("closed")}}var n=a.open({templateUrl:"/transferContent.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams"]}}angular.module("angle").controller("MstFollowUpMarketingSummaryController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){b.calender1=function(t){t.preventDefault(),t.stopPropagation(),b.open1=!0},b.calender2=function(t){t.preventDefault(),t.stopPropagation(),b.open2=!0},b.formats=["dd-MM-yyyy"],b.format=b.formats[0],b.dateOptions={formatYear:"yy",startingDay:1};var t="api/Marketing/MarketingCallTempClear";c.get(t).then(function(t){}),e.cbointernal_reference="NA";var a=new Date,n=a.toLocaleString([],{hour:"2-digit",minute:"2-digit"}),l=new Date,o=0+l.getDate()+"-"+(l.getMonth()+1)+"-"+l.getFullYear(),i=o+" / "+n;e.txtcallreceived_date=i,e.minDate=new Date;var a=new Date,n=a.toLocaleString([],{hour:"2-digit",minute:"2-digit"});e.txtcallreceived_time=n;var t="api/Marketing/GetEntity";c.get(t).then(function(t){e.entity_list=t.data.inboundentity_list});var t="api/employee/Employee";c.get(t).then(function(t){e.employee_list=t.data.employee_list});var t="api/Marketing/GetMarketingSourceofContact";c.get(t).then(function(t){e.sourceofcontact_list=t.data.MarketingSourceofContact_list});var t="api/Marketing/GetMarketingCallReceivedNumber";c.get(t).then(function(t){e.callreceivednumber_list=t.data.MarketingCallReceivedNumber_list});var t="api/Marketing/GetMarketingCallType";c.get(t).then(function(t){e.calltype_list=t.data.MarketingCallType_list});var t="api/Marketing/GetMarketingTelecallingFunction";c.get(t).then(function(t){e.telecallingfunction_list=t.data.MarketingTelecallingFunction_list});var t="api/Marketing/GetLeadRequestType";c.get(t).then(function(t){e.leadrequesttype_list=t.data.leadrequest_list})}function f(){var t="api/Marketing/GetMarketingCallAddressList";c.get(t).then(function(t){e.ibcalladdress_list=t.data.MarketingCalladdress_list})}function k(){var t="api/Marketing/GetMarketingCallMobileNoList";c.get(t).then(function(t){e.ibcallmobileno_list=t.data.MarketingCallmobileno_list})}function y(){var t="api/Marketing/GetMarketingCallEmailList";c.get(t).then(function(t){e.ibcallemail_list=t.data.MarketingCallemail_list})}function M(){var t="api/Marketing/GetMarketingCallFollowUpList";c.get(t).then(function(t){e.ibcallfollowup_list=t.data.MarketingCallfollowup_list})}var b=this;b.title="MstMarketingAddController",_(),e.changefunctionstatus=function(t){"Others"==$("#function :selected").text()?e.function_show=!0:e.function_show=!1},e.back=function(){u.url("app/MstMarketingSummary")},e.auditname_change=function(t){var a={employee_gid:e.cboassignemployee},n="api/Marketing/GetBaselocation";c.getparams(n,a).then(function(t){e.employee_gid=t.data.employee_gid,e.txtbase_location=t.data.baselocation_name})},e.save=function(){var t="",a="",n="",l="",o="",i="",r="",d="",m="",p="",g="",_="",f="",k="";void 0==e.cboentity&&null==e.cboentity||(t=$("#entity :selected").text(),a=e.cboentity),void 0==e.cbosourceofcontact&&null==e.cbosourceofcontact||(n=$("#sourceofcontact :selected").text(),l=e.cbosourceofcontact),void 0==e.cbocallreceivednumber&&null==e.cbocallreceivednumber||(o=$("#callreceivednumber :selected").text(),i=e.cbocallreceivednumber),void 0==e.cboleadrequesttype&&null==e.cboleadrequesttype||(lsleadrequesttype_name=$("#leadrequesttype :selected").text(),lsleadrequesttype_gid=e.cboleadrequesttype),void 0==e.cbointernalreference&&null==e.cbointernalreference||(r=$("#internalreference :selected").text(),d=e.cbointernalreference),void 0==e.cbocalltype&&null==e.cbocalltype||(m=$("#call_type :selected").text(),p=e.cbocalltype),void 0==e.cbofunction&&null==e.cbofunction||(g=$("#function :selected").text(),_=e.cbofunction),void 0==e.cboassignemployee&&null==e.cboassignemployee||(f=$("#assignemployee :selected").text(),k=e.cboassignemployee);var y={entity_name:e.lsentity_name,entity_gid:a,marketingsourceofcontact_name:n,marketingsourceofcontact_gid:l,leadrequesttype_name:lsleadrequesttype_name,leadrequesttype_gid:lsleadrequesttype_gid,marketingcallreceivednumber_name:o,marketingcallreceivednumber_gid:i,customer_type:e.cbocustomertype,callreceived_date:e.txtcallreceived_date,callreceived_time:e.txtcallreceived_time,caller_name:e.txtcaller_name,internalreference_name:r,internalreference_gid:d,callerassociate_company:e.txtcallerassociate_company,office_landlineno:e.txtoffice_landlineno,marketingcalltype_name:m,marketingcalltype_gid:p,marketingfunction_name:g,marketingfunction_gid:_,function_remarks:e.txtfunction_remarks,requirement:e.txtrequirement,enquiry_description:e.txtenquiry_description,callclosure_status:e.cbocallclosure_status,assignemployee_name:f,assignemployee_gid:k,baselocation_name:e.txtbase_location,tat_hours:e.txttat_hours,tagemployee_list:e.cbotagemployee,assignclosure_remarks:e.txtassignclosure_remarks},M="api/Marketing/MarketingCallSave";lockUI(),c.post(M,y).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),u.url("app/MstMarketingSummary")):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.submit=function(){var t="",a="",n="",l="",o="",i="",r="",d="",m="",p="",g="",_="",f="",k="",y="",M="";if(void 0==e.cboentity&&null==e.cboentity||(t=$("#entity :selected").text(),a=e.cboentity),void 0==e.cbosourceofcontact&&null==e.cbosourceofcontact||(n=$("#sourceofcontact :selected").text(),l=e.cbosourceofcontact),void 0==e.cbocallreceivednumber&&null==e.cbocallreceivednumber||(r=$("#callreceivednumber :selected").text(),d=e.cbocallreceivednumber),void 0==e.cboleadrequesttype&&null==e.cboleadrequesttype||(o=$("#leadrequesttype :selected").text(),i=e.cboleadrequesttype),void 0==e.cbointernalreference&&null==e.cbointernalreference||(m=$("#internalreference :selected").text(),p=e.cbointernalreference),void 0!=e.cbointernalreference&&null!=e.cbointernalreference||(m="NA",p="gid"),void 0==e.cbocalltype&&null==e.cbocalltype||(g=$("#call_type :selected").text(),_=e.cbocalltype),void 0==e.cbofunction&&null==e.cbofunction||(f=$("#function :selected").text(),k=e.cbofunction),void 0==e.cboassignemployee&&null==e.cboassignemployee||(y=$("#assignemployee :selected").text(),M=e.cboassignemployee),"Assign"!=e.cbocallclosure_status||null!=e.cboassignemployee&&""!=e.cboassignemployee)if(""!=e.txtclosure_remarks&&null!=e.txtclosure_remarks||""!=e.txtassignclosure_remarks&&null!=e.txtassignclosure_remarks){var b={entity_name:t,entity_gid:a,marketingsourceofcontact_name:n,marketingsourceofcontact_gid:l,marketingcallreceivednumber_name:r,marketingcallreceivednumber_gid:d,leadrequesttype_name:o,leadrequesttype_gid:i,customer_type:e.cbocustomertype,callreceived_date:e.txtcallreceived_date,callreceived_time:e.txtcallreceived_time,caller_name:e.txtcaller_name,internalreference_name:m,internalreference_gid:p,callerassociate_company:e.txtcallerassociate_company,office_landlineno:e.txtoffice_landlineno,marketingcalltype_name:g,marketingcalltype_gid:_,marketingfunction_name:f,marketingfunction_gid:k,function_remarks:e.txtfunction_remarks,requirement:e.txtrequirement,enquiry_description:e.txtenquiry_description,callclosure_status:e.cbocallclosure_status,assignemployee_name:y,assignemployee_gid:M,baselocation_name:e.txtbase_location,tat_hours:e.txttat_hours,tagemployee_list:e.cbotagemployee,assignclosure_remarks:e.txtassignclosure_remarks,closed_remarks:e.txtclosure_remarks},w="api/Marketing/MarketingCallSubmit";lockUI(),c.post(w,b).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),u.url("app/MstMarketingSummary")):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}else s.alert("Kindly Enter Remark","warning");else s.alert("Kindly Select Assign Employee Name","warning")},e.address_add=function(){function t(t,e){t.geocodingFailed=!1;var a="api/AddressType/GetAddressTypeASC";c.get(a).then(function(e){t.addresstype_list=e.data.addresstype_list}),t.ok=function(){e.close("closed")},t.onchangepostal_code=function(){var e={postal_code:t.txtpostal_code},a="api/Mstbuyer/GetPostalCodeDetails";c.getparams(a,e).then(function(e){t.txtcity=e.data.city,t.txttaluka=e.data.taluka,t.txtdistrict=e.data.district,t.txtstate=e.data.state_name})},t.getGeoCoding=function(){if(void 0==t.txtpostal_code||t.txtpostal_code.length<6)t.txtlatitude="",t.txtlongitude="";else{if(void 0==t.txtaddressline2)var e="".concat(t.txtaddressline1.toString(),",",t.txtpostal_code.toString());else var e="".concat(t.txtaddressline1.toString(),",",t.txtaddressline2.toString(),",",t.txtpostal_code.toString());var a={address:e},n="api/GoogleMapsAPI/GetGeoCoding";c.getparams(n,a).then(function(e){"OK"==e.data.status?(t.txtlatitude=e.data.results[0].geometry.location.lat.toString(),t.txtlongitude=e.data.results[0].geometry.location.lng.toString(),t.geocodingFailed=!1):"ZERO_RESULTS"==e.data.status&&(t.geocodingFailed=!0)})}},t.txtcountry="India",t.addressSubmit=function(){var a={addresstype_gid:t.cboaddresstype.address_gid,addresstype_name:t.cboaddresstype.address_type,primary_status:t.rdbprimaryaddress,addressline1:t.txtaddressline1,addressline2:t.txtaddressline2,postal_code:t.txtpostal_code,landmark:t.txtLand_Mark,taluka:t.txttaluka,city:t.txtcity,state:t.txtstate,district:t.txtdistrict,country:t.txtcountry,latitude:t.txtlatitude,longitude:t.txtlongitude},n="api/Marketing/PostMarketingCallAddress";lockUI(),c.post(n,a).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),f()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})}),e.close("closed")}}a.open({templateUrl:"/addaddress.html",controller:t,backdrop:"static",keyboard:!1,size:"lg"});t.$inject=["$scope","$modalInstance"]},e.address_delete=function(t){var e={Marketingcall2address_gid:t},a="api/Marketing/MarketingCallAddressDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),f()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.StaticMapAndPhotos_View=function(t,e,n,l,o){function i(a,i){var r={latitude:t,longitude:e},s="api/GoogleMapsAPI/GetStaticMapUrl";if(c.getparams(s,r).then(function(t){a.staticmapImgUrl=t.data}),""==l)var u="".concat(n.toString(),",",o.toString());else var u="".concat(n.toString(),",",l.toString(),",",o.toString());var r={address:u},s="api/GoogleMapsAPI/GetPlaceImage";c.getparams(s,r).then(function(t){for(var e=[],n=0;n<t.data.length;n++)null!=t.data[n]&&(e[n]=t.data[n]);0==e.length?a.photoNotFound=!0:(a.photoUrlList=e,a.photoFound=!0)}),a.ok=function(){i.close("closed")}}a.open({templateUrl:"/StaticMapAndPhotosView.html",controller:i,backdrop:"static",keyboard:!1,size:"lg"});i.$inject=["$scope","$modalInstance"]},e.add_mobileno=function(){if(void 0==e.txtmobile_no||""==e.txtmobile_no||void 0==e.rdbprimary_status||void 0==e.rdbwhatsapp_status||void 0==e.rdbsms_to||""==e.rdbprimary_status||""==e.rdbwhatsapp_status||""==e.rdbsms_to)s.alert("Enter Mobile Number / Select Primary Status","warning");else if(e.txtmobile_no.length<10)s.alert("Enter 10 Digit Mobile Number","warning");else{var t={mobile_no:e.txtmobile_no,primary_status:e.rdbprimary_status,whatsapp_status:e.rdbwhatsapp_status,sms_to:e.rdbsms_to},a="api/Marketing/PostMarketingCallMobileNo";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),e.txtmobile_no="",e.rdbprimary_status="",0==e.rdbprimary_status,e.rdbsms_to="",0==e.rdbsms_to,e.rdbwhatsapp_status="",0==e.rdbwhatsapp_status,k()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}},e.delete_mobileno=function(t){var e={marketingcall2mobileno_gid:t},a="api/Marketing/MarketingCallMobileNoDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),k()})},e.add_emailaddress=function(){if(void 0==e.txtemail_address||""==e.txtemail_address||void 0==e.rdbprimary_email||""==e.rdbprimary_email)s.alert("Enter Email Address/Select Status","warning");else{var t={email_address:e.txtemail_address,primary_status:e.rdbprimary_email},a="api/Marketing/PostMarketingCallEmail";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),y(),e.txtemail_address="",e.rdbprimary_email="",0==e.rdbprimary_email):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}},e.delete_emailaddress=function(t){var e={marketingcall2email_gid:t},a="api/Marketing/MarketingCallEmailDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),y()})},e.add_followup=function(){if(void 0==e.txtfollowup_date||""==e.txtfollowup_date||void 0==e.txtfollowup_time||""==e.txtfollowup_time)s.alert("Enter Follow Up Date/Follow Up Time","warning");else{var t={followup_date:e.txtfollowup_date,followup_time:e.txtfollowup_time},a="api/Marketing/PostMarketingCallFollowUp";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txtfollowup_date="",M(),e.txtfollowup_time=""})}},e.delete_followup=function(t){var e={marketingcall2followup_gid:t},a="api/Marketing/MarketingCallFollowUpDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),M()})}}angular.module("angle").controller("MstMarketingAddController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g,_){function f(){w.calender1=function(t){t.preventDefault(),t.stopPropagation(),w.open1=!0},w.formats=["dd-MM-yyyy"],w.format=w.formats[0],w.dateOptions={formatYear:"yy",startingDay:1};var t={marketingcall_gid:h},a="api/Marketing/GetMarketingCallAssignedView";c.getparams(a,t).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.txtentity_name=t.data.entity_name,e.txtsourceofcontact_name=t.data.sourceofcontact_name,e.txtcallreceivednumber_name=t.data.callreceivednumber_name,e.txtcustomer_type=t.data.leadrequesttype_name,e.txtcallreceived_date=t.data.callreceived_date,e.txtcaller_name=t.data.caller_name,e.txtinternalreference_name=t.data.internalreference_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtcalltype_name=t.data.calltype_name,e.txtfunction_name=t.data.function_name,e.txtfunction_remarks=t.data.function_remarks,e.txttat_hours=t.data.tat_hours,e.txtrequirement=t.data.requirement,e.txtenquiry_description=t.data.enquiry_description,e.txtcallclosure_status=t.data.callclosure_status,e.txtassignemployee_name=t.data.assignemployee_name,e.txtassign_date=t.data.assign_date,e.txttagemployee_name=t.data.tagemployee_name,e.txtbase_location=t.data.baselocation_name,e.origination=t.data.origination,e.txtassignclosure_remarks=t.data.assignclosure_remarks,e.ibcalladdress_list=t.data.MarketingCalladdress_list,e.ibcallfollowup_list=t.data.MarketingCallfollowup_list,e.ibcalltaggedmember_list=t.data.MarketingCalltaggedmember_list,e.ibcallmobileno_list=t.data.MarketingCallmobileno_list,e.txtprimary_email=t.data.primary_email,e.ibcallemail_list=t.data.MarketingCallemail_list,e.txtacknowledge_date=t.data.acknowledge_date,e.txtleadrequire_name=t.data.leadrequire_name,e.txtmilletrequire_name=t.data.milletrequire_name,e.txtenquiryrequire_name=t.data.enquiryrequire_name,e.txtstartuprequire_name=t.data.startuprequire_name,e.txtbusiness_name=t.data.business_name,e.txtindustry_name=t.data.industry_name,unlockUI()}),b(),e.minDate=new Date;var a="api/Marketing/MarketingCallRecordingDocumentList";c.getparams(a,t).then(function(t){e.Uploadcallrecordingdocument_list=t.data.callproofupload_list});var a="api/Marketing/MarketingCallProofDocumentList";c.getparams(a,t).then(function(t){e.Uploadcallproofdocument_list=t.data.callproofupload_list});var a="api/Marketing/GetDocumentList";c.getparams(a,t).then(function(t){e.lefilename=t.data.filename,e.lefilepath=t.data.filepath,e.document_list=t.data.document_list});var a="api/Marketing/MarketingCallDocTempClear";c.get(a).then(function(){});var a="api/Marketing/GetEntity";c.get(a).then(function(t){e.entity_list=t.data.inboundentity_list});var a="api/Marketing/GetLoanProduct";lockUI(),c.get(a).then(function(t){e.samfinloanproduct_data=t.data.samapplication_list,unlockUI()});var a="api/Marketing/GetLoanSubProduct";lockUI(),c.get(a).then(function(t){e.samfinloansubproduct_list=t.data.samapplication_list,unlockUI()});var a="api/Marketing/GetAgrLoanProduct";lockUI(),c.get(a).then(function(t){e.loanproduct_data=t.data.samapplication_list,unlockUI()});var a="api/Marketing/GetAgrLoanSubProduct";lockUI(),c.get(a).then(function(t){e.loansubproduct_list=t.data.samapplication_list,unlockUI()});var a="api/Marketing/GetMilletDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.milletdocument_list=t.data.milletdocument_list});var a="api/Marketing/GetEnquiryDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.enquirydocument_list=t.data.enquirydocument_list}),k(),b()}function k(){var t={marketingcall_gid:h},a="api/Marketing/GetMarketingCallLeadstatusList";c.getparams(a,t).then(function(t){e.ibcallleadstatus_list=t.data.MarketingCallLeadstatus_list})}function y(){var t={marketingcall_gid:h},a="api/Marketing/MarketingCallRecordingDocumentTmpList";c.getparams(a,t).then(function(t){e.Uploadcallrecordingdocument_list=t.data.callproofupload_list})}function M(){var t={marketingcall_gid:h},a="api/Marketing/MarketingCallProofDocumentTmpList";c.getparams(a,t).then(function(t){e.lsfilename=t.data.filename,e.lsfilepath=t.data.filepath,e.Uploadcallproofdocument_list=t.data.callproofupload_list})}function b(){var t={marketingcall_gid:h},a="api/Marketing/GetMarketingCallMyFollowUpList";lockUI(),c.getparams(a,t).then(function(t){unlockUI(),e.ibcallfollowup_list=t.data.MarketingCallfollowup_list})}var w=this;w.title="MstMarketingAssignedCallsController";var v=_.decryptURL(u.search().hash),h=v.marketingcall_gid;f(),lockUI(),e.download_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.download_allenquiry=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.download_allmillet=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.milletdocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.enquirydocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.documentviewer=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewerupload=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewermillet=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewerenquiry=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.changeentitiy=function(t){for(var a=0;a<e.entity_list.length;a++)t==e.entity_list[a].entity_gid&&(e.entityselect=e.entity_list[a].entity_name)},e.Back=function(){u.url("app/MstMarketingWorkInprogressCallSummary")},e.document_downloads=function(t,e){g.Downloaddocument(t,e)},e.downloads_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.add_leadstatus=function(){var t="",a="";t=$("#entity :selected").text(),a=e.cboentity;var n=t;if("SAMFIN"==n){var l="",o="",i="",r="";if(l=$("#saloanproductname :selected").text(),o=e.cboloanproduct,i=$("#saloansubproductname :selected").text(),r=e.cboloansubproduct,"SAMFIN"!=n&&"SAMAGRO"!=n||""!=e.cboloansubproduct&&null!=e.cboloansubproduct&&""!=e.cboloanproduct&&null!=e.cboloanproduct&&""!=e.txt_amount&&null!=e.txt_amount){var u={marketingcall_gid:h,lead_type:t,closure_status:e.cboclosurestatus,ticket_refid:e.txtticket_refid,loanproduct_name:l,loanproduct_gid:o,loansubproduct_name:i,loansubproduct_gid:r,loan_amount:e.txt_amount},d="api/Marketing/PostMarketingCallLeadstatus";lockUI(),c.post(d,u).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),k()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txt_amount="",e.cboloansubproduct="",e.cboloanproduct=""})}else s.alert("Kindly Fill Converted Details","warning")}else{var l="",o="",i="",r="";if(l=$("#loanproductname :selected").text(),o=e.cboloanproduct,i=$("#loansubproductname :selected").text(),r=e.cboloansubproduct,"SAMFIN"!=n&&"SAMAGRO"!=n||""!=e.cboloansubproduct&&null!=e.cboloansubproduct&&""!=e.cboloanproduct&&null!=e.cboloanproduct&&""!=e.txt_amount&&null!=e.txt_amount){var u={marketingcall_gid:h,lead_type:t,closure_status:e.cboclosurestatus,ticket_refid:e.txtticket_refid,loanproduct_name:l,loanproduct_gid:o,loansubproduct_name:i,loansubproduct_gid:r,loan_amount:e.txt_amount},d="api/Marketing/PostMarketingCallLeadstatus";lockUI(),c.post(d,u).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),k()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txt_amount="",e.cboloansubproduct="",e.cboloanproduct=""})}else s.alert("Kindly Fill Converted Details","warning")}},e.delete_leadstatus=function(t){var e={marketingcall2leadstatus_gid:t},a="api/Marketing/MarketingCallLeadstatusDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),k()})},e.changeclosurestatus=function(t){"Closed"==t?e.followup_show=!0:e.followup_show=!1,"Converted"==t?e.completed_show=!0:e.completed_show=!1},e.Submit=function(){if("Rejected"!=e.cboclosurestatus||""!=e.cboclosed&&null!=e.cboclosed){var t={marketingcall_gid:h,followup_date:e.txtfollowup_date,followup_time:e.txtfollowup_time,closed:e.cboclosed,closure_status:e.cboclosurestatus,followup_remarks:e.txtfollowup_remarks},a="api/Marketing/PostCompletedCall";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),u.url("app/MstMarketingWorkInprogressCallSummary")):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}else s.alert("Kindly Fill Closed","warning")},e.uploadcall_recording=function(t,a,n){for(var l=new FormData,o=0;o<t.length;o++){var i={name:t[o].name,file:t[o]};l.append("fileupload",i.file),l.append("file_name",i.name)}l.append("document_title",e.txtdocument_title),l.append("project_flag","BD"),e.uploadfrm=l},e.uploadcallrecording_doc=function(){if(void 0!=e.uploadfrm){lockUI();var t="api/Marketing/CallRecordingDocumentUpload";c.postFile(t,e.uploadfrm).then(function(t){$("#file").val(""),e.txtdocument_title="",e.uploadfrm=void 0,1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),y(),unlockUI()})}else s.alert("Please select a file.","warning");e.txtdocument_title=""},e.rec_cancel=function(t){var e={MarketingCallrecordingocupload_gid:t};o.swal({title:"Are you sure?",text:"Do You Want To Delete the Photo ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){lockUI();var a="api/Marketing/MarketingCallRecordingDocumentDelete";c.getparams(a,e).then(function(t){1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),y(),unlockUI()}),o.swal("Deleted Successfully!")}})},e.rec_downloads=function(t,e){g.Downloaddocument(t,e)},e.proofdocument_upload=function(t,a,n){var l=_.fnCheckValidDocType(t[0].name,"BD");if(0==l)return $("#fileupload").val(""),s.alert("File format is not supported..!",{status:"danger",pos:"top-center",timeout:3e3}),!1;for(var o=new FormData,i=0;i<t.length;i++){var r={name:t[i].name,file:t[i]};o.append("fileupload",r.file),o.append("file_name",r.name)}o.append("document_title",e.txtdocumentcallproof_title),o.append("marketingcall_gid",h),o.append("project_flag","BD"),e.uploadfrm=o},e.uploadcallproof_doc=function(){if(void 0!=e.uploadfrm){lockUI();var t="api/Marketing/CallProofDocumentUpload";c.postFile(t,e.uploadfrm).then(function(t){$("#fileupload").val(""),e.txtdocumentcallproof_title="",e.uploadfrm=void 0,1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),M(),unlockUI()})}else s.alert("Please select a file.","warning");e.txtdocumentcallproof_title=""},e.recproof_cancel=function(t){var e={MarketingCallproofdocupload_gid:t};o.swal({title:"Are you sure?",text:"Do You Want To Delete the Photo ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){lockUI();var a="api/Marketing/MarketingCallProofDocumentDelete";c.getparams(a,e).then(function(t){1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),M(),unlockUI()}),o.swal("Deleted Successfully!")}})},e.credit_amountChange=function(){var t=document.getElementById("credit_amount").value,a=t.replace(/,/g,""),n=Number(a).toLocaleString("en-IN"),l=_.fnConvertNumbertoWord(a);"NaN"==n?(s.alert("Accept Number Format Only..!",{status:"danger",pos:"top-center",timeout:3e3}),e.txt_amount=""):(e.txt_amount=n,document.getElementById("words_creditamt").innerHTML=l)},e.limit_amountChange=function(){var t=document.getElementById("limit_amount").value,a=t.replace(/,/g,""),n=Number(a).toLocaleString("en-IN"),l=_.fnConvertNumbertoWord(a);"NaN"==n?(s.alert("Accept Number Format Only..!",{status:"danger",pos:"top-center",timeout:3e3}),e.txt_amount=""):(e.txt_amount=n,document.getElementById("words_limitamt").innerHTML=l)},e.recproof_downloads=function(t,e){g.Downloaddocument(t,e)},e.add_followup=function(){if(void 0==e.txtfollowup_date||""==e.txtfollowup_date||void 0==e.txtfollowup_time||""==e.txtfollowup_time)s.alert("Enter Follow Up Date/Follow Up Time","warning");else{var t={marketingcall_gid:h,followup_date:e.txtfollowup_date,followup_time:e.txtfollowup_time,followup_status:e.cbofollowup,followup_remarks:e.cboremarks},a="api/Marketing/PostMarketingCallFollowUpMg";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),b()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txtfollowup_date="",e.cbofollowup="",e.cboremarks="",b(),e.txtfollowup_time=""})}},e.delete_followup=function(t){var e={marketingcall2followup_gid:t},a="api/Marketing/MarketingCallFollowUpDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),b()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),b()})},e.edit_followup=function(t){function e(e,a){var n={marketingcall2followup_gid:t},l="api/Marketing/EditMarketingCallFollowUp";c.getparams(l,n).then(function(t){e.txteditfollowup_date=new Date(t.data.followup_date),e.cboeditfollowup=t.data.followup_status,e.cboremarks=t.data.followup_remarks,"0001-01-01T00:00:00"==t.data.Tfollowup_time?e.txteditfollowup_time="":e.txteditfollowup_time=new Date(t.data.Tfollowup_time),b()}),e.editfollowup_change=function(t){"Hot"==t?e.cboremarks="Hot:will be closed in 1 month":"Warm"==t?e.cboremarks="Warm:will be closed in 3 month":"Cold"==t?e.cboremarks="Cold: will be closed in 6 month":"Others"==t?e.cboremarks="Unqualified":e.cboremarks=""},e.ok=function(){a.close("closed")},e.update_followup=function(){var n={followup_date:e.txteditfollowup_date,followup_time:e.txteditfollowup_time,followup_status:e.cboeditfollowup,followup_remarks:e.cboremarks,marketingcall2followup_gid:t,marketingcall_gid:e.marketingcall_gid},l="api/Marketing/UpdateMarketingCallFollowUp";lockUI(),c.post(l,n).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),b()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),b()}),a.close("closed")}}a.open({templateUrl:"/editinboundcallfollowup.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"],b()},e.followup_change=function(t){"Hot"==t?e.cboremarks="Hot:will be closed in 1 month":"Warm"==t?e.cboremarks="Warm:will be closed in 3 month":"Cold"==t?e.cboremarks="Cold: will be closed in 6 month":"Others"==t?e.cboremarks="Unqualified":e.cboremarks=""}}angular.module("angle").controller("MstMarketingAssignedCallsController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g,_){function f(){y.calender1=function(t){t.preventDefault(),t.stopPropagation(),y.open1=!0},y.formats=["dd-MM-yyyy"],y.format=y.formats[0],y.dateOptions={formatYear:"yy",startingDay:1},"TransferCall"==w?(e.transfershow=!0,e.followupshow=!1,e.completedshow=!1):"FollowUpCall"==w?(e.followupshow=!0,e.transfershow=!1,e.completedshow=!1):"CompletedCall"==w&&(e.completedshow=!0,e.transfershow=!1,e.followupshow=!1);var t={marketingcall_gid:b
},a="api/Marketing/GetMarketingCallAssignedView";c.getparams(a,t).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.txtentity_name=t.data.entity_name,e.txtsourceofcontact_name=t.data.sourceofcontact_name,e.txtcallreceivednumber_name=t.data.callreceivednumber_name,e.txtcustomer_type=t.data.leadrequesttype_name,e.txtcallreceived_date=t.data.callreceived_date,e.txtcaller_name=t.data.caller_name,e.txtinternalreference_name=t.data.internalreference_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtcalltype_name=t.data.calltype_name,e.txtfunction_name=t.data.function_name,e.txtfunction_remarks=t.data.function_remarks,e.txttat_hours=t.data.tat_hours,e.txtrequirement=t.data.requirement,e.txtenquiry_description=t.data.enquiry_description,e.txtcallclosure_status=t.data.callclosure_status,e.txtassignemployee_name=t.data.assignemployee_name,e.txtassign_date=t.data.assign_date,e.txttagemployee_name=t.data.tagemployee_name,e.txtassignclosure_remarks=t.data.assignclosure_remarks,e.ibcalladdress_list=t.data.MarketingCalladdress_list,e.ibcallfollowup_list=t.data.MarketingCallfollowup_list,e.ibcalltransfer_list=t.data.MarketingCalltransfer_list,e.ibcalltaggedmember_list=t.data.MarketingCalltaggedmember_list,e.txtcompleted_by=t.data.completed_by,e.txtcompleted_date=t.data.completed_date,e.txtcompleted_remarks=t.data.completed_remarks,e.txtfollowup_date=t.data.followup_date,e.txtfollowup_time=t.data.followup_time,e.txtfollowup_by=t.data.followup_by,e.txtfollowup_remarks=t.data.followup_remarks,e.txtrejected_date=t.data.rejected_date,e.txtrejected_by=t.data.rejected_by,e.txtrejected_remarks=t.data.rejected_remarks,e.txtloanproduct_name=t.data.loanproduct_name,e.txtloansubproduct_name=t.data.loansubproduct_name,e.txtloan_amount=t.data.loan_amount,e.txtbase_location=t.data.baselocation_name,e.origination=t.data.origination,e.ibcallmobileno_list=t.data.MarketingCallmobileno_list,e.txtprimary_email=t.data.primary_email,e.ibcallemail_list=t.data.MarketingCallemail_list,e.txtleadrequire_name=t.data.leadrequire_name,e.txtmilletrequire_name=t.data.milletrequire_name,e.txtenquiryrequire_name=t.data.enquiryrequire_name,e.txtstartuprequire_name=t.data.startuprequire_name,e.txtbusiness_name=t.data.business_name,e.txtindustry_name=t.data.industry_name,unlockUI()});var a="api/Marketing/MarketingCallProofDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.lsfilename=t.data.filename,e.lsfilepath=t.data.filepath,e.Uploadcallproofdocument_list=t.data.callproofupload_list,unlockUI()});var a="api/Marketing/MarketingCallRecordingDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.Uploadcallrecordingdocument_list=t.data.callproofupload_list,unlockUI()});var a="api/Marketing/GetMarketingCallLeadstatusList";lockUI(),c.getparams(a,t).then(function(t){e.MarketingCallLeadstatus_list=t.data.MarketingCallLeadstatus_list,unlockUI()});var a="api/Marketing/GetDocumentList";c.getparams(a,t).then(function(t){e.lefilename=t.data.filename,e.lefilepath=t.data.filepath,e.document_list=t.data.document_list});var a="api/Marketing/GetMilletDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.milletdocument_list=t.data.milletdocument_list});var a="api/Marketing/GetEnquiryDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.enquirydocument_list=t.data.enquirydocument_list})}function k(){var t={marketingcall_gid:b},a="api/Marketing/GetMarketingCallLeadstatusList";c.getparams(a,t).then(function(t){e.ibcallleadstatus_list=t.data.MarketingCallLeadstatus_list})}var y=this;y.title="MstMarketingAssignedCallViewController";var M=_.decryptURL(u.search().hash),b=M.marketingcall_gid;e.lspage=M.lspage;var w=e.lspage;e.transfershow=!1,e.followupshow=!1,e.completedshow=!1,lockUI(),f(),e.document_downloads=function(t,e){g.Downloaddocument(t,e)},e.downloads_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.download_allmillet=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.milletdocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_allenquiry=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.enquirydocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.documentviewerenquiry=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewer=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewermillet=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewerupload=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.rec_downloads=function(t,e){g.Downloaddocument(t,e)},e.recproof_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.add_leadstatus=function(){var t="",a="";t=$("#entity :selected").text(),a=e.cboentity;var n=t;if("SAMFIN"==n){var l="",o="",i="",r="";if(l=$("#saloanproductname :selected").text(),o=e.cboloanproduct,i=$("#saloansubproductname :selected").text(),r=e.cboloansubproduct,"SAMFIN"!=n&&"SAMAGRO"!=n||""!=e.cboloansubproduct&&null!=e.cboloansubproduct&&""!=e.cboloanproduct&&null!=e.cboloanproduct&&""!=e.txt_amount&&null!=e.txt_amount){var u={marketingcall_gid:b,lead_type:t,closure_status:e.cboclosurestatus,ticket_refid:e.txtticket_refid,loanproduct_name:l,loanproduct_gid:o,loansubproduct_name:i,loansubproduct_gid:r,loan_amount:e.txt_amount},d="api/Marketing/PostMarketingCallLeadstatus";lockUI(),c.post(d,u).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),k()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txt_amount="",e.cboloansubproduct="",e.cboloanproduct=""})}else s.alert("Kindly Fill Converted Details","warning")}else{var l="",o="",i="",r="";if(l=$("#loanproductname :selected").text(),o=e.cboloanproduct,i=$("#loansubproductname :selected").text(),r=e.cboloansubproduct,"SAMFIN"!=n&&"SAMAGRO"!=n||""!=e.cboloansubproduct&&null!=e.cboloansubproduct&&""!=e.cboloanproduct&&null!=e.cboloanproduct&&""!=e.txt_amount&&null!=e.txt_amount){var u={marketingcall_gid:b,lead_type:t,closure_status:e.cboclosurestatus,ticket_refid:e.txtticket_refid,loanproduct_name:l,loanproduct_gid:o,loansubproduct_name:i,loansubproduct_gid:r,loan_amount:e.txt_amount},d="api/Marketing/PostMarketingCallLeadstatus";lockUI(),c.post(d,u).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),k()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txt_amount="",e.cboloansubproduct="",e.cboloanproduct=""})}else s.alert("Kindly Fill Converted Details","warning")}},e.delete_leadstatus=function(t){var e={marketingcall2leadstatus_gid:t},a="api/Marketing/MarketingCallLeadstatusDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),k()})},e.changeclosurestatus=function(t){"Closed"==t?e.followup_show=!0:e.followup_show=!1,"Converted"==t?e.completed_show=!0:e.completed_show=!1},e.Back=function(){"TransferCall"==w?u.url("app/MstMarketingTransferCallSummary"):"FollowUpCall"==w?n.go("app.MstMarketingFollowUpCallSummary"):"CompletedCall"==w&&n.go("app.MstMarketingCompletedCallSummary")}}angular.module("angle").controller("MstMarketingAssignedCallViewController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){M.calender1=function(t){t.preventDefault(),t.stopPropagation(),M.open1=!0},M.formats=["dd-MM-yyyy"],M.format=M.formats[0],M.dateOptions={formatYear:"yy",startingDay:1};var t={marketingcall_gid:b},a="api/Marketing/GetMarketingCallAssignedView";c.getparams(a,t).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.txtentity_name=t.data.entity_name,e.txtsourceofcontact_name=t.data.sourceofcontact_name,e.txtcallreceivednumber_name=t.data.callreceivednumber_name,e.txtcustomer_type=t.data.leadrequesttype_name,e.txtcallreceived_date=t.data.callreceived_date,e.txtcaller_name=t.data.caller_name,e.txtinternalreference_name=t.data.internalreference_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtcalltype_name=t.data.calltype_name,e.txtfunction_name=t.data.function_name,e.txtfunction_remarks=t.data.function_remarks,e.txttat_hours=t.data.tat_hours,e.txtrequirement=t.data.requirement,e.txtenquiry_description=t.data.enquiry_description,e.txtcallclosure_status=t.data.callclosure_status,e.txtassignemployee_name=t.data.assignemployee_name,e.txtassign_date=t.data.assign_date,e.txttagemployee_name=t.data.tagemployee_name,e.txtassignclosure_remarks=t.data.assignclosure_remarks,e.ibcalladdress_list=t.data.MarketingCalladdress_list,e.ibcallfollowup_list=t.data.MarketingCallfollowup_list,e.ibcalltransfer_list=t.data.MarketingCalltransfer_list,e.ibcalltaggedmember_list=t.data.MarketingCalltaggedmember_list,e.txtcompleted_by=t.data.completed_by,e.txtcompleted_date=t.data.completed_date,e.txtcompleted_remarks=t.data.completed_remarks,e.txtfollowup_date=t.data.followup_date,e.txtfollowup_time=t.data.followup_time,e.txtfollowup_by=t.data.followup_by,e.txtfollowup_remarks=t.data.followup_remarks,e.txtrejected_date=t.data.rejected_date,e.txtrejected_by=t.data.rejected_by,e.txtrejected_remarks=t.data.rejected_remarks,e.txtloanproduct_name=t.data.loanproduct_name,e.txtloansubproduct_name=t.data.loansubproduct_name,e.txtloan_amount=t.data.loan_amount,e.txtbase_location=t.data.baselocation_name,e.ibcallmobileno_list=t.data.MarketingCallmobileno_list,e.txtprimary_email=t.data.primary_email,e.ibcallemail_list=t.data.MarketingCallemail_list,unlockUI()});var a="api/Marketing/MarketingCallProofDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.lsfilename=t.data.filename,e.lsfilepath=t.data.filepath,e.Uploadcallproofdocument_list=t.data.callproofupload_list,unlockUI()});var a="api/Marketing/MarketingCallRecordingDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.Uploadcallrecordingdocument_list=t.data.callproofupload_list,unlockUI()});var a="api/Marketing/GetMarketingCallLeadstatusList";lockUI(),c.getparams(a,t).then(function(t){e.MarketingCallLeadstatus_list=t.data.MarketingCallLeadstatus_list,unlockUI()});var a="api/Marketing/GetEntity";c.get(a).then(function(t){e.entity_list=t.data.inboundentity_list});var a="api/Marketing/GetLoanProduct";lockUI(),c.get(a).then(function(t){e.samfinloanproduct_data=t.data.samapplication_list,unlockUI()});var a="api/Marketing/GetLoanSubProduct";lockUI(),c.get(a).then(function(t){e.samfinloansubproduct_list=t.data.samapplication_list,unlockUI()});var a="api/Marketing/GetAgrLoanProduct";lockUI(),c.get(a).then(function(t){e.loanproduct_data=t.data.samapplication_list,unlockUI()});var a="api/Marketing/GetAgrLoanSubProduct";lockUI(),c.get(a).then(function(t){e.loansubproduct_list=t.data.samapplication_list,unlockUI()}),f()}function f(){var t={marketingcall_gid:b},a="api/Marketing/GetMarketingCallLeadstatusList";c.getparams(a,t).then(function(t){e.ibcallleadstatus_list=t.data.MarketingCallLeadstatus_list})}function f(){var t={marketingcall_gid:b},a="api/Marketing/GetMarketingCallLeadstatusList";c.getparams(a,t).then(function(t){e.ibcallleadstatus_list=t.data.MarketingCallLeadstatus_list})}function k(t){var e=["","One ","Two ","Three ","Four ","Five ","Six ","Seven ","Eight ","Nine ","Ten ","Eleven ","Twelve ","Thirteen ","Fourteen ","Fifteen ","Sixteen ","Seventeen ","Eighteen ","Nineteen "],a=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],n=t.toString();if(n=n.replace(/[\, ]/g,""),n!=parseFloat(n))return"";if((t=t.toString()).length>9)return"Overflow";var l=("000000000"+t).substr(-9).match(/^(\d{2})(\d{2})(\d{2})(\d{1})(\d{2})$/);if(l){var o="";return o+=0!=l[1]?(e[Number(l[1])]||a[l[1][0]]+" "+e[l[1][1]])+"Crore ":"",o+=0!=l[2]?(e[Number(l[2])]||a[l[2][0]]+" "+e[l[2][1]])+"Lakh ":"",o+=0!=l[3]?(e[Number(l[3])]||a[l[3][0]]+" "+e[l[3][1]])+"Thousand ":"",o+=0!=l[4]?(e[Number(l[4])]||a[l[4][0]]+" "+e[l[4][1]])+"Hundred ":"",o+=0!=l[5]?(""!=o?"and ":"")+(e[Number(l[5])]||a[l[5][0]]+" "+e[l[5][1]])+"only ":""}}function y(){var t={marketingcall_gid:b},a="api/Marketing/GetMarketingCallMyFollowUpList";lockUI(),c.getparams(a,t).then(function(t){unlockUI(),e.ibcallfollowup_list=t.data.MarketingCallfollowup_list})}var M=this;M.title="MstMarketingAssignedFollowupLeadsController",e.marketingcall_gid=u.search().marketingcall_gid;var b=e.marketingcall_gid;e.lspage=u.search().lspage;var w=e.lspage;e.transfershow=!1,e.followupshow=!1,e.completedshow=!1,lockUI(),_(),e.add_leadstatus=function(){var t="",a="";t=$("#entity :selected").text(),a=e.cboentity;var n=t;if("SAMFIN"==n){var l="",o="",i="",r="";if(l=$("#saloanproductname :selected").text(),o=e.cboloanproduct,i=$("#saloansubproductname :selected").text(),r=e.cboloansubproduct,"SAMFIN"!=n&&"SAMAGRO"!=n||""!=e.cboloansubproduct&&null!=e.cboloansubproduct&&""!=e.cboloanproduct&&null!=e.cboloanproduct&&""!=e.txt_amount&&null!=e.txt_amount){var u={marketingcall_gid:b,lead_type:t,closure_status:e.cboclosurestatus,ticket_refid:e.txtticket_refid,loanproduct_name:l,loanproduct_gid:o,loansubproduct_name:i,loansubproduct_gid:r,loan_amount:e.txt_amount},d="api/Marketing/PostMarketingCallLeadstatus";lockUI(),c.post(d,u).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),f()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txt_amount="",e.cboloansubproduct="",e.cboloanproduct=""})}else s.alert("Kindly Fill Converted Details","warning")}else{var l="",o="",i="",r="";if(l=$("#loanproductname :selected").text(),o=e.cboloanproduct,i=$("#loansubproductname :selected").text(),r=e.cboloansubproduct,"SAMFIN"!=n&&"SAMAGRO"!=n||""!=e.cboloansubproduct&&null!=e.cboloansubproduct&&""!=e.cboloanproduct&&null!=e.cboloanproduct&&""!=e.txt_amount&&null!=e.txt_amount){var u={marketingcall_gid:b,lead_type:t,closure_status:e.cboclosurestatus,ticket_refid:e.txtticket_refid,loanproduct_name:l,loanproduct_gid:o,loansubproduct_name:i,loansubproduct_gid:r,loan_amount:e.txt_amount},d="api/Marketing/PostMarketingCallLeadstatus";lockUI(),c.post(d,u).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),f()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txt_amount="",e.cboloansubproduct="",e.cboloanproduct=""})}else s.alert("Kindly Fill Converted Details","warning")}},e.delete_leadstatus=function(t){var e={marketingcall2leadstatus_gid:t},a="api/Marketing/MarketingCallLeadstatusDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),f()})},e.changeentitiy=function(t){for(var a=0;a<e.entity_list.length;a++)t==e.entity_list[a].entity_gid&&(e.entityselect=e.entity_list[a].entity_name)},e.Back=function(){u.url("app/MstMarketingFollowUpCallSummary")},e.FollowupSubmit=function(){if("Closed"!=e.cboclosurestatus||""!=e.cboclosed&&null!=e.cboclosed){var t={marketingcall_gid:b,followup_date:e.txtfollowup_date,followup_time:e.txtfollowup_time,closed:e.cboclosed,closure_status:e.cboclosurestatus,followup_remarks:e.txtfollowup_remarks},a="api/Marketing/PostCompletedCall";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),u.url("app/MstMarketingFollowUpCallSummary")):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}else s.alert("Kindly Fill Closed","warning")},e.rec_downloads=function(t,e){g.Downloaddocument(t,e)},e.recproof_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.add_leadstatus=function(){var t="",a="";t=$("#entity :selected").text(),a=e.cboentity;var n=t;if("SAMFIN"==n){var l="",o="",i="",r="";if(l=$("#saloanproductname :selected").text(),o=e.cboloanproduct,i=$("#saloansubproductname :selected").text(),r=e.cboloansubproduct,"SAMFIN"!=n&&"SAMAGRO"!=n||""!=e.cboloansubproduct&&null!=e.cboloansubproduct&&""!=e.cboloanproduct&&null!=e.cboloanproduct&&""!=e.txt_amount&&null!=e.txt_amount){var u={marketingcall_gid:b,lead_type:t,closure_status:e.cboclosurestatus,ticket_refid:e.txtticket_refid,loanproduct_name:l,loanproduct_gid:o,loansubproduct_name:i,loansubproduct_gid:r,loan_amount:e.txt_amount},d="api/Marketing/PostMarketingCallLeadstatus";lockUI(),c.post(d,u).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),f()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txt_amount="",e.cboloansubproduct="",e.cboloanproduct=""})}else s.alert("Kindly Fill Converted Details","warning")}else{var l="",o="",i="",r="";if(l=$("#loanproductname :selected").text(),o=e.cboloanproduct,i=$("#loansubproductname :selected").text(),r=e.cboloansubproduct,"SAMFIN"!=n&&"SAMAGRO"!=n||""!=e.cboloansubproduct&&null!=e.cboloansubproduct&&""!=e.cboloanproduct&&null!=e.cboloanproduct&&""!=e.txt_amount&&null!=e.txt_amount){var u={marketingcall_gid:b,lead_type:t,closure_status:e.cboclosurestatus,ticket_refid:e.txtticket_refid,loanproduct_name:l,loanproduct_gid:o,loansubproduct_name:i,loansubproduct_gid:r,loan_amount:e.txt_amount},d="api/Marketing/PostMarketingCallLeadstatus";lockUI(),c.post(d,u).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),f()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txt_amount="",e.cboloansubproduct="",e.cboloanproduct=""})}else s.alert("Kindly Fill Converted Details","warning")}},e.delete_leadstatus=function(t){var e={marketingcall2leadstatus_gid:t},a="api/Marketing/MarketingCallLeadstatusDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),f()})},e.changeclosurestatus=function(t){"Closed"==t?e.followup_show=!0:e.followup_show=!1,"Converted"==t?e.completed_show=!0:e.completed_show=!1},e.Submit=function(){if("Closed"!=e.cboclosurestatus||""!=e.cboclosed&&null!=e.cboclosed){var t={marketingcall_gid:b,followup_date:e.txtfollowup_date,followup_time:e.txtfollowup_time,closed:e.cboclosed,closure_status:e.cboclosurestatus,followup_remarks:e.txtfollowup_remarks},a="api/Marketing/PostFollowupLeadCall";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),u.url("app/MstMarketingWorkInprogressCallSummary")):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}else s.alert("Kindly Fill Closed","warning")},e.credit_amountChange=function(){var t=document.getElementById("credit_amount").value,a=t.replace(/,/g,""),n=Number(a).toLocaleString("en-IN"),l=k(a);"NaN"==n?(s.alert("Accept Number Format Only..!",{status:"danger",pos:"top-center",timeout:3e3}),e.txt_amount=""):(e.txt_amount=n,document.getElementById("words_creditamt").innerHTML=l)},e.limit_amountChange=function(){var t=document.getElementById("limit_amount").value,a=t.replace(/,/g,""),n=Number(a).toLocaleString("en-IN"),l=k(a);"NaN"==n?(s.alert("Accept Number Format Only..!",{status:"danger",pos:"top-center",timeout:3e3}),e.txt_amount=""):(e.txt_amount=n,document.getElementById("words_limitamt").innerHTML=l)},e.Back=function(){"TransferCall"==w?u.url("app/MstMarketingTransferCallSummary"):"FollowUpCall"==w?n.go("app.MstMarketingFollowUpCallSummary"):"CompletedCall"==w&&n.go("app.MstMarketingCompletedCallSummary")},e.add_followup=function(){if(void 0==e.txtfollowup_date||""==e.txtfollowup_date||void 0==e.txtfollowup_time||""==e.txtfollowup_time)s.alert("Enter Follow Up Date/Follow Up Time","warning");else{var t={marketingcall_gid:b,followup_date:e.txtfollowup_date,followup_time:e.txtfollowup_time,followup_status:e.cbofollowup,followup_remarks:e.cboremarks},a="api/Marketing/PostMarketingCallFollowUpMg";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),y()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txtfollowup_date="",e.cbofollowup="",e.cboremarks="",y(),e.txtfollowup_time=""})}},e.delete_followup=function(t){var e={marketingcall2followup_gid:t},a="api/Marketing/MarketingCallFollowUpDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),y()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),y()})},e.edit_followup=function(t){function e(e,a){var n={marketingcall2followup_gid:t},l="api/Marketing/EditMarketingCallFollowUp";c.getparams(l,n).then(function(t){e.txteditfollowup_date=new Date(t.data.followup_date),e.cboeditfollowup=t.data.followup_status,e.cboremarks=t.data.followup_remarks,"0001-01-01T00:00:00"==t.data.Tfollowup_time?e.txteditfollowup_time="":e.txteditfollowup_time=new Date(t.data.Tfollowup_time),y()}),e.editfollowup_change=function(t){"Hot"==t?e.cboremarks="Hot:will be closed in 1 month":"Warm"==t?e.cboremarks="Warm:will be closed in 3 month":"Cold"==t?e.cboremarks="Cold: will be closed in 6 month":"Others"==t?e.cboremarks="Unqualified":e.cboremarks=""},e.ok=function(){a.close("closed")},e.update_followup=function(){var n={followup_date:e.txteditfollowup_date,followup_time:e.txteditfollowup_time,followup_status:e.cboeditfollowup,followup_remarks:e.cboremarks,marketingcall2followup_gid:t,marketingcall_gid:e.marketingcall_gid},l="api/Marketing/UpdateMarketingCallFollowUp";lockUI(),c.post(l,n).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),y()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),y()}),a.close("closed")}}a.open({templateUrl:"/editinboundcallfollowup.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"],y()},e.followup_change=function(t){"Hot"==t?e.cboremarks="Hot:will be closed in 1 month":"Warm"==t?e.cboremarks="Warm:will be closed in 3 month":"Cold"==t?e.cboremarks="Cold: will be closed in 6 month":"Others"==t?e.cboremarks="Unqualified":e.cboremarks=""}}angular.module("angle").controller("MstMarketingAssignedFollowupLeadsController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g,_){function f(){b.calender1=function(t){t.preventDefault(),t.stopPropagation(),b.open1=!0},b.formats=["dd-MM-yyyy"],b.format=b.formats[0],b.dateOptions={formatYear:"yy",startingDay:1},e.minDate=new Date;var t={marketingcall_gid:v},a="api/Marketing/GetMarketingCallAssignedView";c.getparams(a,t).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.txtentity_name=t.data.entity_name,e.txtsourceofcontact_name=t.data.sourceofcontact_name,e.txtcallreceivednumber_name=t.data.callreceivednumber_name,e.txtcustomer_type=t.data.leadrequesttype_name,e.txtcallreceived_date=t.data.callreceived_date,e.txtcaller_name=t.data.caller_name,e.txtinternalreference_name=t.data.internalreference_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtcalltype_name=t.data.calltype_name,e.txtfunction_name=t.data.function_name,e.txtfunction_remarks=t.data.function_remarks,e.txttat_hours=t.data.tat_hours,e.txtrequirement=t.data.requirement,e.txtenquiry_description=t.data.enquiry_description,e.txtcallclosure_status=t.data.callclosure_status,e.txtassignemployee_name=t.data.assignemployee_name,e.txtassign_date=t.data.assign_date,e.txttagemployee_name=t.data.tagemployee_name,e.txtassignclosure_remarks=t.data.assignclosure_remarks,e.ibcalladdress_list=t.data.MarketingCalladdress_list,e.ibcallfollowup_list=t.data.MarketingCallfollowup_list,e.ibcalltransfer_list=t.data.MarketingCalltransfer_list,e.ibcalltaggedmember_list=t.data.MarketingCalltaggedmember_list,e.txtcompleted_by=t.data.completed_by,e.txtcompleted_date=t.data.completed_date,e.txtcompleted_remarks=t.data.completed_remarks,e.txtfollowup_date=t.data.followup_date,e.txtfollowup_time=t.data.followup_time,e.txtfollowup_by=t.data.followup_by,e.txtfollowup_remarks=t.data.followup_remarks,e.txtrejected_date=t.data.rejected_date,e.txtrejected_by=t.data.rejected_by,e.txtrejected_remarks=t.data.rejected_remarks,e.txtloanproduct_name=t.data.loanproduct_name,e.txtloansubproduct_name=t.data.loansubproduct_name,e.txtloan_amount=t.data.loan_amount,e.txtbase_location=t.data.baselocation_name,e.origination=t.data.origination,e.ibcallmobileno_list=t.data.MarketingCallmobileno_list,e.txtprimary_email=t.data.primary_email,e.ibcallemail_list=t.data.MarketingCallemail_list,e.txtleadrequire_name=t.data.leadrequire_name,e.txtmilletrequire_name=t.data.milletrequire_name,e.txtenquiryrequire_name=t.data.enquiryrequire_name,e.txtstartuprequire_name=t.data.startuprequire_name,e.txtbusiness_name=t.data.business_name,e.txtindustry_name=t.data.industry_name,unlockUI()});var a="api/Marketing/MarketingCallProofDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.lufilename=t.data.filename,e.lufilepath=t.data.filepath,e.Uploadcallproofdocument_list=t.data.callproofupload_list,unlockUI()});var a="api/Marketing/MarketingCallRecordingDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.Uploadcallrecordingdocument_list=t.data.callproofupload_list,unlockUI()});var a="api/Marketing/GetMarketingCallLeadstatusList";lockUI(),c.getparams(a,t).then(function(t){e.MarketingCallLeadstatus_list=t.data.MarketingCallLeadstatus_list,unlockUI()});var a="api/Marketing/GetDocumentList";c.getparams(a,t).then(function(t){e.document_list=t.data.document_list});var a="api/Marketing/GetEntity";c.get(a).then(function(t){e.entity_list=t.data.inboundentity_list});var a="api/Marketing/GetLoanProduct";lockUI(),c.get(a).then(function(t){e.samfinloanproduct_data=t.data.samapplication_list,unlockUI()});var a="api/Marketing/GetLoanSubProduct";lockUI(),c.get(a).then(function(t){e.samfinloansubproduct_list=t.data.samapplication_list,unlockUI()});var a="api/Marketing/GetAgrLoanProduct";lockUI(),c.get(a).then(function(t){e.loanproduct_data=t.data.samapplication_list,unlockUI()});var a="api/Marketing/GetAgrLoanSubProduct";lockUI(),c.get(a).then(function(t){e.loansubproduct_list=t.data.samapplication_list,unlockUI()}),k();var a="api/Marketing/GetMilletDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.milletdocument_list=t.data.milletdocument_list});var a="api/Marketing/GetEnquiryDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.enquirydocument_list=t.data.enquirydocument_list})}function k(){var t={marketingcall_gid:v},a="api/Marketing/GetMarketingCallLeadstatusList";c.getparams(a,t).then(function(t){e.ibcallleadstatus_list=t.data.MarketingCallLeadstatus_list})}function k(){var t={marketingcall_gid:v},a="api/Marketing/GetMarketingCallLeadstatusList";c.getparams(a,t).then(function(t){e.ibcallleadstatus_list=t.data.MarketingCallLeadstatus_list})}function y(){var t={marketingcall_gid:v},a="api/Marketing/GetMarketingCallMyFollowUpList";lockUI(),c.getparams(a,t).then(function(t){unlockUI(),e.ibcallfollowup_list=t.data.MarketingCallfollowup_list})}function M(){var t={marketingcall_gid:v},a="api/Marketing/GetMarketingCallMyFollowUpList";lockUI(),c.getparams(a,t).then(function(t){unlockUI(),e.ibcallfollowup_list=t.data.MarketingCallfollowup_list})}var b=this;b.title="MstMarketingAssignedFollowupLeadsController";var w=_.decryptURL(u.search().hash),v=w.marketingcall_gid;e.lspage=w.lspage;var h=e.lspage;e.transfershow=!1,e.followupshow=!1,e.completedshow=!1,lockUI(),f(),e.download_allmillet=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.download_allenquiry=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.download_allupload=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.milletdocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.enquirydocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.documentviewer=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewermillet=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewerupload=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewerenquiry=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.add_leadstatus=function(){var t="",a="";t=$("#entity :selected").text(),a=e.cboentity;var n=t;if("SAMFIN"==n){var l="",o="",i="",r="";if(l=$("#saloanproductname :selected").text(),o=e.cboloanproduct,i=$("#saloansubproductname :selected").text(),r=e.cboloansubproduct,"SAMFIN"!=n&&"SAMAGRO"!=n||""!=e.cboloansubproduct&&null!=e.cboloansubproduct&&""!=e.cboloanproduct&&null!=e.cboloanproduct&&""!=e.txt_amount&&null!=e.txt_amount){var u={marketingcall_gid:v,lead_type:t,closure_status:e.cboclosurestatus,ticket_refid:e.txtticket_refid,loanproduct_name:l,loanproduct_gid:o,loansubproduct_name:i,loansubproduct_gid:r,loan_amount:e.txt_amount},d="api/Marketing/PostMarketingCallLeadstatus";lockUI(),c.post(d,u).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),k()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txt_amount="",e.cboloansubproduct="",e.cboloanproduct=""})}else s.alert("Kindly Fill Converted Details","warning")}else{var l="",o="",i="",r="";if(l=$("#loanproductname :selected").text(),o=e.cboloanproduct,i=$("#loansubproductname :selected").text(),r=e.cboloansubproduct,"SAMFIN"!=n&&"SAMAGRO"!=n||""!=e.cboloansubproduct&&null!=e.cboloansubproduct&&""!=e.cboloanproduct&&null!=e.cboloanproduct&&""!=e.txt_amount&&null!=e.txt_amount){
var u={marketingcall_gid:v,lead_type:t,closure_status:e.cboclosurestatus,ticket_refid:e.txtticket_refid,loanproduct_name:l,loanproduct_gid:o,loansubproduct_name:i,loansubproduct_gid:r,loan_amount:e.txt_amount},d="api/Marketing/PostMarketingCallLeadstatus";lockUI(),c.post(d,u).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),k()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txt_amount="",e.cboloansubproduct="",e.cboloanproduct=""})}else s.alert("Kindly Fill Converted Details","warning")}},e.delete_leadstatus=function(t){var e={marketingcall2leadstatus_gid:t},a="api/Marketing/MarketingCallLeadstatusDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),k()})},e.changeentitiy=function(t){for(var a=0;a<e.entity_list.length;a++)t==e.entity_list[a].entity_gid&&(e.entityselect=e.entity_list[a].entity_name)},e.Back=function(){u.url("app/MstMarketingFollowUpCallSummary")},e.limit_amountChange=function(){var t=document.getElementById("limit_amount").value,a=t.replace(/,/g,""),n=Number(a).toLocaleString("en-IN"),l=_.fnConvertNumbertoWord(a);"NaN"==n?(s.alert("Accept Number Format Only..!",{status:"danger",pos:"top-center",timeout:3e3}),e.txt_amount=""):(e.txt_amount=n,document.getElementById("words_limitamt").innerHTML=l)},e.credit_amountChange=function(){var t=document.getElementById("credit_amount").value,a=t.replace(/,/g,""),n=Number(a).toLocaleString("en-IN"),l=_.fnConvertNumbertoWord(a);"NaN"==n?(s.alert("Accept Number Format Only..!",{status:"danger",pos:"top-center",timeout:3e3}),e.txt_amount=""):(e.txt_amount=n,document.getElementById("words_creditamt").innerHTML=l)},e.FollowupSubmit=function(){if("Closed"!=e.cboclosurestatus||""!=e.cboclosed&&null!=e.cboclosed){var t={marketingcall_gid:v,followup_date:e.txtfollowup_dates,followup_time:e.txtfollowup_time,closed:e.cboclosed,closure_status:e.cboclosurestatus,followup_remarks:e.txtfollowup_remarks},a="api/Marketing/PostCompletedCall";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),u.url("app/MstMarketingFollowUpCallSummary")):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}else s.alert("Kindly Fill Closed","warning")},e.rec_downloads=function(t,e){g.Downloaddocument(t,e)},e.recproof_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.add_leadstatus=function(){var t="",a="";t=$("#entity :selected").text(),a=e.cboentity;var n=t;if("SAMFIN"==n){var l="",o="",i="",r="";if(l=$("#saloanproductname :selected").text(),o=e.cboloanproduct,i=$("#saloansubproductname :selected").text(),r=e.cboloansubproduct,"SAMFIN"!=n&&"SAMAGRO"!=n||""!=e.cboloansubproduct&&null!=e.cboloansubproduct&&""!=e.cboloanproduct&&null!=e.cboloanproduct&&""!=e.txt_amount&&null!=e.txt_amount){var u={marketingcall_gid:v,lead_type:t,closure_status:e.cboclosurestatus,ticket_refid:e.txtticket_refid,loanproduct_name:l,loanproduct_gid:o,loansubproduct_name:i,loansubproduct_gid:r,loan_amount:e.txt_amount},d="api/Marketing/PostMarketingCallLeadstatus";lockUI(),c.post(d,u).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),k()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txt_amount="",e.cboloansubproduct="",e.cboloanproduct=""})}else s.alert("Kindly Fill Converted Details","warning")}else{var l="",o="",i="",r="";if(l=$("#loanproductname :selected").text(),o=e.cboloanproduct,i=$("#loansubproductname :selected").text(),r=e.cboloansubproduct,"SAMFIN"!=n&&"SAMAGRO"!=n||""!=e.cboloansubproduct&&null!=e.cboloansubproduct&&""!=e.cboloanproduct&&null!=e.cboloanproduct&&""!=e.txt_amount&&null!=e.txt_amount){var u={marketingcall_gid:v,lead_type:t,closure_status:e.cboclosurestatus,ticket_refid:e.txtticket_refid,loanproduct_name:l,loanproduct_gid:o,loansubproduct_name:i,loansubproduct_gid:r,loan_amount:e.txt_amount},d="api/Marketing/PostMarketingCallLeadstatus";lockUI(),c.post(d,u).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),k()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txt_amount="",e.cboloansubproduct="",e.cboloanproduct=""})}else s.alert("Kindly Fill Converted Details","warning")}},e.delete_leadstatus=function(t){var e={marketingcall2leadstatus_gid:t},a="api/Marketing/MarketingCallLeadstatusDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),k()})},e.changeclosurestatus=function(t){"Closed"==t?e.followup_show=!0:e.followup_show=!1,"Converted"==t?e.completed_show=!0:e.completed_show=!1},e.Submit=function(){if("Closed"!=e.cboclosurestatus||""!=e.cboclosed&&null!=e.cboclosed){var t={marketingcall_gid:v,followup_date:e.txtfollowup_dates,followup_time:e.txtfollowup_time,closed:e.cboclosed,closure_status:e.cboclosurestatus,followup_remarks:e.txtfollowup_remarks},a="api/Marketing/PostFollowupLeadCall";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),u.url("app/MstMarketingWorkInprogressCallSummary")):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}else s.alert("Kindly Fill Closed","warning")},e.Back=function(){"TransferCall"==h?u.url("app/MstMarketingTransferCallSummary"):"FollowUpCall"==h?n.go("app.MstMarketingFollowUpCallSummary"):"CompletedCall"==h?n.go("app.MstMarketingCompletedCallSummary"):"MyFollowUpLead"==h&&n.go("app.MstMarketingFollowUpCallSummary")},e.add_followup=function(){if(void 0==e.txtfollowup_dates||""==e.txtfollowup_dates||void 0==e.txtfollowup_time||""==e.txtfollowup_time)s.alert("Enter Follow Up Date/Follow Up Time","warning");else{var t={marketingcall_gid:v,followup_date:e.txtfollowup_dates,followup_time:e.txtfollowup_time,followup_status:e.cbofollowup,followup_remarks:e.cboremarks},a="api/Marketing/PostMarketingCallFollowUpMg";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),M()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txtfollowup_dates="",e.cbofollowup="",e.cboremarks="",M(),e.txtfollowup_time=""})}},e.delete_followup=function(t){var e={marketingcall2followup_gid:t},a="api/Marketing/MarketingCallFollowUpDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),M()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),y()})},e.edit_followup=function(t){function e(e,a){var n={marketingcall2followup_gid:t},l="api/Marketing/EditMarketingCallFollowUp";c.getparams(l,n).then(function(t){e.txteditfollowup_date=new Date(t.data.followup_date),e.cboeditfollowup=t.data.followup_status,e.cboremarks=t.data.followup_remarks,"0001-01-01T00:00:00"==t.data.Tfollowup_time?e.txteditfollowup_time="":e.txteditfollowup_time=new Date(t.data.Tfollowup_time),M()}),e.editfollowup_change=function(t){"Hot"==t?e.cboremarks="Hot:will be closed in 1 month":"Warm"==t?e.cboremarks="Warm:will be closed in 3 month":"Cold"==t?e.cboremarks="Cold: will be closed in 6 month":"Others"==t?e.cboremarks="Unqualified":e.cboremarks=""},e.ok=function(){a.close("closed")},e.update_followup=function(){var n={followup_date:e.txteditfollowup_date,followup_time:e.txteditfollowup_time,followup_status:e.cboeditfollowup,followup_remarks:e.cboremarks,marketingcall2followup_gid:t,marketingcall_gid:e.marketingcall_gid},l="api/Marketing/UpdateMarketingCallFollowUp";lockUI(),c.post(l,n).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),M()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),M()}),a.close("closed")}}a.open({templateUrl:"/editinboundcallfollowup.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"],M()},e.followup_change=function(t){"Hot"==t?e.cboremarks="Hot:will be closed in 1 month":"Warm"==t?e.cboremarks="Warm:will be closed in 3 month":"Cold"==t?e.cboremarks="Cold: will be closed in 6 month":"Others"==t?e.cboremarks="Unqualified":e.cboremarks=""}}angular.module("angle").controller("MstMarketingAssignedFollowupLeadsController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g,_){function f(){var t={marketingcall_gid:M},a="api/Marketing/GetMarketingCallAssignedView";c.getparams(a,t).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.txtentity_name=t.data.entity_name,e.txtsourceofcontact_name=t.data.sourceofcontact_name,e.txtcallreceivednumber_name=t.data.callreceivednumber_name,e.txtcustomer_type=t.data.leadrequesttype_name,e.txtcallreceived_date=t.data.callreceived_date,e.txtcaller_name=t.data.caller_name,e.txtinternalreference_name=t.data.internalreference_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtcalltype_name=t.data.calltype_name,e.txtfunction_name=t.data.function_name,e.txtfunction_remarks=t.data.function_remarks,e.txttat_hours=t.data.tat_hours,e.txtrequirement=t.data.requirement,e.ibcalltransfer_list=t.data.MarketingCalltransfer_list,e.txtenquiry_description=t.data.enquiry_description,e.txtcallclosure_status=t.data.callclosure_status,e.txtassignemployee_name=t.data.assignemployee_name,e.txtassign_date=t.data.assign_date,e.txtbase_location=t.data.baselocation_name,e.txttagemployee_name=t.data.tagemployee_name,e.txtassignclosure_remarks=t.data.assignclosure_remarks,e.ibcallextendfollowup_list=t.data.marketingcallextendfollowup_list,e.txtprimary_mobileno=t.data.primary_mobileno,e.ibcallmobileno_list=t.data.MarketingCallmobileno_list,e.txtprimary_email=t.data.primary_email,e.ibcallemail_list=t.data.MarketingCallemail_list,e.ibcallfollowup_list=t.data.MarketingCallfollowup_list,e.ibcalladdress_list=t.data.MarketingCalladdress_list,e.origination=t.data.origination,e.ibcalltaggedmember_list=t.data.MarketingCalltaggedmember_list,e.txtleadrequire_name=t.data.leadrequire_name,e.txtmilletrequire_name=t.data.milletrequire_name,e.txtenquiryrequire_name=t.data.enquiryrequire_name,e.txtstartuprequire_name=t.data.startuprequire_name,e.txtbusiness_name=t.data.business_name,e.txtindustry_name=t.data.industry_name,unlockUI()});var a="api/Marketing/GetDocumentList";c.getparams(a,t).then(function(t){e.lsfilename=t.data.filename,e.lsfilepath=t.data.filepath,e.document_list=t.data.document_list});var a="api/Marketing/GetMilletDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.milletdocument_list=t.data.milletdocument_list});var a="api/Marketing/GetEnquiryDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.enquirydocument_list=t.data.enquirydocument_list})}var k=this;k.title="MstMarketingAssignViewController";var y=_.decryptURL(u.search().hash),M=y.lsmarketingcall_gid,b=y.lspage;f(),e.document_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.download_allmillet=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.milletdocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_allenquiry=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.enquirydocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.documentviewer=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewermillet=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewerenquiry=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.Back=function(){"MarketingAddCall"==b?u.url("app/MstMarketingSummary"):"AssignedMarketing"==b?n.go("app.MstAssignedMarketingSummary"):"MarketingUnassignedLead"==b&&n.go("app.MstMarketingUnassignedLeadSummary")}}angular.module("angle").controller("MstMarketingAssignViewController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p){function g(){var t="api/MstMarketingCallReceivedNumber/GetMarketingCallReceivedNumber";lockUI(),r.get(t).then(function(t){e.callreceivednumber_list=t.data.marketingcallreceivednumber_list,unlockUI()})}var _=this;_.title="MstMarketingCallReceivedNumberController",g(),e.addcallreceivednumber=function(){function t(t,e){t.back=function(){e.close("closed")},t.submit=function(){var a={marketingcallreceivednumber_name:t.txtcallreceivednumber_name,lms_code:t.txtlms_code,bureau_code:t.txtbureau_code},n="api/MstMarketingCallReceivedNumber/CreateMarketingCallReceivedNumber";lockUI(),r.post(n,a).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),e.close("closed"),g()):(c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.close("closed"),g())})}}l.open({templateUrl:"/addcallreceivednumber.html",controller:t,backdrop:"static",keyboard:!1,size:"md"});t.$inject=["$scope","$modalInstance"]},e.editcallreceivednumber=function(t){function e(e,a){e.back=function(){a.close("closed")};var n={marketingcallreceivednumber_gid:t},l="api/MstMarketingCallReceivedNumber/EditMarketingCallReceivedNumber";r.getparams(l,n).then(function(t){e.txteditcallreceivednumber_name=t.data.marketingcallreceivednumber_name,e.txteditlms_code=t.data.lms_code,e.txteditbureau_code=t.data.bureau_code,e.marketingcallreceivednumber_gid=t.data.marketingcallreceivednumber_gid}),e.back=function(){a.close("closed")},e.update=function(){var t="api/MstMarketingCallReceivedNumber/UpdateMarketingCallReceivedNumber",n={marketingcallreceivednumber_name:e.txteditcallreceivednumber_name,lms_code:e.txteditlms_code,bureau_code:e.txteditbureau_code,marketingcallreceivednumber_gid:e.marketingcallreceivednumber_gid};r.post(t,n).then(function(t){1==t.data.status?(a.close("closed"),c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),g()):(a.close("closed"),c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g())})}}l.open({templateUrl:"/editcallreceivednumber.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.Status_update=function(t){function e(e,a){var n={marketingcallreceivednumber_gid:t},l="api/MstMarketingCallReceivedNumber/EditmarketingCallReceivedNumber";r.getparams(l,n).then(function(t){e.marketingcallreceivednumber_gid=t.data.marketingcallreceivednumber_gid,e.txtcallreceivednumber_name=t.data.marketingcallreceivednumber_name,e.rbo_status=t.data.Status}),e.back=function(){a.close("closed")},e.update_status=function(){var n={marketingcallreceivednumber_gid:t,remarks:e.txtremarks,rbo_status:e.rbo_status},l="api/MstMarketingCallReceivedNumber/InactiveMarketingCallReceivedNumber";lockUI(),r.post(l,n).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g()}),a.close("closed")};var n={marketingcallreceivednumber_gid:t},l="api/MstMarketingCallReceivedNumber/InactiveMarketingCallReceivedNumberHistory";lockUI(),r.getparams(l,n).then(function(t){e.callreceivednumberinactivelog_list=t.data.marketingcallreceivednumberinactivehistory_list,unlockUI()})}l.open({templateUrl:"/statuscallreceivednumber.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e["delete"]=function(t){var e={marketingcallreceivednumber_gid:t};d.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/MstMarketingCallReceivedNumber/DeleteMarketingCallReceivedNumber";r.getparams(a,e).then(function(t){1==t.data.status?(d.swal("Deleted Successfully!"),g()):(c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g())})}})}}angular.module("angle").controller("MstMarketingCallReceivedNumberController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g,_){function f(){k.calender1=function(t){t.preventDefault(),t.stopPropagation(),k.open1=!0},k.formats=["dd-MM-yyyy"],k.format=k.formats[0],k.dateOptions={formatYear:"yy",startingDay:1};var t={marketingcall_gid:M},a="api/Marketing/GetMarketingCallAssignedView";c.getparams(a,t).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.txtentity_name=t.data.entity_name,e.txtsourceofcontact_name=t.data.sourceofcontact_name,e.txtcallreceivednumber_name=t.data.callreceivednumber_name,e.txtcustomer_type=t.data.leadrequesttype_name,e.txtcallreceived_date=t.data.callreceived_date,e.txtcaller_name=t.data.caller_name,e.txtinternalreference_name=t.data.internalreference_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtcalltype_name=t.data.calltype_name,e.txtfunction_name=t.data.function_name,e.txtfunction_remarks=t.data.function_remarks,e.txttat_hours=t.data.tat_hours,e.txtrequirement=t.data.requirement,e.txtenquiry_description=t.data.enquiry_description,e.txtcallclosure_status=t.data.callclosure_status,e.txtassignemployee_name=t.data.assignemployee_name,e.txtbase_location=t.data.baselocation_name,e.txtassign_date=t.data.assign_date,e.origination=t.data.origination,e.txttagemployee_name=t.data.tagemployee_name,e.txtassignclosure_remarks=t.data.assignclosure_remarks,e.ibcalladdress_list=t.data.MarketingCalladdress_list,e.ibcallfollowup_list=t.data.MarketingCallfollowup_list,e.ibcalltaggedmember_list=t.data.MarketingCalltaggedmember_list,e.txtacknowledgement_date=t.data.acknowledge_date,e.txtprimary_mobileno=t.data.primary_mobileno,e.ibcallmobileno_list=t.data.MarketingCallmobileno_list,e.txtprimary_email=t.data.primary_email,e.ibcallemail_list=t.data.MarketingCallemail_list,e.txtleadrequire_name=t.data.leadrequire_name,e.txtmilletrequire_name=t.data.milletrequire_name,e.txtenquiryrequire_name=t.data.enquiryrequire_name,e.txtstartuprequire_name=t.data.startuprequire_name,e.txtbusiness_name=t.data.business_name,e.txtindustry_name=t.data.industry_name,unlockUI()});var a="api/Marketing/GetDocumentList";c.getparams(a,t).then(function(t){e.lsfilename=t.data.filename,e.lsfilepath=t.data.filepath,e.document_list=t.data.document_list});var a="api/Marketing/GetMilletDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.milletdocument_list=t.data.milletdocument_list});var a="api/Marketing/GetEnquiryDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.enquirydocument_list=t.data.enquirydocument_list})}var k=this;k.title="MstMarketingCallResponseController";var y=_.decryptURL(u.search().hash),M=y.marketingcall_gid;lockUI(),f(),e.Back=function(){u.url("app/MstMarketingMyAssignedCallSummary")},e.Reject=function(){function t(t,a){t.ok=function(){e.close("closed")},t.rejectSubmit=function(){var a={marketingcall_gid:M,reject_remarks:t.txtreject_remarks},l="api/Marketing/RejectMarketingCall";lockUI(),c.post(l,a).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),e.close("closed"),n.go("app.MstMarketingMyAssignedCallSummary")):(s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.close("closed"))}),n.go("app.MstMarketingMyAssignedCallSummary")}}var e=a.open({templateUrl:"/rejectrequest.html",controller:t,backdrop:"static",keyboard:!1,size:"md"});t.$inject=["$scope","$modalInstance"]},e.acknowledge=function(){var t="api/Marketing/PostUpdateAck";lockUI();var e={marketingcall_gid:M};c.post(t,e).then(function(t){1==t.data.status?(unlockUI(),s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),u.url("app/MstMarketingMyAssignedCallSummary")):(unlockUI(),s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),u.url("app/MstMarketingMyAssignedCallSummary"))})},e.closed_call=function(t){function e(e,a,l,o,i,r,c,s,u,d,m,p,g){a.close_call=function(){var e={marketingcall_gid:t,closed_remarks:a.closed_remarks},l="api/Marketing/MarketingCallAssignedClosed";lockUI(),u.post(l,e).then(function(t){unlockUI(),(t.data.status=!0)?(n.close("closed"),d.alert(t.data.message,"success"),f()):(n.close("closed"),d.alert(t.data.message,"warning"),f())})},a.close=function(){n.close("closed")}}var n=a.open({templateUrl:"/closedContent.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams"]},e.download_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.document_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_allmillet=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.download_allenquiry=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.milletdocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.enquirydocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.documentviewer=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewermillet=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewerenquiry=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)}}angular.module("angle").controller("MstMarketingCallResponseController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p){function g(){var t="api/MstMarketingCallType/GetCreateMarketingCallType";lockUI(),r.get(t).then(function(t){e.calltype_list=t.data.marketingcalltype_list,unlockUI()})}var _=this;_.title="MstMarketingCallTypeController",g(),e.addcalltype=function(){function t(t,e){t.back=function(){e.close("closed")},t.submit=function(){var a={marketingcalltype_name:t.txtcalltype_name,lms_code:t.txtlms_code,bureau_code:t.txtbureau_code},n="api/MstMarketingCallType/CreateMarketingCallType";lockUI(),r.post(n,a).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),e.close("closed"),g()):(c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.close("closed"),g())})}}l.open({templateUrl:"/addcalltype.html",controller:t,backdrop:"static",keyboard:!1,size:"md"});t.$inject=["$scope","$modalInstance"]},e.editcalltype=function(t){function e(e,a){e.back=function(){a.close("closed")};var n={marketingcalltype_gid:t},l="api/MstMarketingCallType/EditMarketingCallType";r.getparams(l,n).then(function(t){e.txteditcalltype_name=t.data.marketingcalltype_name,e.txteditlms_code=t.data.lms_code,e.txteditbureau_code=t.data.bureau_code,e.marketingcalltype_gid=t.data.marketingcalltype_gid}),e.back=function(){a.close("closed")},e.update=function(){var t="api/MstMarketingCallType/UpdateMarketingCallType",n={marketingcalltype_name:e.txteditcalltype_name,lms_code:e.txteditlms_code,bureau_code:e.txteditbureau_code,marketingcalltype_gid:e.marketingcalltype_gid};r.post(t,n).then(function(t){1==t.data.status?(a.close("closed"),c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),g()):(a.close("closed"),c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g())})}}l.open({templateUrl:"/editcalltype.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.Status_update=function(t){function e(e,a){var n={marketingcalltype_gid:t},l="api/MstMarketingCallType/EditMarketingCallType";r.getparams(l,n).then(function(t){e.marketingcalltype_gid=t.data.marketingcalltype_gid,e.txtcalltype_name=t.data.marketingcalltype_name,e.rbo_status=t.data.Status}),e.back=function(){a.close("closed")},e.update_status=function(){var n={marketingcalltype_gid:t,remarks:e.txtremarks,rbo_status:e.rbo_status},l="api/MstMarketingCallType/InactiveMarketingCallType";lockUI(),r.post(l,n).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g()}),a.close("closed")};var n={marketingcalltype_gid:t},l="api/MstMarketingCallType/InactiveMarketingCallTypeHistory";lockUI(),r.getparams(l,n).then(function(t){e.calltypeinactivelog_list=t.data.marketinginactivehistory_list,unlockUI()})}l.open({templateUrl:"/statuscalltype.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e["delete"]=function(t){var e={marketingcalltype_gid:t};d.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showSpinner:!0,showCancelButton:!0,CancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!",confirmButtonColor:"#d64b3c",cancelButtonClass:"btn btn-danger",closeOnConfirm:!1},function(t){if(t){var a="api/MstMarketingCallType/DeleteMarketingCallType";r.getparams(a,e).then(function(t){1==t.data.status?(d.swal("Deleted Successfully!"),g()):0==t.data.status?(d.swal({title:"Warning!",text:"Can't able to delete Enquiry Type because it is mapped to add Business Development call",timer:5e3,showCancelButton:!1,showConfirmButton:!1,backgroundcolor:"#d64b3c"}),g()):(c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g())})}})}}angular.module("angle").controller("MstMarketingCallTypeController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g,_){function f(){e.followup_show=!1,k.calender1=function(t){t.preventDefault(),t.stopPropagation(),k.open1=!0},k.formats=["dd-MM-yyyy"],k.format=k.formats[0],k.dateOptions={formatYear:"yy",startingDay:1};var t={marketingcall_gid:M},a="api/Marketing/GetMarketingCallAssignedView";c.getparams(a,t).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.txtentity_name=t.data.entity_name,e.txtsourceofcontact_name=t.data.sourceofcontact_name,e.txtcallreceivednumber_name=t.data.callreceivednumber_name,e.txtcustomer_type=t.data.leadrequesttype_name,e.txtcallreceived_date=t.data.callreceived_date,e.txtcaller_name=t.data.caller_name,e.txtinternalreference_name=t.data.internalreference_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtcalltype_name=t.data.calltype_name,e.txtfunction_name=t.data.function_name,e.txtrequirement=t.data.requirement,e.txtenquiry_description=t.data.enquiry_description,e.txtcallclosure_status=t.data.callclosure_status,e.txtassignemployee_name=t.data.assignemployee_name,e.txttagemployee_name=t.data.tagemployee_name,e.txtassignclosure_remarks=t.data.assignclosure_remarks,e.txtcompleted_by=t.data.completed_by,e.txtcompleted_remarks=t.data.completed_remarks,e.txttat_hours=t.data.tat_hours,e.txtfunction_remarks=t.data.function_remarks,e.txtloanproduct_name=t.data.loanproduct_name,e.txtloansubproduct_name=t.data.loansubproduct_name,e.txtloan_amount=t.data.loan_amount,e.txtbase_location=t.data.baselocation_name,e.ibcalladdress_list=t.data.MarketingCalladdress_list,e.ibcallfollowup_list=t.data.MarketingCallfollowup_list,e.ibcalltaggedmember_list=t.data.MarketingCalltaggedmember_list,e.ibcallmobileno_list=t.data.MarketingCallmobileno_list,e.txtprimary_email=t.data.primary_email,e.ibcallemail_list=t.data.MarketingCallemail_list,e.origination=t.data.origination,e.txtleadrequire_name=t.data.leadrequire_name,e.txtmilletrequire_name=t.data.milletrequire_name,e.txtenquiryrequire_name=t.data.enquiryrequire_name,e.txtstartuprequire_name=t.data.startuprequire_name,e.txtbusiness_name=t.data.business_name,e.txtindustry_name=t.data.industry_name,unlockUI()});var a="api/Marketing/MarketingCallProofDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.lsfilename1=t.data.filename,e.lsfilepath1=t.data.filepath,e.Uploadcallproofdocument_list=t.data.callproofupload_list,unlockUI()});var a="api/Marketing/MarketingCallRecordingDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.Uploadcallrecordingdocument_list=t.data.callproofupload_list,unlockUI()});var a="api/Marketing/GetMarketingCallLeadstatusList";lockUI(),c.getparams(a,t).then(function(t){e.MarketingCallLeadstatus_list=t.data.MarketingCallLeadstatus_list,unlockUI()});var a="api/Marketing/GetDocumentList";c.getparams(a,t).then(function(t){e.lsfilename=t.data.filename,e.lsfilepath=t.data.filepath,e.document_list=t.data.document_list});var a="api/Marketing/GetMilletDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.milletdocument_list=t.data.milletdocument_list});var a="api/Marketing/GetEnquiryDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.enquirydocument_list=t.data.enquirydocument_list})}var k=this;k.title="MstMarketingCloseController";var y=_.decryptURL(u.search().hash),M=y.lsmarketingcall_gid;f(),e.download_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.downloads_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.document_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_allmillet=function(t,e){g.Downloaddocument(t,e)},e.milletdocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_allenquiry=function(t,e){g.Downloaddocument(t,e)},e.enquirydocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.rec_downloads=function(t,e){g.Downloaddocument(t,e)},e.recproof_downloads=function(t,e){g.Downloaddocument(t,e);
},e.documentviewer=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewermillet=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewerenquiry=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.Back=function(){u.url("app/MstMarketingCompletedCall")},e.changeclosurestatus=function(t){"Extend Follow Up"==t?e.followup_show=!0:e.followup_show=!1,"Rejected"==t?e.Rejected_show=!0:e.Rejected_show=!1};var b=document.querySelector("#close_i");b.addEventListener("keypress",function(t){var e=t.keyCode,a=t.currentTarget.value,n=a.length;console.log(e),0===n&&32===e&&(console.log("do not allow white space more"),t.preventDefault())});var w=document.querySelector("#follow_i");w.addEventListener("keypress",function(t){var e=t.keyCode,a=t.currentTarget.value,n=a.length;console.log(e),0===n&&32===e&&(console.log("do not allow white space more"),t.preventDefault())}),e.submit=function(){if("Extend Follow Up"!=e.cboclosurestatus||""!=e.txtfollowup_date&&null!=e.txtfollowup_date&&""!=e.txtfollowup_time&&null!=e.txtfollowup_time&&""!=e.txtremarks&&null!=e.txtremarks)if("Rejected"!=e.cboclosurestatus||""!=e.closedremarks&&null!=e.closedremarks){var t={marketingcall_gid:M,followup_date:e.txtfollowup_date,followup_time:e.txtfollowup_time,followup_remarks:e.txtremarks,closure_status:e.cboclosurestatus,closed_remarks:e.closedremarks},a="api/Marketing/PostCloseCall";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),n.go("app.MstMarketingCompletedCall"),f()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})}),n.go("app.MstMarketingCompletedCall"),f()}else s.alert("Kindly Fill Rejected Remarks","warning");else s.alert("Kindly Fill Follow Up Details","warning")}}angular.module("angle").controller("MstMarketingCloseController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){var t="api/Marketing/GetClosedMarketingCallSummary";c.get(t).then(function(t){e.ibcall_list=t.data.MarketingCall_list,unlockUI()});var t="api/Marketing/MarketingCallCount";c.get(t).then(function(t){e.unassignedcall_count=t.data.unassignedcall_count,e.assignedcall_count=t.data.assignedcall_count,e.completedcall_count=t.data.completedcall_count,e.followupcall_count=t.data.followupcall_count,e.closedcall_count=t.data.closedcall_count,e.rejectedcall_count=t.data.rejectedcall_count,unlockUI()})}var f=this;f.title="MstMarketingClosedCallController",_(),lockUI(),e.addinbound=function(){u.url("app/MstMarketingAdd")},e.closedcall=function(){u.url("app/MstMarketingClosedCall")},e.followupcall=function(){u.url("app/MstMarketingFollowupCall")},e.assignedcall=function(){u.url("app/MstMarketingSummary")},e.unassignedcall=function(){u.url("app/MstMarketingUnassignedLeadSummary")},e.completedcall=function(){u.url("app/MstMarketingCompletedCall")},e.edit_inboundcall=function(t){u.url("app/MstMarketingEdit?hash="+g.encryptURL("lsmarketingcall_gid="+t))},e.view_inboundcall=function(t){u.url("app/MstMarketingClosedView?hash="+g.encryptURL("lsmarketingcall_gid="+t+"&lspage=MarketingCloseAddLead"))},e.rejectedcall=function(){u.url("app/MstMarketingRejectedCallSummary")}}angular.module("angle").controller("MstMarketingClosedCallController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g,_){function f(){var t={marketingcall_gid:M},a="api/Marketing/GetMarketingCallAssignedView";c.getparams(a,t).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.txtentity_name=t.data.entity_name,e.txtsourceofcontact_name=t.data.sourceofcontact_name,e.txtcallreceivednumber_name=t.data.callreceivednumber_name,e.txtcustomer_type=t.data.leadrequesttype_name,e.txtcallreceived_date=t.data.callreceived_date,e.txtcaller_name=t.data.caller_name,e.txtinternalreference_name=t.data.internalreference_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtcalltype_name=t.data.calltype_name,e.txtfunction_name=t.data.function_name,e.txtrequirement=t.data.requirement,e.txtenquiry_description=t.data.enquiry_description,e.txtcallclosure_status=t.data.callclosure_status,e.txtassignemployee_name=t.data.assignemployee_name,e.txttagemployee_name=t.data.tagemployee_name,e.txtassignclosure_remarks=t.data.assignclosure_remarks,e.txtclosed_remarks=t.data.closed_remarks,e.txtfunction_remarks=t.data.function_remarks,e.ibcalladdress_list=t.data.MarketingCalladdress_list,e.txttat_hours=t.data.tat_hours,e.txtprimary_mobileno=t.data.primary_mobileno,e.ibcallmobileno_list=t.data.MarketingCallmobileno_list,e.txtbase_location=t.data.baselocation_name,e.txtprimary_email=t.data.primary_email,e.ibcallemail_list=t.data.MarketingCallemail_list,e.origination=t.data.origination,e.ibcallfollowup_list=t.data.MarketingCallfollowup_list,e.ibcalltaggedmember_list=t.data.MarketingCalltaggedmember_list,e.txtclosed_date=t.data.closed_date,e.txtclosed_by=t.data.closed_by,e.txtrejected_date=t.data.rejected_date,e.txtrejected_by=t.data.rejected_by,e.txtrejected_remarks=t.data.rejected_remarks,e.txtclosed=t.data.closed,e.txtleadrequire_name=t.data.leadrequire_name,e.txtmilletrequire_name=t.data.milletrequire_name,e.txtenquiryrequire_name=t.data.enquiryrequire_name,e.txtstartuprequire_name=t.data.startuprequire_name,e.txtbusiness_name=t.data.business_name,e.txtindustry_name=t.data.industry_name,unlockUI()});var a="api/Marketing/GetMarketingCallLeadstatusList";lockUI(),c.getparams(a,t).then(function(t){e.MarketingCallLeadstatus_list=t.data.MarketingCallLeadstatus_list,unlockUI()});var a="api/Marketing/MarketingCallProofDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.lufilename=t.data.filename,e.lufilepath=t.data.filepath,e.Uploadcallproofdocument_list=t.data.callproofupload_list,unlockUI()});var a="api/Marketing/MarketingCallRecordingDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.Uploadcallrecordingdocument_list=t.data.callproofupload_list,unlockUI()});var a="api/Marketing/GetDocumentList";c.getparams(a,t).then(function(t){e.lsfilename=t.data.filename,e.lsfilepath=t.data.filepath,e.document_list=t.data.document_list});var a="api/Marketing/GetMilletDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.milletdocument_list=t.data.milletdocument_list});var a="api/Marketing/GetEnquiryDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.enquirydocument_list=t.data.enquirydocument_list})}var k=this;k.title="MstMarketingClosedViewController";var y=_.decryptURL(u.search().hash),M=y.lsmarketingcall_gid;e.lspage=y.lspage;var b=e.lspage;f(),lockUI(),e.download_allmillet=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.download_allenquiry=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.download_allupload=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.milletdocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.enquirydocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.document_downloads=function(t,e){g.Downloaddocument(t,e)},e.recproof_downloads=function(t,e){g.Downloaddocument(t,e)},e.documentviewerupload=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewer=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewermillet=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewerenquiry=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.download_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.Back=function(){"MarketingCloseAddLead"==b?u.url("app/MstMarketingClosedCall"):"MarketingCloseMyLead"==b&&n.go("app.MstMarketingMyleadsClosedCall")}}angular.module("angle").controller("MstMarketingClosedViewController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){var t="api/Marketing/GetCompletedMarketingCallSummary";c.get(t).then(function(t){e.ibcall_list=t.data.MarketingCall_list,unlockUI()});var t="api/Marketing/MarketingCallCount";c.get(t).then(function(t){e.unassignedcall_count=t.data.unassignedcall_count,e.assignedcall_count=t.data.assignedcall_count,e.completedcall_count=t.data.completedcall_count,e.followupcall_count=t.data.followupcall_count,e.closedcall_count=t.data.closedcall_count,e.rejectedcall_count=t.data.rejectedcall_count,unlockUI()})}var f=this;f.title="MstMarketingCompletedCallController",_(),lockUI(),e.addinbound=function(){u.url("app/MstMarketingAdd")},e.closedcall=function(){u.url("app/MstMarketingClosedCall")},e.followupcall=function(){u.url("app/MstMarketingFollowupCall")},e.assignedcall=function(){u.url("app/MstMarketingSummary")},e.completedcall=function(){u.url("app/MstMarketingCompletedCall")},e.unassignedcall=function(){u.url("app/MstMarketingUnassignedLeadSummary")},e.edit_inboundcall=function(t){u.url("app/MstMarketingEdit?hash="+g.encryptURL("lsmarketingcall_gid="+t))},e.view_inboundcall=function(t){u.url("app/MstMarketingCompletedView?hash="+g.encryptURL("lsmarketingcall_gid="+t))},e.close_inboundcall=function(t){u.url("app/MstMarketingClose?hash="+g.encryptURL("lsmarketingcall_gid="+t))},e.rejectedcall=function(){u.url("app/MstMarketingRejectedCallSummary")}}angular.module("angle").controller("MstMarketingCompletedCallController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){var t="api/Marketing/GetEmpCompletedMarketingCallSummary";c.get(t).then(function(t){e.marketingcallcompleted_list=t.data.MarketingCall_list,unlockUI()});var t="api/Marketing/EmployeeMarketingCallCount";c.get(t).then(function(t){e.assignedcall_count=t.data.assignedcall_count,e.transfercall_count=t.data.transfercall_count,e.completedcall_count=t.data.completedcall_count,e.inprogresscall_count=t.data.inprogresscall_count,e.tagmember_count=t.data.taggedcall_count,e.followupcall_count=t.data.followupcall_count,e.rejectedcall_count=t.data.rejectedcall_count,e.closedcall_count=t.data.closedcall_count,unlockUI()})}var f=this;f.title="MstMarketingCompletedCallSummaryController",_(),lockUI(),e.closedcall=function(){u.url("app/MstMarketingMyleadsClosedCall")},e.myassigned_calls=function(){u.url("app/MstMarketingMyAssignedCallSummary")},e.tag_member=function(){u.url("app/MstMarketingTaggedMemberSummary")},e.transfer_calls=function(){u.url("app/MstMarketingTransferCallSummary")},e.completed_calls=function(){u.url("app/MstMarketingCompletedCallSummary")},e.view=function(t){u.url("app/MstMarketingAssignedCallView?hash="+g.encryptURL("marketingcall_gid="+t+"&lspage=CompletedCall"))},e.edit=function(t){u.url("app/MstMarketingEdit?hash="+g.encryptURL("marketingcall_gid="+t))},e.work_inprogress=function(){u.url("app/MstMarketingWorkInprogressCallSummary")},e.followup_call=function(){u.url("app/MstMarketingFollowUpCallSummary")},e.mbdrejected_calls=function(){u.url("app/MstMarketingMBDRejectedCallSummary")},e.transfer=function(t,e,n){function l(a,l,i,r,c,s,u,d,m,p,g,f,k){var y="api/OsdTrnCustomerQueryMgmt/TransferEmployee";m.get(y).then(function(t){l.TransferEmployeeList=t.data.TransferEmployeeList,unlockUI()}),l.marketingcall_gid=t,l.ticketref_no=e,l.assigned_to=n,l.transfercall=function(){if(void 0==l.transfer_to)return o.close("closed"),void p.alert("Kindly Select the Assign to Person","warning");var t={marketingcall_gid:l.marketingcall_gid,employee_gid:l.transfer_to,employee_name:$("#transfer_to :selected").text(),transfer_remarks:l.transfer_remarks},e="api/MstTelecalling/TicketTransfer";lockUI(),m.post(e,t).then(function(t){unlockUI(),(t.data.status=!0)?(o.close("closed"),p.alert(t.data.message,"success"),_()):(o.close("closed"),p.alert(t.data.message,"warning"),_())})},l.close=function(){o.close("closed")}}var o=a.open({templateUrl:"/transferContent.html",controller:l,size:"md"});l.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams"]}}angular.module("angle").controller("MstMarketingCompletedCallSummaryController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g,_){function f(){var t={marketingcall_gid:M},a="api/Marketing/GetMarketingCallAssignedView";c.getparams(a,t).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.txtentity_name=t.data.entity_name,e.txtsourceofcontact_name=t.data.sourceofcontact_name,e.txtcallreceivednumber_name=t.data.callreceivednumber_name,e.txtcustomer_type=t.data.leadrequesttype_name,e.txtcallreceived_date=t.data.callreceived_date,e.txtcaller_name=t.data.caller_name,e.txtinternalreference_name=t.data.internalreference_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtcalltype_name=t.data.calltype_name,e.txtfunction_name=t.data.function_name,e.txtfunction_remarks=t.data.function_remarks,e.txttat_hours=t.data.tat_hours,e.txtrequirement=t.data.requirement,e.txtenquiry_description=t.data.enquiry_description,e.txtcallclosure_status=t.data.callclosure_status,e.txtassignemployee_name=t.data.assignemployee_name,e.txttagemployee_name=t.data.tagemployee_name,e.txtassignclosure_remarks=t.data.assignclosure_remarks,e.txtcompleted_by=t.data.completed_by,e.txtcompleted_date=t.data.completed_date,e.txtcompleted_remarks=t.data.completed_remarks,e.ibcalladdress_list=t.data.MarketingCalladdress_list,e.txtprimary_mobileno=t.data.primary_mobileno,e.ibcallmobileno_list=t.data.MarketingCallmobileno_list,e.txtprimary_email=t.data.primary_email,e.ibcallemail_list=t.data.MarketingCallemail_list,e.ibcallfollowup_list=t.data.MarketingCallfollowup_list,e.ibcalltransfer_list=t.data.MarketingCalltransfer_list,e.ibcalltaggedmember_list=t.data.MarketingCalltaggedmember_list,e.txtloanproduct_name=t.data.loanproduct_name,e.txtloansubproduct_name=t.data.loansubproduct_name,e.txtloan_amount=t.data.loan_amount,e.txtbase_location=t.data.baselocation_name,e.origination=t.data.origination,e.txtleadrequire_name=t.data.leadrequire_name,e.txtmilletrequire_name=t.data.milletrequire_name,e.txtenquiryrequire_name=t.data.enquiryrequire_name,e.txtstartuprequire_name=t.data.startuprequire_name,e.txtbusiness_name=t.data.business_name,e.txtindustry_name=t.data.industry_name,unlockUI()});var a="api/Marketing/MarketingCallProofDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.lsfilename1=t.data.filename,e.lsfilepath1=t.data.filepath,e.Uploadcallproofdocument_list=t.data.callproofupload_list,unlockUI()});var a="api/Marketing/MarketingCallRecordingDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.Uploadcallrecordingdocument_list=t.data.callproofupload_list,unlockUI()});var a="api/Marketing/GetMarketingCallLeadstatusList";lockUI(),c.getparams(a,t).then(function(t){e.MarketingCallLeadstatus_list=t.data.MarketingCallLeadstatus_list,unlockUI()});var a="api/Marketing/GetDocumentList";c.getparams(a,t).then(function(t){e.lsfilename=t.data.filename,e.lsfilepath=t.data.filepath,e.document_list=t.data.document_list});var a="api/Marketing/GetMilletDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.milletdocument_list=t.data.milletdocument_list});var a="api/Marketing/GetEnquiryDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.enquirydocument_list=t.data.enquirydocument_list})}var k=this;k.title="MstMarketingCompletedViewController";var y=_.decryptURL(u.search().hash),M=y.lsmarketingcall_gid;f(),lockUI(),e.download_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.document_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_allmillet=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.download_allenquiry=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.downloads_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.milletdocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.enquirydocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.rec_downloads=function(t,e){g.Downloaddocument(t,e)},e.recproof_downloads=function(t,e){g.Downloaddocument(t,e)},e.documentviewer=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewermillet=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewerenquiry=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewerupload=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.Back=function(){u.url("app/MstMarketingCompletedCall")}}angular.module("angle").controller("MstMarketingCompletedViewController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g,_){function f(){e.cbotagemployee=[],v.calender1=function(t){t.preventDefault(),t.stopPropagation(),v.open1=!0},v.calender2=function(t){t.preventDefault(),t.stopPropagation(),v.open2=!0},v.formats=["dd-MM-yyyy"],v.format=v.formats[0],v.dateOptions={formatYear:"yy",startingDay:1},e.cbointernal_reference="NA",e.minDate=new Date;var t=new Date,a=(t.getDate()+"-"+(t.getMonth()+1)+"-"+t.getFullYear(),"api/Marketing/MarketingCallTempClear");c.get(a).then(function(t){});var n={marketingcall_gid:e.marketingcall_gid},a="api/Marketing/GetEntity";c.get(a).then(function(t){e.entity_list=t.data.inboundentity_list});var a="api/employee/Employee";c.get(a).then(function(t){e.employee_list=t.data.employee_list});var a="api/Marketing/GetMarketingSourceofContact";c.get(a).then(function(t){e.sourceofcontact_list=t.data.MarketingSourceofContact_list});var a="api/Marketing/GetMarketingCallReceivedNumber";c.get(a).then(function(t){e.callreceivednumber_list=t.data.MarketingCallReceivedNumber_list});var a="api/Marketing/GetMarketingCallType";c.get(a).then(function(t){e.calltype_list=t.data.MarketingCallType_list});var a="api/Marketing/GetMarketingTelecallingFunction";c.get(a).then(function(t){e.telecallingfunction_list=t.data.MarketingTelecallingFunction_list});var a="api/Marketing/GetLeadRequestType";c.get(a).then(function(t){e.leadrequesttype_list=t.data.leadrequest_list});var a="api/MarMstMilletRequire/GetMilletRequire";c.get(a).then(function(t){e.milletrequire_list=t.data.milletrequire_list});var a="api/MarMstLeadRequire/GetLeadRequire";c.get(a).then(function(t){e.leadrequire_list=t.data.leadrequire_list});var a="api/MstEnquiryRequire/GetEnquiryRequire";c.get(a).then(function(t){e.enquiryrequire_list=t.data.enquiryrequire_list});var a="api/MstStartupRequire/GetStartupRequire";c.get(a).then(function(t){e.startuprequire_list=t.data.startuprequire_list});var a="api/Marketing/MarketingCallMobileNoList";c.getparams(a,n).then(function(t){e.ibcallmobileno_list=t.data.MarketingCallmobileno_list});var a="api/Marketing/MarketingCallEmailList";c.getparams(a,n).then(function(t){e.ibcallemail_list=t.data.MarketingCallemail_list});var a="api/Marketing/MarketingCallAddressList";c.getparams(a,n).then(function(t){e.ibcalladdress_list=t.data.MarketingCalladdress_list});var a="api/Marketing/MarketingCallFollowUpList";c.getparams(a,n).then(function(t){e.ibcallfollowup_list=t.data.marketingcallfollowup_list});var a="api/Marketing/GetDocumentList";c.getparams(a,n).then(function(t){e.lsfilename=t.data.filename,e.lsfilepath=t.data.filepath,e.document_list=t.data.document_list});var a="api/Marketing/GetMilletDocumentList";c.getparams(a,n).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.milletdocument_list=t.data.milletdocument_list});var a="api/Marketing/GetEnquiryDocumentList";c.getparams(a,n).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.enquirydocument_list=t.data.enquirydocument_list});var a="api/Marketing/EditMarketingCall";lockUI(),c.getparams(a,n).then(function(t){if(e.txtticket_refid=t.data.ticket_refid,e.cboentity=t.data.entity_gid,e.cbosourceofcontact=t.data.marketingsourceofcontact_gid,e.cboleadrequesttype=t.data.leadrequesttype_gid,e.cbocallreceivednumber=t.data.marketingcallreceivednumber_gid,e.cbocustomer_type=t.data.customer_type,e.txtcallreceived_date=t.data.callreceived_date,e.origination=t.data.origination,e.txtcaller_name=t.data.caller_name,e.cbointernalreference=t.data.internalreference_gid,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtbase_location=t.data.baselocation_name,e.cbocalltype=t.data.marketingcalltype_gid,e.cbofunction=t.data.marketingfunction_gid,e.txtfunction_remarks=t.data.function_remarks,e.txtrequirement=t.data.requirement,e.txtenquiry_description=t.data.enquiry_description,e.cbocallclosure_status=t.data.callclosure_status,e.cboassignemployee=t.data.assignemployee_gid,e.txttat_hours=t.data.tat_hours,e.cboleadrequirename=t.data.leadrequire_gid,e.cbomilletrequirename=t.data.milletrequire_gid,e.cboenquiryrequirename=t.data.enquiryrequire_gid,e.cbostartuprequirename=t.data.startuprequire_gid,e.txtbusiness_name=t.data.business_name,e.emp_list=t.data.emp_list,null!=t.data.tagemployee_list)for(var a=t.data.tagemployee_list.length,n=0;n<a;n++){var l=e.emp_list.map(function(t){return t.employee_gid}).indexOf(t.data.tagemployee_list[n].employee_gid);e.cbotagemployee.push(e.emp_list[l]),e.$parent.cbotagemployee=e.cbotagemployee}e.txtassignclosure_remarks=t.data.assignclosure_remarks,"Incomplete"==t.data.marketingcall_status?(e.ibcallSubmit=!0,e.ibcallUpdate=!1):(e.ibcallSubmit=!1,e.ibcallUpdate=!0),"Others"==t.data.function_name?e.function_show=!0:e.function_show=!1,unlockUI()})}function k(){var t="api/Marketing/GetMarketingCallAddressList";c.get(t).then(function(t){e.ibcalladdress_list=t.data.MarketingCalladdress_list})}function y(){var t={marketingcall_gid:e.marketingcall_gid},a="api/Marketing/MarketingCallAddressTempList";c.getparams(a,t).then(function(t){e.ibcalladdress_list=t.data.MarketingCalladdress_list})}function M(){var t={marketingcall_gid:e.marketingcall_gid},a="api/Marketing/MarketingCallMobileNoTempList";c.getparams(a,t).then(function(t){e.ibcallmobileno_list=t.data.MarketingCallmobileno_list})}function b(){var t={marketingcall_gid:e.marketingcall_gid},a="api/Marketing/MarketingCallEmailTempList";c.getparams(a,t).then(function(t){e.ibcallemail_list=t.data.MarketingCallemail_list})}function w(){var t={marketingcall_gid:e.marketingcall_gid},a="api/Marketing/MarketingCallFollowUpTempList";c.getparams(a,t).then(function(t){e.ibcallfollowup_list=t.data.MarketingCallfollowup_list})}var v=this;v.title="MstMarketingEditController";var h=_.decryptURL(u.search().hash);e.marketingcall_gid=h.lsmarketingcall_gid,f(),e.changefunctionstatus=function(t){"Others"==$("#function :selected").text()?e.function_show=!0:e.function_show=!1},e.auditname_change=function(t){var a={employee_gid:e.cboassignemployee},n="api/Marketing/GetBaselocation";c.getparams(n,a).then(function(t){e.employee_gid=t.data.employee_gid,e.txtbase_location=t.data.baselocation_name})},e.documentviewer=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewermillet=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewerenquiry=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.back=function(){u.url("app/MstMarketingSummary")},e.save=function(){var t=$("#entity :selected").text(),a=$("#sourceofcontact :selected").text(),n=$("#leadrequesttype :selected").text(),l=$("#callreceivednumber :selected").text(),o=$("#internalreference :selected").text(),i=$("#calltype :selected").text(),r=$("#function :selected").text(),d=$("#assignemployee :selected").text(),m=e.cbotagemployee;if(m==[void 0]);else{e.cbotagemployee}var p={entity_name:t,entity_gid:e.cboentity,marketingsourceofcontact_name:a,marketingsourceofcontact_gid:e.cbosourceofcontact,marketingcallreceivednumber_name:l,marketingcallreceivednumber_gid:e.cbocallreceivednumber,leadrequesttype_name:n,leadrequesttype_gid:e.cboleadrequesttype,customer_type:e.cbocustomer_type,callreceived_date:e.txtcallreceived_date,caller_name:e.txtcaller_name,internalreference_name:o,internalreference_gid:e.cbointernalreference,callerassociate_company:e.txtcallerassociate_company,office_landlineno:e.txtoffice_landlineno,marketingcalltype_name:i,marketingcalltype_gid:e.cbocalltype,marketingfunction_name:r,marketingfunction_gid:e.cbofunction,function_remarks:e.txtfunction_remarks,requirement:e.txtrequirement,enquiry_description:e.txtenquiry_description,callclosure_status:e.cbocallclosure_status,assignemployee_name:d,assignemployee_gid:e.cboassignemployee,tat_hours:e.txttat_hours,baselocation_name:e.txtbase_location,tagemployee_list:e.cbotagemployee,assignclosure_remarks:e.txtassignclosure_remarks,marketingcall_gid:e.marketingcall_gid},g="api/Marketing/MarketingCallEditSave";lockUI(),c.post(g,p).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),u.url("app/MstMarketingSummary")):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.submit=function(){var t=$("#entity :selected").text(),a=$("#sourceofcontact :selected").text(),n=$("#callreceivednumber :selected").text(),l=$("#leadrequesttype :selected").text(),o=$("#internalreference :selected").text(),i=$("#calltype :selected").text(),r=$("#function :selected").text(),d=$("#assignemployee :selected").text(),m=e.cbotagemployee;if(m==[void 0]);else{e.cbotagemployee}var p={entity_name:t,entity_gid:e.cboentity,marketingsourceofcontact_name:a,marketingsourceofcontact_gid:e.cbosourceofcontact,marketingcallreceivednumber_name:n,marketingcallreceivednumber_gid:e.cbocallreceivednumber,leadrequesttype_name:l,leadrequesttype_gid:e.cboleadrequesttype,customer_type:e.cbocustomer_type,callreceived_date:e.txtcallreceived_date,caller_name:e.txtcaller_name,internalreference_name:o,internalreference_gid:e.cbointernalreference,callerassociate_company:e.txtcallerassociate_company,office_landlineno:e.txtoffice_landlineno,marketingcalltype_name:i,marketingcalltype_gid:e.cbocalltype,marketingfunction_name:r,marketingfunction_gid:e.cbofunction,function_remarks:e.txtfunction_remarks,requirement:e.txtrequirement,enquiry_description:e.txtenquiry_description,callclosure_status:e.cbocallclosure_status,assignemployee_name:d,assignemployee_gid:e.cboassignemployee,tat_hours:e.txttat_hours,baselocation_name:e.txtbase_location,tagemployee_list:e.cbotagemployee,assignclosure_remarks:e.txtassignclosure_remarks,marketingcall_gid:e.marketingcall_gid},g="api/Marketing/MarketingCallEditSubmit";lockUI(),c.post(g,p).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),u.url("app/MstMarketingSummary")):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.update=function(){var t=$("#entity :selected").text(),a=$("#sourceofcontact :selected").text(),n=$("#callreceivednumber :selected").text(),l=$("#leadrequesttype :selected").text(),o=$("#internalreference :selected").text(),i=$("#calltype :selected").text(),r=$("#function :selected").text(),d=$("#assignemployee :selected").text(),m=$("#leadrequire :selected").text(),p=$("#milletrequire :selected").text(),g=$("#enquiryrequire_name :selected").text(),_=$("#startuprequire_name :selected").text(),f=e.cbotagemployee;if(f==[void 0]);else{e.cbotagemployee}if("Assign"!=e.cbocallclosure_status||null!=e.cboassignemployee&&""!=e.cboassignemployee||s.alert("Kindly Select Assign Employee Name","warning"),"Assign"!=e.cbocallclosure_status&&"Follow Up"!=e.cbocallclosure_status||null!=e.txtassignclosure_remarks&&""!=e.txtassignclosure_remarks)if("Rejected"!=e.cbocallclosure_status||null!=e.txtclosure_remarks&&""!=e.txtclosure_remarks){var k={entity_name:t,entity_gid:e.cboentity,marketingsourceofcontact_name:a,marketingsourceofcontact_gid:e.cbosourceofcontact,marketingcallreceivednumber_name:n,marketingcallreceivednumber_gid:e.cbocallreceivednumber,leadrequesttype_name:l,leadrequesttype_gid:e.cboleadrequesttype,customer_type:e.cbocustomer_type,callreceived_date:e.txtcallreceived_date,caller_name:e.txtcaller_name,internalreference_name:o,internalreference_gid:e.cbointernalreference,callerassociate_company:e.txtcallerassociate_company,office_landlineno:e.txtoffice_landlineno,marketingcalltype_name:i,
marketingcalltype_gid:e.cbocalltype,marketingfunction_name:r,marketingfunction_gid:e.cbofunction,function_remarks:e.txtfunction_remarks,requirement:e.txtrequirement,enquiry_description:e.txtenquiry_description,callclosure_status:e.cbocallclosure_status,assignemployee_name:d,assignemployee_gid:e.cboassignemployee,tat_hours:e.txttat_hours,baselocation_name:e.txtbase_location,tagemployee_list:e.cbotagemployee,assignclosure_remarks:e.txtassignclosure_remarks,closed_remarks:e.txtclosure_remarks,leadrequire_name:m,leadrequire_gid:e.cboleadrequirename,milletrequire_name:p,milletrequire_gid:e.cbomilletrequirename,milletrequire_name:p,milletrequire_gid:e.cbomilletrequirename,enquiryrequire_name:g,enquiryrequire_gid:e.cboenquiryrequirename,startuprequire_name:_,startuprequire_gid:e.cbostartuprequirename,business_name:e.txtbusiness_name,industry_name:e.txtindustry_name,marketingcall_gid:e.marketingcall_gid},y="api/Marketing/MarketingCallEditUpdate";lockUI(),c.post(y,k).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),u.url("app/MstMarketingSummary")):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}else s.alert("Kindly Enter Remark","warning");else s.alert("Kindly Enter Remark","warning")},e.address_add=function(){function t(t,e){t.geocodingFailed=!1;var a="api/AddressType/GetAddressTypeASC";c.get(a).then(function(e){t.addresstype_list=e.data.addresstype_list}),t.ok=function(){e.close("closed")},t.onchangepostal_code=function(){var e={postal_code:t.txtpostal_code},a="api/Mstbuyer/GetPostalCodeDetails";c.getparams(a,e).then(function(e){t.txtcity=e.data.city,t.txttaluka=e.data.taluka,t.txtdistrict=e.data.district,t.txtstate=e.data.state_name})},t.getGeoCoding=function(){if(void 0==t.txtpostal_code||t.txtpostal_code.length<6)t.txtlatitude="",t.txtlongitude="";else{if(void 0==t.txtaddressline2)var e="".concat(t.txtaddressline1.toString(),",",t.txtpostal_code.toString());else var e="".concat(t.txtaddressline1.toString(),",",t.txtaddressline2.toString(),",",t.txtpostal_code.toString());var a={address:e},n="api/GoogleMapsAPI/GetGeoCoding";c.getparams(n,a).then(function(e){"OK"==e.data.status?(t.txtlatitude=e.data.results[0].geometry.location.lat.toString(),t.txtlongitude=e.data.results[0].geometry.location.lng.toString(),t.geocodingFailed=!1):"ZERO_RESULTS"==e.data.status&&(t.geocodingFailed=!0)})}},t.txtcountry="India",t.addressSubmit=function(){var a={addresstype_gid:t.cboaddresstype.address_gid,addresstype_name:t.cboaddresstype.address_type,primary_status:t.rdbprimaryaddress,addressline1:t.txtaddressline1,addressline2:t.txtaddressline2,postal_code:t.txtpostal_code,landmark:t.txtLand_Mark,taluka:t.txttaluka,city:t.txtcity,state:t.txtstate,district:t.txtdistrict,country:t.txtcountry,latitude:t.txtlatitude,longitude:t.txtlongitude},n="api/Marketing/PostMarketingCallAddress";lockUI(),c.post(n,a).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),k()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})}),e.close("closed")}}a.open({templateUrl:"/addaddress.html",controller:t,backdrop:"static",keyboard:!1,size:"lg"});t.$inject=["$scope","$modalInstance"]},e.address_delete=function(t){var e={marketingcall2address_gid:t},a="api/Marketing/MarketingCallAddressDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),y()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.address_edit=function(t){function e(t,e){var a="api/AddressType/GetAddressTypeASC";c.get(a).then(function(e){t.addresstype_list=e.data.addresstype_list});var n={inboundcall2address_gid:inboundcall2address_gid},a="api/Marketing/EditMarketingCallAddress";c.getparams(a,n).then(function(e){t.cboAddressType=e.data.addresstype_gid,t.rdbprimary_status=e.data.primary_status,t.txtaddressline1=e.data.addressline1,t.txtaddressline2=e.data.addressline2,t.txtlandmark=e.data.landmark,t.txtpostal_code=e.data.postal_code,t.txtcity=e.data.city,t.txttaluka=e.data.taluka,t.txtdistrict=e.data.district,t.txtstate=e.data.state,t.txtcountry=e.data.country,t.txtlatitude=e.data.latitude,t.txtlongitude=e.data.longitude}),t.ok=function(){e.close("closed")},t.txtcountry="India",t.address_update=function(){var a=$("#address_type :selected").text(),n={addresstype_gid:t.cboAddressType,addresstype_name:a,primary_status:t.rdbprimary_status,addressline1:t.txtaddressline1,addressline2:t.txtaddressline2,postal_code:t.txtpostal_code,taluka:t.txttaluka,city:t.txtcity,district:t.txtdistrict,state:t.txtstate,country:t.txtcountry,latitude:t.txtlatitude,longitude:t.txtlongitude,inboundcall2address_gid:inboundcall2address_gid,marketingcall_gid:t.marketingcall_gid},l="api/Marketing/UpdateMarketingCallAddress";lockUI(),c.post(l,n).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),y()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})}),e.close("closed")}}a.open({templateUrl:"/editinboundcalladdress.html",controller:e,backdrop:"static",keyboard:!1,size:"lg"});e.$inject=["$scope","$modalInstance"]},e.StaticMapAndPhotos_View=function(t,e,n,l,o){function i(a,i){var r={latitude:t,longitude:e},s="api/GoogleMapsAPI/GetStaticMapUrl";if(c.getparams(s,r).then(function(t){a.staticmapImgUrl=t.data}),""==l)var u="".concat(n.toString(),",",o.toString());else var u="".concat(n.toString(),",",l.toString(),",",o.toString());var r={address:u},s="api/GoogleMapsAPI/GetPlaceImage";c.getparams(s,r).then(function(t){for(var e=[],n=0;n<t.data.length;n++)null!=t.data[n]&&(e[n]=t.data[n]);0==e.length?a.photoNotFound=!0:(a.photoUrlList=e,a.photoFound=!0)}),a.ok=function(){i.close("closed")}}a.open({templateUrl:"/StaticMapAndPhotosView.html",controller:i,backdrop:"static",keyboard:!1,size:"lg"});i.$inject=["$scope","$modalInstance"]},e.add_mobileno=function(){if(void 0==e.txtmobile_no||""==e.txtmobile_no||void 0==e.rdbprimary_status||void 0==e.rdbwhatsapp_status||void 0==e.rdbsms_to||""==e.rdbprimary_status||""==e.rdbwhatsapp_status||""==e.rdbsms_to)s.alert("Enter Mobile Number / Select Primary Status","warning");else if(e.txtmobile_no.length<10)s.alert("Enter 10 Digit Mobile Number","warning");else{var t={mobile_no:e.txtmobile_no,primary_status:e.rdbprimary_status,whatsapp_status:e.rdbwhatsapp_status,sms_to:e.rdbsms_to,marketingcall_gid:e.marketingcall_gid},a="api/Marketing/PostMarketingCallMobileNo";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),M(),e.txtmobile_no="",e.rdbprimary_status="",0==e.rdbprimary_status,e.rdbsms_to="",0==e.rdbsms_to,e.rdbwhatsapp_status="",0==e.rdbwhatsapp_status):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}},e.delete_mobileno=function(t){var e={marketingcall2mobileno_gid:t},a="api/Marketing/MarketingCallMobileNoDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),M()})},e.edit_mobileno=function(t){function e(e,a){var n={marketingcall2mobileno_gid:t},l="api/Marketing/EditMarketingCallMobileNo";c.getparams(l,n).then(function(t){e.txteditmobile_no=t.data.mobile_no,e.rdbeditprimary_status=t.data.primary_status,e.rdbeditwhatsapp_status=t.data.whatsapp_status,e.rdbeditsms_to=t.data.sms_to}),e.ok=function(){a.close("closed")},e.update_mobileno=function(){var n={mobile_no:e.txteditmobile_no,primary_status:e.rdbeditprimary_status,whatsapp_status:e.rdbeditwhatsapp_status,sms_to:e.rdbeditsms_to,marketingcall2mobileno_gid:t,marketingcall_gid:e.marketingcall_gid},l="api/Marketing/UpdateMarketingCallMobileNo";lockUI(),c.post(l,n).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),M()}),a.close("closed")}}a.open({templateUrl:"/editinboundcallmobileno.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.add_emailaddress=function(){if(void 0==e.txtemail_address||""==e.txtemail_address||void 0==e.rdbprimary_email||""==e.rdbprimary_email)s.alert("Enter Email Address/Select Status","warning");else{var t={email_address:e.txtemail_address,primary_status:e.rdbprimary_email,marketingcall_gid:e.marketingcall_gid},a="api/Marketing/PostMarketingCallEmail";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),b(),e.txtemail_address="",e.rdbprimary_email="",0==e.rdbprimary_email):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}},e.delete_emailaddress=function(t){var e={marketingcall2email_gid:t},a="api/Marketing/MarketingCallEmailDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),b()})},e.edit_emailaddress=function(t){function e(e,a){var n={marketingcall2email_gid:t},l="api/Marketing/EditMarketingCallEmail";c.getparams(l,n).then(function(t){e.txteditemail_address=t.data.email_address,e.rdbeditprimary_status=t.data.primary_status}),e.ok=function(){a.close("closed")},e.update_emailaddress=function(){var t={email_address:e.txteditemail_address,primary_status:e.rdbeditprimary_status,inboundcall2email_gid:inboundcall2email_gid,marketingcall_gid:e.marketingcall_gid},n="api/Marketing/UpdateMarketingCallEmail";lockUI(),c.post(n,t).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),b()}),a.close("closed")}}a.open({templateUrl:"/editinboundcallemail.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.add_followup=function(){if(void 0==e.txtfollowup_date||""==e.txtfollowup_date||void 0==e.txtfollowup_time||""==e.txtfollowup_time)s.alert("Enter Follow Up Date/Follow Up Time","warning");else{var t={followup_date:e.txtfollowup_date,followup_time:e.txtfollowup_time},a="api/Marketing/PostMarketingCallFollowUp";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txtfollowup_date="",w(),e.txtfollowup_date="",e.txtfollowup_time=""})}},e.delete_followup=function(t){var e={marketingcall2followup_gid:t},a="api/Marketing/MarketingCallFollowUpDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),w()})},e.edit_followup=function(t){function e(e,a){var n={marketingcall2followup_gid:t},l="api/Marketing/EditMarketingCallFollowUp";c.getparams(l,n).then(function(t){e.txteditfollowup_date=new Date(t.data.followup_date),"0001-01-01T00:00:00"==t.data.Tfollowup_time?e.txteditfollowup_time="":e.txteditfollowup_time=new Date(t.data.Tfollowup_time)}),e.ok=function(){a.close("closed")},e.update_followup=function(){var n={followup_date:e.txteditfollowup_date,followup_time:e.txteditfollowup_time,marketingcall2followup_gid:t,marketingcall_gid:e.marketingcall_gid},l="api/Marketing/UpdateMarketingCallFollowUp";lockUI(),c.post(l,n).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),w()}),a.close("closed")}}a.open({templateUrl:"/editinboundcallfollowup.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.download_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.document_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_allmillet=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.milletdocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_allenquiry=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.enquirydocument_downloads=function(t,e){g.Downloaddocument(t,e)}}angular.module("angle").controller("MstMarketingEditController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){var t="api/Marketing/GetFollowUpMarketingCallSummary";c.get(t).then(function(t){e.ibcall_list=t.data.MarketingCall_list,unlockUI()});var t="api/Marketing/MarketingCallCount";c.get(t).then(function(t){e.unassignedcall_count=t.data.unassignedcall_count,e.assignedcall_count=t.data.assignedcall_count,e.completedcall_count=t.data.completedcall_count,e.followupcall_count=t.data.followupcall_count,e.closedcall_count=t.data.closedcall_count,e.rejectedcall_count=t.data.rejectedcall_count,unlockUI()})}var f=this;f.title="MstMarketingFollowupCallController",_(),lockUI(),e.addinbound=function(){u.url("app/MstMarketingAdd")},e.closedcall=function(){u.url("app/MstMarketingClosedCall")},e.followupcall=function(){u.url("app/MstMarketingFollowupCall")},e.assignedcall=function(){u.url("app/MstMarketingSummary")},e.unassignedcall=function(){u.url("app/MstMarketingUnassignedLeadSummary")},e.completedcall=function(){u.url("app/MstMarketingCompletedCall")},e.rejectedcall=function(){u.url("app/MstMarketingRejectedCallSummary")},e.view=function(t){u.url("app/MstMarketingFollowupCallView?hash="+g.encryptURL("marketingcall_gid="+t))},e.transfer=function(t){function e(e,a,l,o,i,r,c,s,u,d,m,p,g){var f={marketingcall_gid:t},k="api/Marketing/MarketingCallDetailsForTransfer";u.getparams(k,f).then(function(t){a.marketingcall_gid=t.data.marketingcall_gid,a.ticket_refid=t.data.ticket_refid,a.assignemployee_gid=t.data.assignemployee_gid,a.assignemployee_name=t.data.assignemployee_name,a.ibcalltransfer_list=t.data.MarketingCalltransfer_list});var k="api/OsdTrnCustomerQueryMgmt/TransferEmployee";u.get(k).then(function(t){a.TransferEmployeeList=t.data.TransferEmployeeList,unlockUI()}),a.transfer_call=function(){if(void 0==a.cboTransferTo)return n.close("closed"),void d.alert("Kindly Select the Transfer to Person","warning");var t={marketingcall_gid:a.marketingcall_gid,ticket_refid:a.ticket_refid,transferfrom_gid:a.assignemployee_gid,transferfrom_name:a.assignemployee_name,transferto_gid:a.cboTransferTo,transferto_name:$("#transfer_to :selected").text(),transfer_remarks:a.transfer_remarks},e="api/Marketing/MarketingCallTransferEmployee";lockUI(),u.post(e,t).then(function(t){unlockUI(),(t.data.status=!0)?(n.close("closed"),d.alert(t.data.message,"success"),_()):(n.close("closed"),d.alert(t.data.message,"warning"),_())})},a.close=function(){n.close("closed")}}var n=a.open({templateUrl:"/transferContent.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams"]}}angular.module("angle").controller("MstMarketingFollowupCallController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p){function g(){var t="api/Marketing/MarketingCallCount";c.get(t).then(function(t){e.assignedcall_count=t.data.assignedcall_count,e.completedcall_count=t.data.completedcall_count,e.followupcall_count=t.data.followupcall_count,e.closedcall_count=t.data.closedcall_count,unlockUI()})}var _=this;_.title="MstMarketingFollowupCallsController",g(),lockUI(),e.addinbound=function(){u.url("app/MstMarketingAdd")},e.closedcall=function(){u.url("app/MstMarketingClosedCall")},e.followupcall=function(){u.url("app/MstMarketingFollowupCall")},e.assignedcall=function(){u.url("app/MstMarketingSummary")},e.completedcall=function(){u.url("app/MstMarketingCompletedCall")},e.view=function(t){u.url("app/MstMarketingFollowupCallView?marketingcall_gid="+t)},e.transfer=function(t){function e(e,a,l,o,i,r,c,s,u,d,m,p,_){var f={marketingcall_gid:t},k="api/Marketing/MarketingCallDetailsForTransfer";u.getparams(k,f).then(function(t){a.marketingcall_gid=t.data.marketingcall_gid,a.ticket_refid=t.data.ticket_refid,a.assignemployee_gid=t.data.assignemployee_gid,a.assignemployee_name=t.data.assignemployee_name,a.ibcalltransfer_list=t.data.ibcalltransfer_list});var k="api/OsdTrnCustomerQueryMgmt/TransferEmployee";u.get(k).then(function(t){a.TransferEmployeeList=t.data.TransferEmployeeList,unlockUI()}),a.transfer_call=function(){if(void 0==a.cboTransferTo)return n.close("closed"),void d.alert("Kindly Select the Transfer to Person","warning");var t={marketingcall_gid:a.marketingcall_gid,ticket_refid:a.ticket_refid,transferfrom_gid:a.assignemployee_gid,transferfrom_name:a.assignemployee_name,transferto_gid:a.cboTransferTo,transferto_name:$("#transfer_to :selected").text(),transfer_remarks:a.transfer_remarks},e="api/Marketing/MarketingCallTransferEmployee";lockUI(),u.post(e,t).then(function(t){unlockUI(),(t.data.status=!0)?(n.close("closed"),d.alert(t.data.message,"success"),g()):(n.close("closed"),d.alert(t.data.message,"warning"),g())})},a.close=function(){n.close("closed")}}var n=a.open({templateUrl:"/transferContent.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams"]}}angular.module("angle").controller("MstMarketingFollowupCallsController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){var t="api/Marketing/GetEmpFollowUpMarketingCallSummary";c.get(t).then(function(t){e.ibcallfollowup_list=t.data.MarketingCall_list,unlockUI()});var t="api/Marketing/EmployeeMarketingCallCount";c.get(t).then(function(t){e.assignedcall_count=t.data.assignedcall_count,e.transfercall_count=t.data.transfercall_count,e.completedcall_count=t.data.completedcall_count,e.inprogresscall_count=t.data.inprogresscall_count,e.tagmember_count=t.data.taggedcall_count,e.followupcall_count=t.data.followupcall_count,e.rejectedcall_count=t.data.rejectedcall_count,e.closedcall_count=t.data.closedcall_count,unlockUI()})}var f=this;f.title="MstMarketingFollowUpCallSummaryController",_(),lockUI(),e.closedcall=function(){u.url("app/MstMarketingMyleadsClosedCall")},e.myassigned_calls=function(){u.url("app/MstMarketingMyAssignedCallSummary")},e.tag_member=function(){u.url("app/MstMarketingTaggedMemberSummary")},e.transfer_calls=function(){u.url("app/MstMarketingTransferCallSummary")},e.completed_calls=function(){u.url("app/MstMarketingCompletedCallSummary")},e.call_response=function(t){u.url("app/MstMarketingCallResponse?hash="+g.encryptURL("marketingcall_gid="+t))},e.view=function(t){u.url("app/MstMarketingAssignedFollowupLeadsView?hash="+g.encryptURL("marketingcall_gid="+t+"&lspage=MyFollowUpLead"))},e.edit=function(t){u.url("app/MstMarketingEdit?hash="+g.encryptURL("marketingcall_gid="+t))},e.work_inprogress=function(){u.url("app/MstMarketingWorkInprogressCallSummary")},e.followup_call=function(){u.url("app/MstMarketingFollowUpCallSummary")},e.mbdrejected_calls=function(){u.url("app/MstMarketingMBDRejectedCallSummary")},e.transfer=function(t){function e(e,a,l,o,i,r,c,s,u,d,m,p,g){var f={marketingcall_gid:t},k="api/Marketing/MarketingDetailsForTransfer";u.getparams(k,f).then(function(t){a.marketingcall_gid=t.data.marketingcall_gid,a.ticket_refid=t.data.ticket_refid,a.assignemployee_gid=t.data.assignemployee_gid,a.assignemployee_name=t.data.assignemployee_name,a.ibcalltransfer_list=t.data.ibcalltransfer_list});var k="api/OsdTrnCustomerQueryMgmt/TransferEmployee";u.get(k).then(function(t){a.TransferEmployeeList=t.data.TransferEmployeeList,unlockUI()}),a.transfer_call=function(){if(void 0==a.cboTransferTo)return n.close("closed"),void d.alert("Kindly Select the Transfer to Person","warning");var t={marketingcall_gid:a.marketingcall_gid,ticket_refid:a.ticket_refid,transferfrom_gid:a.assignemployee_gid,transferfrom_name:a.assignemployee_name,transferto_gid:a.cboTransferTo,transferto_name:$("#transfer_to :selected").text(),transfer_remarks:a.transfer_remarks},e="api/Marketing/MarketingCallTransferEmployee";lockUI(),u.post(e,t).then(function(t){unlockUI(),(t.data.status=!0)?(n.close("closed"),d.alert(t.data.message,"success"),_()):(n.close("closed"),d.alert(t.data.message,"warning"),_())})},a.close=function(){n.close("closed")}}var n=a.open({templateUrl:"/transferContent.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams"]}}angular.module("angle").controller("MstMarketingFollowUpCallSummaryController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g,_){function f(){var t={marketingcall_gid:M},a="api/Marketing/GetMarketingCallAssignedView";c.getparams(a,t).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.txtentity_name=t.data.entity_name,e.txtsourceofcontact_name=t.data.sourceofcontact_name,e.txtcallreceivednumber_name=t.data.callreceivednumber_name,e.txtcustomer_type=t.data.leadrequesttype_name,e.txtcallreceived_date=t.data.callreceived_date,e.txtcaller_name=t.data.caller_name,e.txtinternalreference_name=t.data.internalreference_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtcalltype_name=t.data.calltype_name,e.txtfunction_name=t.data.function_name,e.txtfunction_remarks=t.data.function_remarks,e.txttat_hours=t.data.tat_hours,e.txtrequirement=t.data.requirement,e.txtenquiry_description=t.data.enquiry_description,e.txtcallclosure_status=t.data.callclosure_status,e.txtassignemployee_name=t.data.assignemployee_name,e.txttagemployee_name=t.data.tagemployee_name,e.txtassignclosure_remarks=t.data.assignclosure_remarks,e.ibcalladdress_list=t.data.MarketingCalladdress_list,e.txtprimary_mobileno=t.data.primary_mobileno,e.ibcallmobileno_list=t.data.MarketingCallmobileno_list,e.txtprimary_email=t.data.primary_email,e.ibcallemail_list=t.data.MarketingCallemail_list,e.extendcallfollowup_list=t.data.marketingcallextendfollowup_list,e.ibcallfollowup_list=t.data.MarketingCallfollowup_list,e.ibcalltransfer_list=t.data.MarketingCalltransfer_list,e.ibcalltaggedmember_list=t.data.MarketingCalltaggedmember_list,e.txtfollowup_date=t.data.followup_date,e.txtfollowup_by=t.data.followup_by,e.txtfollowup_remarks=t.data.followup_remarks,e.txtbase_location=t.data.baselocation_name,e.origination=t.data.origination,e.txtleadrequire_name=t.data.leadrequire_name,e.txtmilletrequire_name=t.data.milletrequire_name,e.txtenquiryrequire_name=t.data.enquiryrequire_name,e.txtstartuprequire_name=t.data.startuprequire_name,e.txtbusiness_name=t.data.business_name,e.txtindustry_name=t.data.industry_name,unlockUI()});var a="api/Marketing/GetDocumentList";c.getparams(a,t).then(function(t){e.lsfilename=t.data.filename,e.lsfilepath=t.data.filepath,e.document_list=t.data.document_list});var a="api/Marketing/GetMilletDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.milletdocument_list=t.data.milletdocument_list});var a="api/Marketing/GetEnquiryDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.enquirydocument_list=t.data.enquirydocument_list});var a="api/Marketing/MarketingCallProofDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.lsfilename1=t.data.filename,e.lsfilepath1=t.data.filepath,e.Uploadcallproofdocument_list=t.data.callproofupload_list,unlockUI()});var a="api/Marketing/MarketingCallRecordingDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.Uploadcallrecordingdocument_list=t.data.callproofupload_list,unlockUI()})}var k=this;k.title="MstMarketingFollowupCallViewController";var y=_.decryptURL(u.search().hash),M=y.marketingcall_gid;lockUI(),f(),e.download_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.document_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_allmillet=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.downloads_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.milletdocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.recproof_downloads=function(t,e){g.Downloaddocument(t,e)},e.documentviewer=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewermillet=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewerupload=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.Back=function(){u.url("app/MstMarketingFollowupCall")}}angular.module("angle").controller("MstMarketingFollowupCallViewController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p){function g(){var t={marketingcall_gid:f},a="api/Marketing/GetMarketingCallAssignedView";c.getparams(a,t).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.txtentity_name=t.data.entity_name,e.txtsourceofcontact_name=t.data.sourceofcontact_name,e.txtcallreceivednumber_name=t.data.callreceivednumber_name,e.txtcustomer_type=t.data.leadrequesttype_name,e.txtcallreceived_date=t.data.callreceived_date,e.txtcaller_name=t.data.caller_name,e.txtinternalreference_name=t.data.internalreference_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtcalltype_name=t.data.calltype_name,e.txtfunction_name=t.data.function_name,e.txtfunction_remarks=t.data.function_remarks,e.txttat_hours=t.data.tat_hours,e.txtrequirement=t.data.requirement,e.txtenquiry_description=t.data.enquiry_description,e.txtcallclosure_status=t.data.callclosure_status,e.txtassignemployee_name=t.data.assignemployee_name,e.txtassign_date=t.data.assign_date,e.txttagemployee_name=t.data.tagemployee_name,e.txtassignclosure_remarks=t.data.assignclosure_remarks,e.ibcalladdress_list=t.data.MarketingCalladdress_list,e.ibcallfollowup_list=t.data.MarketingCallfollowup_list,e.ibcalltransfer_list=t.data.MarketingCalltransfer_list,e.ibcalltaggedmember_list=t.data.MarketingCalltaggedmember_list,e.txtcompleted_by=t.data.completed_by,e.txtcompleted_date=t.data.completed_date,e.txtcompleted_remarks=t.data.completed_remarks,e.txtfollowup_date=t.data.followup_date,e.txtfollowup_time=t.data.followup_time,e.txtfollowup_by=t.data.followup_by,e.txtfollowup_remarks=t.data.followup_remarks,e.txtrejected_date=t.data.rejected_date,e.txtrejected_by=t.data.rejected_by,e.txtbase_location=t.data.baselocation_name,e.txtrejected_remarks=t.data.rejected_remarks,unlockUI()})}var _=this;_.title="MstMarketingManageRejectedCallViewController",e.marketingcall_gid=u.search().marketingcall_gid;var f=e.marketingcall_gid;e.lspage=u.search().lspage;e.lspage;g(),lockUI(),e.Back=function(){u.url("app/MstRejectedMarketingSummary")}}angular.module("angle").controller("MstMarketingManageRejectedCallViewController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p){function g(){var t="api/Marketing/GetEmpRejectedMarketingCallSummary";c.get(t).then(function(t){e.marketingcallcompleted_list=t.data.MarketingCall_list,unlockUI()});var t="api/Marketing/EmployeeMarketingCallCount";c.get(t).then(function(t){e.assignedcall_count=t.data.assignedcall_count,e.transfercall_count=t.data.transfercall_count,e.completedcall_count=t.data.completedcall_count,e.rejectedcall_count=t.data.rejectedcall_count,e.inprogresscall_count=t.data.inprogresscall_count,e.tagmember_count=t.data.taggedcall_count,e.followupcall_count=t.data.followupcall_count,e.closedcall_count=t.data.closedcall_count,unlockUI()})}var _=this;_.title="MstMarketingMBDRejectedCallSummaryController",g(),lockUI(),e.myassigned_calls=function(){u.url("app/MstMarketingMyAssignedCallSummary")},e.closedcall=function(){u.url("app/MstMarketingMyleadsClosedCall")},e.tag_member=function(){u.url("app/MstMarketingTaggedMemberSummary")},e.transfer_calls=function(){u.url("app/MstMarketingTransferCallSummary")},e.completed_calls=function(){u.url("app/MstMarketingCompletedCallSummary")},e.view=function(t){u.url("app/MstMarketingMBDRejectedCallView?marketingcall_gid="+t)},e.edit=function(t){u.url("app/MstMarketingEdit?marketingcall_gid="+t)},e.work_inprogress=function(){u.url("app/MstMarketingWorkInprogressCallSummary")},e.followup_call=function(){u.url("app/MstMarketingFollowUpCallSummary")},e.mbdrejected_calls=function(){u.url("app/MstMarketingMBDRejectedCallSummary")},e.transfer=function(t,e,n){function l(a,l,i,r,c,s,u,d,m,p,_,f,k){var y="api/OsdTrnCustomerQueryMgmt/TransferEmployee";m.get(y).then(function(t){l.TransferEmployeeList=t.data.TransferEmployeeList,unlockUI()}),l.marketingcall_gid=t,l.ticketref_no=e,l.assigned_to=n,l.transfercall=function(){if(void 0==l.transfer_to)return o.close("closed"),void p.alert("Kindly Select the Assign to Person","warning");var t={marketingcall_gid:l.marketingcall_gid,employee_gid:l.transfer_to,employee_name:$("#transfer_to :selected").text(),transfer_remarks:l.transfer_remarks},e="api/MstTelecalling/TicketTransfer";lockUI(),m.post(e,t).then(function(t){unlockUI(),(t.data.status=!0)?(o.close("closed"),p.alert(t.data.message,"success"),g()):(o.close("closed"),p.alert(t.data.message,"warning"),g())})},l.close=function(){o.close("closed")}}var o=a.open({templateUrl:"/transferContent.html",controller:l,size:"md"});l.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams"]}}angular.module("angle").controller("MstMarketingMBDRejectedCallSummaryController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";
function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p){function g(){var t={marketingcall_gid:f},a="api/Marketing/GetMarketingCallAssignedView";c.getparams(a,t).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.txtentity_name=t.data.entity_name,e.txtsourceofcontact_name=t.data.sourceofcontact_name,e.txtcallreceivednumber_name=t.data.callreceivednumber_name,e.txtcustomer_type=t.data.leadrequesttype_name,e.txtcallreceived_date=t.data.callreceived_date,e.txtcaller_name=t.data.caller_name,e.txtinternalreference_name=t.data.internalreference_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtcalltype_name=t.data.calltype_name,e.txtfunction_name=t.data.function_name,e.txtfunction_remarks=t.data.function_remarks,e.txttat_hours=t.data.tat_hours,e.txtrequirement=t.data.requirement,e.txtenquiry_description=t.data.enquiry_description,e.txtcallclosure_status=t.data.callclosure_status,e.txtassignemployee_name=t.data.assignemployee_name,e.txtassign_date=t.data.assign_date,e.txttagemployee_name=t.data.tagemployee_name,e.txtassignclosure_remarks=t.data.assignclosure_remarks,e.ibcalladdress_list=t.data.MarketingCalladdress_list,e.ibcallfollowup_list=t.data.MarketingCallfollowup_list,e.ibcalltransfer_list=t.data.MarketingCalltransfer_list,e.ibcalltaggedmember_list=t.data.MarketingCalltaggedmember_list,e.txtcompleted_by=t.data.completed_by,e.txtcompleted_date=t.data.completed_date,e.txtcompleted_remarks=t.data.completed_remarks,e.txtfollowup_date=t.data.followup_date,e.txtfollowup_time=t.data.followup_time,e.txtfollowup_by=t.data.followup_by,e.txtfollowup_remarks=t.data.followup_remarks,e.txtrejected_date=t.data.rejected_date,e.txtrejected_by=t.data.rejected_by,e.origination=t.data.origination,e.txtbase_location=t.data.baselocation_name,e.txtrejected_remarks=t.data.rejected_remarks,unlockUI()})}var _=this;_.title="MstMarketingMBDRejectedCallViewController",e.marketingcall_gid=u.search().marketingcall_gid;var f=e.marketingcall_gid;e.lspage=u.search().lspage;e.lspage;g(),lockUI(),e.Back=function(){u.url("app/MstMarketingMBDRejectedCallSummary")}}angular.module("angle").controller("MstMarketingMBDRejectedCallViewController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){var t="api/Marketing/GetEmpAssignedMarketingCallSummary";c.get(t).then(function(t){e.ibcall_list=t.data.MarketingCall_list,unlockUI()});var t="api/Marketing/EmployeeMarketingCallCount";c.get(t).then(function(t){e.assignedcall_count=t.data.assignedcall_count,e.transfercall_count=t.data.transfercall_count,e.completedcall_count=t.data.completedcall_count,e.rejectedcall_count=t.data.rejectedcall_count,e.inprogresscall_count=t.data.inprogresscall_count,e.tagmember_count=t.data.taggedcall_count,e.followupcall_count=t.data.followupcall_count,e.closedcall_count=t.data.closedcall_count,unlockUI()})}var f=this;f.title="MstMarketingMyAssignedCallSummaryController",_(),e.myassigned_calls=function(){u.url("app/MstMarketingMyAssignedCallSummary")},e.tag_member=function(){u.url("app/MstMarketingTaggedMemberSummary")},e.transfer_calls=function(){u.url("app/MstMarketingTransferCallSummary")},e.completed_calls=function(){u.url("app/MstMarketingCompletedCallSummary")},e.call_response=function(t){u.url("app/MstMarketingCallResponse?hash="+g.encryptURL("marketingcall_gid="+t))},e.view=function(t){u.url("app/MstMarketingAssignView?hash="+g.encryptURL("marketingcall_gid="+t))},e.edit=function(t){u.url("app/MstMarketingEdit?hash="+g.encryptURL("marketingcall_gid="+t))},e.work_inprogress=function(){u.url("app/MstMarketingWorkInprogressCallSummary")},e.followup_call=function(){u.url("app/MstMarketingFollowUpCallSummary")},e.mbdrejected_calls=function(){u.url("app/MstMarketingMBDRejectedCallSummary")},e.closedcall=function(){u.url("app/MstMarketingMyleadsClosedCall")},e.transfer=function(t){function e(e,a,l,o,i,r,c,s,u,d,m,p,g){var f={marketingcall_gid:t},k="api/Marketing/MarketingCallDetailsForTransfer";u.getparams(k,f).then(function(t){a.marketingcall_gid=t.data.marketingcall_gid,a.ticket_refid=t.data.ticket_refid,a.assignemployee_gid=t.data.assignemployee_gid,a.assignemployee_name=t.data.assignemployee_name,a.ibcalltransfer_list=t.data.MarketingCalltransfer_list});var k="api/OsdTrnCustomerQueryMgmt/TransferEmployee";u.get(k).then(function(t){a.TransferEmployeeList=t.data.TransferEmployeeList,unlockUI()}),a.transfer_call=function(){if(void 0==a.cboTransferTo)return n.close("closed"),void d.alert("Kindly Select the Assign to Person","warning");var t={marketingcall_gid:a.marketingcall_gid,ticket_refid:a.ticket_refid,transferfrom_gid:a.assignemployee_gid,transferfrom_name:a.assignemployee_name,transferto_gid:a.cboTransferTo,transferto_name:$("#transfer_to :selected").text(),transfer_remarks:a.transfer_remarks},e="api/Marketing/MarketingCallTransferEmployee";lockUI(),u.post(e,t).then(function(t){unlockUI(),(t.data.status=!0)?(n.close("closed"),d.alert(t.data.message,"success"),_()):(n.close("closed"),d.alert(t.data.message,"warning"),_())})},a.close=function(){n.close("closed")}}var n=a.open({templateUrl:"/transferContent.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams"]}}angular.module("angle").controller("MstMarketingMyAssignedCallSummaryController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){var t="api/Marketing/GetClosedMyleadsMarketingCallSummary";c.get(t).then(function(t){e.ibcall_list=t.data.MarketingCall_list,unlockUI()});var t="api/Marketing/EmployeeMarketingCallCount";c.get(t).then(function(t){e.assignedcall_count=t.data.assignedcall_count,e.transfercall_count=t.data.transfercall_count,e.completedcall_count=t.data.completedcall_count,e.inprogresscall_count=t.data.inprogresscall_count,e.tagmember_count=t.data.taggedcall_count,e.followupcall_count=t.data.followupcall_count,e.rejectedcall_count=t.data.rejectedcall_count,e.closedcall_count=t.data.closedcall_count,unlockUI()})}var f=this;f.title="MstMarketingMyleadsClosedCallController",_(),lockUI(),e.myassigned_calls=function(){u.url("app/MstMarketingMyAssignedCallSummary")},e.tag_member=function(){u.url("app/MstMarketingTaggedMemberSummary")},e.transfer_calls=function(){u.url("app/MstMarketingTransferCallSummary")},e.completed_calls=function(){u.url("app/MstMarketingCompletedCallSummary")},e.call_response=function(t){u.url("app/MstMarketingCallResponse?hash="+g.encryptURL("marketingcall_gid="+t))},e.view=function(t){u.url("app/MstMarketingAssignedFollowupLeadsView?hash="+g.encryptURL("marketingcall_gid="+t))},e.edit=function(t){u.url("app/MstMarketingEdit?hash="+g.encryptURL("marketingcall_gid="+t))},e.work_inprogress=function(){u.url("app/MstMarketingWorkInprogressCallSummary")},e.followup_call=function(){u.url("app/MstMarketingFollowUpCallSummary")},e.mbdrejected_calls=function(){u.url("app/MstMarketingMBDRejectedCallSummary")},e.closedcall=function(){u.url("app/MstMarketingMyleadsClosedCall")},e.edit_inboundcall=function(t){u.url("app/MstMarketingEdit?hash="+g.encryptURL("lsmarketingcall_gid="+t))},e.view_inboundcall=function(t){u.url("app/MstMarketingClosedView?hash="+g.encryptURL("lsmarketingcall_gid="+t+"&lspage=MarketingCloseMyLead"))},e.rejectedcall=function(){u.url("app/MstMarketingRejectedCallSummary")}}angular.module("angle").controller("MstMarketingMyleadsClosedCallController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p){function g(){var t="api/Marketing/MarketingCallCount";c.get(t).then(function(t){e.unassignedcall_count=t.data.unassignedcall_count,e.assignedcall_count=t.data.assignedcall_count,e.completedcall_count=t.data.completedcall_count,e.followupcall_count=t.data.followupcall_count,e.closedcall_count=t.data.closedcall_count,e.rejectedcall_count=t.data.rejectedcall_count,unlockUI()});var t="api/Marketing/GetRejectedMarketingCallSummary";c.get(t).then(function(t){e.ibrejectedcall_list=t.data.MarketingCall_list,unlockUI()})}var _=this;_.title="MstMarketingRejectedCallSummaryController",g(),e.addinbound=function(){u.url("app/MstMarketingAdd")},e.closedcall=function(){u.url("app/MstMarketingClosedCall")},e.followupcall=function(){u.url("app/MstMarketingFollowupCall")},e.assignedcall=function(){u.url("app/MstMarketingSummary")},e.unassignedcall=function(){u.url("app/MstMarketingUnassignedLeadSummary")},e.completedcall=function(){u.url("app/MstMarketingCompletedCall")},e.view=function(t){u.url("app/MstMarketingRejectedCallView?marketingcall_gid="+t)},e.rejectedcall=function(){u.url("app/MstMarketingRejectedCallSummary")}}angular.module("angle").controller("MstMarketingRejectedCallSummaryController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p){function g(){var t={marketingcall_gid:f},a="api/Marketing/GetMarketingCallAssignedView";c.getparams(a,t).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.txtentity_name=t.data.entity_name,e.txtsourceofcontact_name=t.data.sourceofcontact_name,e.txtcallreceivednumber_name=t.data.callreceivednumber_name,e.txtcustomer_type=t.data.leadrequesttype_name,e.txtcallreceived_date=t.data.callreceived_date,e.txtcaller_name=t.data.caller_name,e.txtinternalreference_name=t.data.internalreference_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtcalltype_name=t.data.calltype_name,e.txtfunction_name=t.data.function_name,e.txtfunction_remarks=t.data.function_remarks,e.txttat_hours=t.data.tat_hours,e.txtrequirement=t.data.requirement,e.txtenquiry_description=t.data.enquiry_description,e.txtcallclosure_status=t.data.callclosure_status,e.txtassignemployee_name=t.data.assignemployee_name,e.txtassign_date=t.data.assign_date,e.txttagemployee_name=t.data.tagemployee_name,e.txtassignclosure_remarks=t.data.assignclosure_remarks,e.ibcalladdress_list=t.data.MarketingCalladdress_list,e.ibcallfollowup_list=t.data.MarketingCallfollowup_list,e.ibcalltransfer_list=t.data.MarketingCalltransfer_list,e.ibcalltaggedmember_list=t.data.MarketingCalltaggedmember_list,e.txtcompleted_by=t.data.completed_by,e.txtcompleted_date=t.data.completed_date,e.txtcompleted_remarks=t.data.completed_remarks,e.txtfollowup_date=t.data.followup_date,e.txtfollowup_time=t.data.followup_time,e.txtfollowup_by=t.data.followup_by,e.txtfollowup_remarks=t.data.followup_remarks,e.txtrejected_date=t.data.rejected_date,e.txtrejected_by=t.data.rejected_by,e.txtbase_location=t.data.baselocation_name,e.txtrejected_remarks=t.data.rejected_remarks,e.origination=t.data.origination,unlockUI()})}var _=this;_.title="MstMarketingRejectedCallViewController",e.marketingcall_gid=u.search().marketingcall_gid;var f=e.marketingcall_gid;e.lspage=u.search().lspage;e.lspage;g(),lockUI(),e.Back=function(){u.url("app/MstMarketingRejectedCallSummary")}}angular.module("angle").controller("MstMarketingRejectedCallViewController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g,_){function f(){var t="api/Marketing/MarketingReportSummary";lockUI(),c.get(t).then(function(t){e.TeleCallingReportList=t.data.MarketingReportList,unlockUI()})}var k=this;k.title="MstMarketingReportController",f(),e.TeleCallingReport=function(){lockUI();var t="api/Marketing/ExportMarketingReport";c.get(t).then(function(t){1==t.data.status?(unlockUI(),g.Downloaddocument(t.data.lscloudpath,t.data.lsname)):(unlockUI(),s.alert("Error Occurred While Exporting !","warning"))})},e.view=function(t){u.url("app/MstMarketingReportView?hash="+_.encryptURL("marketingcall_gid="+t))}}angular.module("angle").controller("MstMarketingReportController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g,_){function f(){k.calender1=function(t){t.preventDefault(),t.stopPropagation(),k.open1=!0},k.formats=["dd-MM-yyyy"],k.format=k.formats[0],k.dateOptions={formatYear:"yy",startingDay:1};var t={marketingcall_gid:M},a="api/Marketing/GetMarketingCallReportView";c.getparams(a,t).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.txtentity_name=t.data.entity_name,e.txtsourceofcontact_name=t.data.sourceofcontact_name,e.txtcallreceivednumber_name=t.data.callreceivednumber_name,e.txtcustomer_type=t.data.leadrequesttype_name,e.txtcallreceived_date=t.data.callreceived_date,e.txtcaller_name=t.data.caller_name,e.txtinternalreference_name=t.data.internalreference_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtcalltype_name=t.data.calltype_name,e.txtfunction_name=t.data.function_name,e.txtrequirement=t.data.requirement,e.txtenquiry_description=t.data.enquiry_description,e.txtcallclosure_status=t.data.callclosure_status,e.txtassignemployee_name=t.data.assignemployee_name,e.txtassign_date=t.data.assign_date,e.txttagemployee_name=t.data.tagemployee_name,e.txtassignclosure_remarks=t.data.assignclosure_remarks,e.txtclosed_remarks=t.data.closed_remarks,e.ibcalladdress_list=t.data.MarketingCalladdress_list,e.inboundcallfollowup_list=t.data.inboundcallfollowup_list,e.txtprimary_mobileno=t.data.primary_mobileno,e.ibcallmobileno_list=t.data.MarketingCallmobileno_list,e.txtprimary_email=t.data.primary_email,e.ibcallemail_list=t.data.MarketingCallemail_list,e.ibcallextendfollowup_list=t.data.marketingcallextendfollowup_list,e.ibcallfollowup_list=t.data.MarketingCallfollowup_list,e.ibcalltaggedmember_list=t.data.MarketingCalltaggedmember_list,e.ibcalltransfer_list=t.data.MarketingCalltransfer_list,e.txtcompleted_by=t.data.completed_by,e.txtcompleted_date=t.data.completed_date,e.txtcompleted_remarks=t.data.completed_remarks,e.txtclosed_date=t.data.closed_date,e.txtclosed_by=t.data.closed_by,e.txtclosed_remarks=t.data.closed_remarks,e.txtrejected_date=t.data.rejected_date,e.txtrejected_by=t.data.rejected_by,e.txtrejected_remarks=t.data.rejected_remarks,e.txtfollowup_date=t.data.followup_date,e.txtfollowup_time=t.data.followup_time,e.txtfollowup_by=t.data.followup_by,e.txtfollowup_remarks=t.data.followup_remarks,e.txtbase_location=t.data.baselocation_name,e.txtacknowledged_date=t.data.acknowledge_date,e.txtacknowledged_by=t.data.acknowledge_by,e.txttat_hours=t.data.tat_hours,e.txtfunction_remarks=t.data.function_remarks,e.ibcallstatus_list=t.data.MarketingCallstatus_list,e.txtloanproduct_name=t.data.loanproduct_name,e.txtloansubproduct_name=t.data.loansubproduct_name,e.txtloan_amount=t.data.loan_amount,e.txtclosed=t.data.closed,e.origination=t.data.origination,e.txtleadrequire_name=t.data.leadrequire_name,e.txtmilletrequire_name=t.data.milletrequire_name,e.txtenquiryrequire_name=t.data.enquiryrequire_name,e.txtstartuprequire_name=t.data.startuprequire_name,e.txtbusiness_name=t.data.business_name,e.txtindustry_name=t.data.industry_name,unlockUI()});var a="api/Marketing/MarketingCallProofDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.lufilename=t.data.filename,e.lufilepath=t.data.filepath,e.Uploadcallproofdocument_list=t.data.callproofupload_list,unlockUI()});var a="api/Marketing/GetDocumentList";c.getparams(a,t).then(function(t){e.lsfilename=t.data.filename,e.lsfilepath=t.data.filepath,e.document_list=t.data.document_list});var a="api/Marketing/GetMilletDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.milletdocument_list=t.data.milletdocument_list});var a="api/Marketing/GetEnquiryDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.enquirydocument_list=t.data.enquirydocument_list});var a="api/Marketing/MarketingCallRecordingDocumentList";lockUI(),c.getparams(a,t).then(function(t){e.Uploadcallrecordingdocument_list=t.data.callproofupload_list,unlockUI()});var a="api/Marketing/GetMarketingCallLeadstatusList";lockUI(),c.getparams(a,t).then(function(t){e.MarketingCallLeadstatus_list=t.data.MarketingCallLeadstatus_list,unlockUI()})}var k=this;k.title="MstMarketingReportViewController";var y=_.decryptURL(u.search().hash),M=y.marketingcall_gid;y.lspage;e.transfershow=!1,e.followupshow=!1,e.closedshow=!1,e.RejectedShow=!1,lockUI(),f(),e.documentviewer=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewermillet=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewerupload=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.download_allmillet=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.download_allenquiry=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.milletdocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.enquirydocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.documentviewerenquiry=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.rec_downloads=function(t,e){g.Downloaddocument(t,e)},e.document_downloads=function(t,e){g.Downloaddocument(t,e)},e.downloads_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.downloadall1=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.downloadall=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.recproof_downloads=function(t,e){g.Downloaddocument(t,e)},e.view_remarks=function(t){function e(e,a){e.txtremarks=t,e.ok=function(){a.close("closed")}}a.open({templateUrl:"/remarks.html",controller:e,backdrop:"static",keyboard:!1,size:"lg"});e.$inject=["$scope","$modalInstance"]},e.back=function(){n.go("app.MstMarketingReport")}}angular.module("angle").controller("MstMarketingReportViewController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p){function g(){var t="api/MstMarketingSourceOfContact/GetMarketingSourceofContact";lockUI(),r.get(t).then(function(t){e.sourceofcontact_data=t.data.application_list,unlockUI()})}var _=this;_.title="MstMarketingSourceofContactController",g(),e.addsourceofcontact=function(){function t(t,e){t.ok=function(){e.close("closed")},t.submit=function(){var a={marketingsourceofcontact_name:t.txtsource_name,lms_code:t.txtlms_code,bureau_code:t.txtbureau_code},n="api/MstMarketingSourceOfContact/CreateMarketingSourceofContact";lockUI(),r.post(n,a).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),e.close("closed"),g()):(c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.close("closed"),g())})}}l.open({templateUrl:"/addsource.html",controller:t,backdrop:"static",keyboard:!1,size:"md"});t.$inject=["$scope","$modalInstance"]},e.editsourceofcontact=function(t){function e(e,a){e.ok=function(){a.close("closed")};var n={marketingsourceofcontact_gid:t},l="api/MstMarketingSourceOfContact/EditMarketingSourceofContact";r.getparams(l,n).then(function(t){e.txteditsource_name=t.data.marketingsourceofcontact_name,e.txteditlms_code=t.data.lms_code,e.txteditbureau_code=t.data.bureau_code,e.marketingsourceofcontact_gid=t.data.marketingsourceofcontact_gid}),e.ok=function(){a.close("closed")},e.update=function(){var t="api/MstMarketingSourceOfContact/UpdateMarketingSourceofContact",n={marketingsourceofcontact_name:e.txteditsource_name,lms_code:e.txteditlms_code,bureau_code:e.txteditbureau_code,marketingsourceofcontact_gid:e.marketingsourceofcontact_gid};r.post(t,n).then(function(t){1==t.data.status?(a.close("closed"),c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),g()):(a.close("closed"),c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g())})}}l.open({templateUrl:"/editsource.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.Status_update=function(t){function e(e,a){var n={marketingsourceofcontact_gid:t},l="api/MstMarketingSourceOfContact/EditMarketingSourceofContact";r.getparams(l,n).then(function(t){e.marketingsourceofcontact_gid=t.data.marketingsourceofcontact_gid,e.txtsource_name=t.data.marketingsourceofcontact_name,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")},e.update_status=function(){var n={marketingsourceofcontact_gid:t,remarks:e.txtremarks,rbo_status:e.rbo_status},l="api/MstMarketingSourceOfContact/InactiveMarketingSourceofContact";lockUI(),r.post(l,n).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g()}),a.close("closed")};var n={marketingsourceofcontact_gid:t},l="api/MstMarketingSourceOfContact/InactiveMarketingSourceofcontactHistory";lockUI(),r.getparams(l,n).then(function(t){e.sourceofcontactinactivelog_data=t.data.inactivehistory_list,unlockUI()})}l.open({templateUrl:"/statussource.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e["delete"]=function(t){var e={marketingsourceofcontact_gid:t};d.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#d64b3c",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1,cancelButtonColor:"Crimson"},function(t){if(t){var a="api/MstMarketingSourceOfContact/DeleteMarketingSourceofContact";r.getparams(a,e).then(function(t){1==t.data.status?(d.swal("Deleted Successfully!"),g()):0==t.data.status?(d.swal({title:"Warning!",text:"Can't able to delete Source Of Contact because it is mapped to add Business Development call",timer:5e3,showCancelButton:!1,showConfirmButton:!1,backgroundcolor:"#d64b3c"}),g()):(c.alert(d.swal(t.data.message,{type:"warning",title:"warning!",text:"Can't able to delete Source Of Contact because it is mapped to add Business Development call",timer:2e3,showCancelButton:!1,showConfirmButton:!1})),g())})}})}}angular.module("angle").controller("MstMarketingSourceofContactController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){var t="api/Marketing/MarketingCallCount";c.get(t).then(function(t){e.unassignedcall_count=t.data.unassignedcall_count,e.assignedcall_count=t.data.assignedcall_count,e.completedcall_count=t.data.completedcall_count,e.followupcall_count=t.data.followupcall_count,e.closedcall_count=t.data.closedcall_count,e.rejectedcall_count=t.data.rejectedcall_count,unlockUI()});var t="api/Marketing/GetMarketingCallSummary";c.get(t).then(function(t){e.ibcall_list=t.data.MarketingCall_list,unlockUI()})}var f=this;f.title="MstMarketingSummaryController";u.search().selectedIndex;_(),lockUI(),e.addinbound=function(){u.url("app/MstMarketingAdd")},e.closedcall=function(){u.url("app/MstMarketingClosedCall")},e.followupcall=function(){u.url("app/MstMarketingFollowupCall")},e.assignedcall=function(){u.url("app/MstMarketingSummary")},e.unassignedcall=function(){u.url("app/MstMarketingUnassignedLeadSummary")},e.completedcall=function(){u.url("app/MstMarketingCompletedCall")},e.view_inboundcall=function(t){u.url("app/MstMarketingAssignView?hash="+g.encryptURL("lsmarketingcall_gid="+t+"&lspage=MarketingAddCall"))},e.edit_inboundcall=function(t){u.url("app/MstMarketingEdit?hash="+g.encryptURL("lsmarketingcall_gid="+t))},e.rejectedcall=function(){u.url("app/MstMarketingRejectedCallSummary")},e.transfer=function(t){function e(e,a,l,o,i,r,c,s,u,d,m,p,g){var f={marketingcall_gid:t},k="api/Marketing/MarketingCallDetailsForTransfer";u.getparams(k,f).then(function(t){a.marketingcall_gid=t.data.marketingcall_gid,a.ticket_refid=t.data.ticket_refid,a.assignemployee_gid=t.data.assignemployee_gid,a.assignemployee_name=t.data.assignemployee_name,a.ibcalltransfer_list=t.data.MarketingCalltransfer_list});var k="api/OsdTrnCustomerQueryMgmt/TransferEmployee";u.get(k).then(function(t){a.TransferEmployeeList=t.data.TransferEmployeeList,unlockUI()}),a.transfer_call=function(){if(void 0==a.cboTransferTo)return n.close("closed"),void d.alert("Kindly Select the Transfer to Person","warning");var t={marketingcall_gid:a.marketingcall_gid,ticket_refid:a.ticket_refid,transferfrom_gid:a.assignemployee_gid,transferfrom_name:a.assignemployee_name,transferto_gid:a.cboTransferTo,transferto_name:$("#transfer_to :selected").text(),transfer_remarks:a.transfer_remarks},e="api/Marketing/MarketingCallTransferEmployee";lockUI(),u.post(e,t).then(function(t){unlockUI(),(t.data.status=!0)?(n.close("closed"),d.alert(t.data.message,"success"),_()):(n.close("closed"),d.alert(t.data.message,"warning"),_())})},a.close=function(){n.close("closed")}}var n=a.open({templateUrl:"/transferContent.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams"]},e.closed_call=function(t){function e(e,a,l,o,i,r,c,s,u,d,m,p,g){a.close_call=function(){var e={marketingcall_gid:t,closed_remarks:a.closed_remarks},l="api/Marketing/MarketingCallAssignedClosed";lockUI(),u.post(l,e).then(function(t){unlockUI(),(t.data.status=!0)?(n.close("closed"),d.alert(t.data.message,"success"),_()):(n.close("closed"),d.alert(t.data.message,"warning"),_())})},a.close=function(){n.close("closed")}}var n=a.open({templateUrl:"/closedContent.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams"]}}angular.module("angle").controller("MstMarketingSummaryController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){var t="api/Marketing/GetEmpTaggedSummary";c.get(t).then(function(t){e.ibcalltagged_list=t.data.MarketingCall_list,unlockUI()});var t="api/Marketing/EmployeeMarketingCallCount";c.get(t).then(function(t){e.assignedcall_count=t.data.assignedcall_count,e.transfercall_count=t.data.transfercall_count,e.completedcall_count=t.data.completedcall_count,e.rejectedcall_count=t.data.rejectedcall_count,e.inprogresscall_count=t.data.inprogresscall_count,e.tagmember_count=t.data.taggedcall_count,e.followupcall_count=t.data.followupcall_count,e.closedcall_count=t.data.closedcall_count,unlockUI()})}var f=this;f.title="MstMarketingTaggedMemberSummaryController",_(),e.myassigned_calls=function(){u.url("app/MstMarketingMyAssignedCallSummary")},e.tag_member=function(){u.url("app/MstMarketingTaggedMemberSummary")},e.transfer_calls=function(){u.url("app/MstMarketingTransferCallSummary")},e.completed_calls=function(){u.url("app/MstMarketingCompletedCallSummary")},e.view=function(t){u.url("app/MstMarketingTaggedMemberView?hash="+g.encryptURL("marketingcall_gid="+t))},e.edit=function(t){u.url("app/MstMarketingEdit?hash="+g.encryptURL("marketingcall_gid="+t))},e.work_inprogress=function(){u.url("app/MstMarketingWorkInprogressCallSummary")},e.followup_call=function(){u.url("app/MstMarketingFollowUpCallSummary")},e.mbdrejected_calls=function(){u.url("app/MstMarketingMBDRejectedCallSummary")},e.closedcall=function(){u.url("app/MstMarketingMyleadsClosedCall")},e.transfer=function(t,e,n){function l(a,l,i,r,c,s,u,d,m,p,g,f,k){var y="api/OsdTrnCustomerQueryMgmt/TransferEmployee";m.get(y).then(function(t){l.TransferEmployeeList=t.data.TransferEmployeeList,unlockUI()}),l.marketingcall_gid=t,l.ticketref_no=e,l.assigned_to=n,l.transfercall=function(){if(void 0==l.transfer_to)return o.close("closed"),void p.alert("Kindly Select the Assign to Person","warning");var t={marketingcall_gid:l.marketingcall_gid,employee_gid:l.transfer_to,employee_name:$("#transfer_to :selected").text(),transfer_remarks:l.transfer_remarks},e="api/MstMarketing/TicketTransfer";lockUI(),m.post(e,t).then(function(t){unlockUI(),(t.data.status=!0)?(o.close("closed"),p.alert(t.data.message,"success"),_()):(o.close("closed"),p.alert(t.data.message,"warning"),_())})},l.close=function(){o.close("closed")}}var o=a.open({templateUrl:"/transferContent.html",controller:l,size:"md"});l.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams"]}}angular.module("angle").controller("MstMarketingTaggedMemberSummaryController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g,_){function f(){k.calender1=function(t){t.preventDefault(),t.stopPropagation(),k.open1=!0},k.formats=["dd-MM-yyyy"],k.format=k.formats[0],k.dateOptions={formatYear:"yy",startingDay:1};var t={marketingcall_gid:M},a="api/Marketing/GetMarketingCallAssignedView";c.getparams(a,t).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.txtentity_name=t.data.entity_name,e.txtsourceofcontact_name=t.data.sourceofcontact_name,e.txtcallreceivednumber_name=t.data.callreceivednumber_name,e.txtcustomer_type=t.data.leadrequesttype_name,e.txtcallreceived_date=t.data.callreceived_date,e.txtcaller_name=t.data.caller_name,e.txtinternalreference_name=t.data.internalreference_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtcalltype_name=t.data.calltype_name,e.txtfunction_name=t.data.function_name,e.txtfunction_remarks=t.data.function_remarks,e.txttat_hours=t.data.tat_hours,e.txtrequirement=t.data.requirement,e.txtenquiry_description=t.data.enquiry_description,
e.txtcallclosure_status=t.data.callclosure_status,e.txtassignemployee_name=t.data.assignemployee_name,e.txtassign_date=t.data.assign_date,e.txttagemployee_name=t.data.tagemployee_name,e.txtassignclosure_remarks=t.data.assignclosure_remarks,e.ibcalladdress_list=t.data.MarketingCalladdress_list,e.ibcallfollowup_list=t.data.MarketingCallfollowup_list,e.ibcalltaggedmember_list=t.data.MarketingCalltaggedmember_list,e.ibcalltransfer_list=t.data.MarketingCalltransfer_list,e.txtcompleted_by=t.data.completed_by,e.txtcompleted_date=t.data.completed_date,e.txtcompleted_remarks=t.data.completed_remarks,e.txtclosed_date=t.data.closed_date,e.txtclosed_by=t.data.closed_by,e.txtclosed=t.data.closed,e.txtloanproduct_name=t.data.loanproduct_name,e.txtloansubproduct_name=t.data.loansubproduct_name,e.txtloan_amount=t.data.loan_amount,e.txtbase_location=t.data.baselocation_name,e.origination=t.data.origination,e.ibcallmobileno_list=t.data.MarketingCallmobileno_list,e.txtprimary_email=t.data.primary_email,e.ibcallemail_list=t.data.MarketingCallemail_list,e.txtleadrequire_name=t.data.leadrequire_name,e.txtmilletrequire_name=t.data.milletrequire_name,e.txtenquiryrequire_name=t.data.enquiryrequire_name,e.txtstartuprequire_name=t.data.startuprequire_name,e.txtbusiness_name=t.data.business_name,e.txtindustry_name=t.data.industry_name,unlockUI()});var a="api/Marketing/GetDocumentList";c.getparams(a,t).then(function(t){e.lsfilename=t.data.filename,e.lsfilepath=t.data.filepath,e.document_list=t.data.document_list});var a="api/Marketing/GetMilletDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.milletdocument_list=t.data.milletdocument_list});var a="api/Marketing/GetEnquiryDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.enquirydocument_list=t.data.enquirydocument_list})}var k=this;k.title="MstMarketingTaggedMemberViewController";var y=_.decryptURL(u.search().hash),M=y.marketingcall_gid;lockUI(),f(),e.document_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.download_allmillet=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.milletdocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_allenquiry=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.enquirydocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.documentviewerenquiry=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewer=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewermillet=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.Back=function(){u.url("app/MstMarketingTaggedMemberSummary")}}angular.module("angle").controller("MstMarketingTaggedMemberViewController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p){function g(){var t="api/MstMarketingTelecallingFunction/GetMarketingTelecallingFunction";lockUI(),r.get(t).then(function(t){e.marketingtelecallingfunction_list=t.data.marketingtelecallingfunction_list,unlockUI()})}var _=this;_.title="MstMarketingTelecallingFunctionController",g(),e.addtelecallingfunction=function(){function t(t,e){t.back=function(){e.close("closed")},t.submit=function(){var a={marketingtelecallingfunction_name:t.txttcfunction_name,lms_code:t.txtlms_code,bureau_code:t.txtbureau_code},n="api/MstMarketingTelecallingFunction/CreateMarketingTelecallingFunction";lockUI(),r.post(n,a).then(function(t){unlockUI(),1==t.data.status?(c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),e.close("closed"),g()):(c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.close("closed"),g())})}}l.open({templateUrl:"/addtcfunction.html",controller:t,backdrop:"static",keyboard:!1,size:"md"});t.$inject=["$scope","$modalInstance"]},e.edittelecallingfunction=function(t){function e(e,a){e.back=function(){a.close("closed")};var n={marketingtelecallingfunction_gid:t},l="api/MstMarketingTelecallingFunction/EditMarketingTelecallingFunction";r.getparams(l,n).then(function(t){e.txtedittcfunction_name=t.data.marketingtelecallingfunction_name,e.txteditlms_code=t.data.lms_code,e.txteditbureau_code=t.data.bureau_code,e.marketingtelecallingfunction_gid=t.data.marketingtelecallingfunction_gid}),e.back=function(){a.close("closed")},e.update=function(){var t="api/MstMarketingTelecallingFunction/UpdateMarketingTelecallingFunction",n={marketingtelecallingfunction_name:e.txtedittcfunction_name,lms_code:e.txteditlms_code,bureau_code:e.txteditbureau_code,marketingtelecallingfunction_gid:e.marketingtelecallingfunction_gid};r.post(t,n).then(function(t){1==t.data.status?(a.close("closed"),c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),g()):(a.close("closed"),c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g())})}}l.open({templateUrl:"/edittcfunction.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.Status_update=function(t){function e(e,a){var n={marketingtelecallingfunction_gid:t},l="api/MstMarketingTelecallingFunction/EditMarketingTelecallingFunction";r.getparams(l,n).then(function(t){e.marketingtelecallingfunction_gid=t.data.marketingtelecallingfunction_gid,e.txttcfunction_name=t.data.marketingtelecallingfunction_name,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")},e.update_status=function(){var n={marketingtelecallingfunction_gid:t,remarks:e.txtremarks,rbo_status:e.rbo_status},l="api/MstMarketingTelecallingFunction/InactiveMarketingTelecallingFunction";lockUI(),r.post(l,n).then(function(t){unlockUI(),1==t.data.status?c.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g()}),a.close("closed")};var n={marketingtelecallingfunction_gid:t},l="api/MstMarketingTelecallingFunction/InactiveMarketingTelecallingFunctionHistory";lockUI(),r.getparams(l,n).then(function(t){e.telecallingfunctioninactivelog_data=t.data.marketingtelecallinginactivehistory_list,unlockUI()})}l.open({templateUrl:"/statustcfunction.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e["delete"]=function(t){var e={marketingtelecallingfunction_gid:t};d.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showSpinner:!0,CancelButtonColor:"#dedad9",showCancelButton:!0,confirmButtonColor:"#d64b3c",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/MstMarketingTelecallingFunction/DeleteMarketingTelecallingFunction";r.getparams(a,e).then(function(t){1==t.data.status?(d.swal("Deleted Successfully!"),g()):0==t.data.status?(d.swal({title:"Warning!",text:"Can't able to delete Business Development Function because it is mapped to add Business Development call",timer:5e3,showCancelButton:!1,showConfirmButton:!1,backgroundcolor:"#d64b3c"}),g()):(c.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g())})}})}}angular.module("angle").controller("MstMarketingTelecallingFunctionController",t),t.$inject=["$rootScope","$scope","$state","AuthenticationService","$modal","ScopeValueService","$http","SocketService","Notify","$location","apiManage","SweetAlert","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){var t="api/Marketing/GetEmpTransferredMarketingCallSummary";c.get(t).then(function(t){e.ibcalltransfer_list=t.data.MarketingCall_list,unlockUI()});var t="api/Marketing/EmployeeMarketingCallCount";c.get(t).then(function(t){e.assignedcall_count=t.data.assignedcall_count,e.transfercall_count=t.data.transfercall_count,e.completedcall_count=t.data.completedcall_count,e.inprogresscall_count=t.data.inprogresscall_count,e.tagmember_count=t.data.taggedcall_count,e.followupcall_count=t.data.followupcall_count,e.rejectedcall_count=t.data.rejectedcall_count,e.closedcall_count=t.data.closedcall_count,unlockUI()})}var f=this;f.title="MstMarketingTransferCallSummaryController",_(),e.closedcall=function(){u.url("app/MstMarketingMyleadsClosedCall")},e.myassigned_calls=function(){u.url("app/MstMarketingMyAssignedCallSummary")},e.tag_member=function(){u.url("app/MstMarketingTaggedMemberSummary")},e.transfer_calls=function(){u.url("app/MstMarketingTransferCallSummary")},e.completed_calls=function(){u.url("app/MstMarketingCompletedCallSummary")},e.view=function(t){u.url("app/MstMarketingAssignedCallView?hash="+g.encryptURL("marketingcall_gid="+t+"&lspage=TransferCall"))},e.edit=function(t){u.url("app/MstMarketingEdit?hash="+g.encryptURL("marketingcall_gid="+t))},e.work_inprogress=function(){u.url("app/MstMarketingWorkInprogressCallSummary")},e.followup_call=function(){u.url("app/MstMarketingFollowUpCallSummary")},e.mbdrejected_calls=function(){u.url("app/MstMarketingMBDRejectedCallSummary")},e.transfer=function(t){function e(e,a,l,o,i,r,c,s,u,d,m,p,g){var f={marketingcall_gid:t},k="api/Marketing/MarketingCallDetailsForTransfer";u.getparams(k,f).then(function(t){a.marketingcall_gid=t.data.marketingcall_gid,a.ticket_refid=t.data.ticket_refid,a.assignemployee_gid=t.data.assignemployee_gid,a.assignemployee_name=t.data.assignemployee_name,a.ibcalltransfer_list=t.data.MarketingCalltransfer_list});var k="api/OsdTrnCustomerQueryMgmt/TransferEmployee";u.get(k).then(function(t){a.TransferEmployeeList=t.data.TransferEmployeeList,unlockUI()}),a.transfer_call=function(){if(void 0==a.cboTransferTo)return n.close("closed"),void d.alert("Kindly Select the Transfer to Person","warning");var t={marketingcall_gid:a.marketingcall_gid,ticket_refid:a.ticket_refid,transferfrom_gid:a.assignemployee_gid,transferfrom_name:a.assignemployee_name,transferto_gid:a.cboTransferTo,transferto_name:$("#transfer_to :selected").text(),transfer_remarks:a.transfer_remarks},e="api/Marketing/MarketingCallTransferEmployee";lockUI(),u.post(e,t).then(function(t){unlockUI(),(t.data.status=!0)?(n.close("closed"),d.alert(t.data.message,"success"),_()):(n.close("closed"),d.alert(t.data.message,"warning"),_())})},a.close=function(){n.close("closed")}}var n=a.open({templateUrl:"/transferContent.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams"]}}angular.module("angle").controller("MstMarketingTransferCallSummaryController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g,_){function f(){e.cbotagemployee=[],w.calender1=function(t){t.preventDefault(),t.stopPropagation(),w.open1=!0},w.calender2=function(t){t.preventDefault(),t.stopPropagation(),w.open2=!0},w.formats=["dd-MM-yyyy"],w.format=w.formats[0],w.dateOptions={formatYear:"yy",startingDay:1},e.cbointernal_reference="NA";var t=new Date,a=t.toLocaleString([],{hour:"2-digit",minute:"2-digit"}),n=new Date;0+n.getDate()+"-"+(n.getMonth()+1)+"-"+n.getFullYear();e.minDate=new Date;var t=new Date,a=t.toLocaleString([],{hour:"2-digit",minute:"2-digit"});e.txtcallreceived_time=a;var l="api/Marketing/MarketingCallTempClear";c.get(l).then(function(t){});var o={marketingcall_gid:e.marketingcall_gid},l="api/MarMstLeadRequire/GetLeadRequire";c.get(l).then(function(t){e.leadrequire_list=t.data.leadrequire_list});var l="api/MarMstMilletRequire/GetMilletRequire";c.get(l).then(function(t){e.milletrequire_list=t.data.milletrequire_list});var l="api/MstEnquiryRequire/GetEnquiryRequire";c.get(l).then(function(t){e.enquiryrequire_list=t.data.enquiryrequire_list});var l="api/MstStartupRequire/GetStartupRequire";c.get(l).then(function(t){e.startuprequire_list=t.data.startuprequire_list});var l="api/Marketing/GetEntity";c.get(l).then(function(t){e.entity_list=t.data.inboundentity_list});var l="api/employee/Employee";c.get(l).then(function(t){e.employee_list=t.data.employee_list});var l="api/Marketing/GetMarketingSourceofContact";c.get(l).then(function(t){e.sourceofcontact_list=t.data.MarketingSourceofContact_list});var l="api/Marketing/GetMarketingCallReceivedNumber";c.get(l).then(function(t){e.callreceivednumber_list=t.data.MarketingCallReceivedNumber_list});var l="api/Marketing/GetMarketingCallType";c.get(l).then(function(t){e.calltype_list=t.data.MarketingCallType_list});var l="api/Marketing/GetMarketingTelecallingFunction";c.get(l).then(function(t){e.telecallingfunction_list=t.data.MarketingTelecallingFunction_list});var l="api/Marketing/GetLeadRequestType";c.get(l).then(function(t){e.leadrequesttype_list=t.data.leadrequest_list});var l="api/Marketing/MarketingCallMobileNoList";c.getparams(l,o).then(function(t){e.ibcallmobileno_list=t.data.MarketingCallmobileno_list});var l="api/Marketing/MarketingCallEmailList";c.getparams(l,o).then(function(t){e.ibcallemail_list=t.data.MarketingCallemail_list});var l="api/Marketing/MarketingCallAddressList";c.getparams(l,o).then(function(t){e.ibcalladdress_list=t.data.MarketingCalladdress_list});var l="api/Marketing/MarketingCallFollowUpList";c.getparams(l,o).then(function(t){e.ibcallfollowup_list=t.data.marketingcallfollowup_list});var l="api/Marketing/GetDocumentList";c.getparams(l,o).then(function(t){e.lsfilename=t.data.filename,e.lsfilepath=t.data.filepath,e.document_list=t.data.document_list});var l="api/Marketing/GetMilletDocumentList";c.getparams(l,o).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.milletdocument_list=t.data.milletdocument_list});var l="api/Marketing/GetEnquiryDocumentList";c.getparams(l,o).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.enquirydocument_list=t.data.enquirydocument_list});var l="api/Marketing/EditMarketingCall";lockUI(),c.getparams(l,o).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.cboentity=t.data.entity_gid,e.cbosourceofcontact=t.data.marketingsourceofcontact_gid,e.cboleadrequirename=t.data.leadrequire_gid,e.cbomilletrequirename=t.data.milletrequire_gid,e.cboenquiryrequirename=t.data.enquiryrequire_gid,e.cbostartuprequirename=t.data.startuprequire_gid,e.cboleadrequesttype=t.data.leadrequesttype_gid,e.cbocallreceivednumber=t.data.marketingcallreceivednumber_gid,e.cbocustomer_type=t.data.customer_type,e.txtcallreceived_date=t.data.created_date,e.origination=t.data.origination,e.txtcaller_name=t.data.caller_name,e.txtcompany_name=t.data.company_name,e.txtindustry_name=t.data.industry_name,e.txtbusiness_name=t.data.business_name,e.txtmessage_name=t.data.message_name,e.txtyour_name=t.data.your_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtbase_location=t.data.baselocation_name,e.cbocalltype=t.data.marketingcalltype_gid,e.cbofunction=t.data.marketingfunction_gid,e.txtfunction_remarks=t.data.function_remarks,e.txtrequirement=t.data.requirement,e.txtenquiry_description=t.data.enquiry_description,e.cbocallclosure_status=t.data.callclosure_status,e.txttat_hours=t.data.tat_hours,e.txtassignclosure_remarks=t.data.assignclosure_remarks,unlockUI()})}function k(){var t={marketingcall_gid:e.marketingcall_gid},a="api/Marketing/MarketingCallAddressTempList";c.getparams(a,t).then(function(t){e.ibcalladdress_list=t.data.MarketingCalladdress_list})}function y(){var t={marketingcall_gid:e.marketingcall_gid},a="api/Marketing/MarketingCallMobileNoTempList";c.getparams(a,t).then(function(t){e.ibcallmobileno_list=t.data.MarketingCallmobileno_list})}function M(){var t={marketingcall_gid:e.marketingcall_gid},a="api/Marketing/MarketingCallEmailTempList";c.getparams(a,t).then(function(t){e.ibcallemail_list=t.data.MarketingCallemail_list})}function b(){var t={marketingcall_gid:e.marketingcall_gid},a="api/Marketing/MarketingCallFollowUpTempList";c.getparams(a,t).then(function(t){e.ibcallfollowup_list=t.data.MarketingCallfollowup_list})}var w=this;w.title="MstMarketingUnassignedLeadEditController";var v=_.decryptURL(u.search().hash);e.marketingcall_gid=v.lsmarketingcall_gid,f(),e.changefunctionstatus=function(t){"Others"==$("#function :selected").text()?e.function_show=!0:e.function_show=!1},e.auditname_change=function(t){var a={employee_gid:e.cboassignemployee},n="api/Marketing/GetBaselocation";c.getparams(n,a).then(function(t){e.employee_gid=t.data.employee_gid,e.txtbase_location=t.data.baselocation_name})},e.download_allmillet=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.milletdocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_allenquiry=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.enquirydocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.documentviewer=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewermillet=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewerenquiry=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.save=function(){var t=$("#entity :selected").text(),a=$("#sourceofcontact :selected").text(),n=$("#leadrequesttype :selected").text(),l=$("#callreceivednumber :selected").text(),o=$("#internalreference :selected").text(),i=$("#calltype :selected").text(),r=$("#function :selected").text(),d=$("#assignemployee :selected").text(),m=$("#leadrequire :selected").text(),p=e.cbotagemployee;if(p==[void 0]);else{e.cbotagemployee}var g={entity_name:t,entity_gid:e.cboentity,marketingsourceofcontact_name:a,marketingsourceofcontact_gid:e.cbosourceofcontact,leadrequire_name:m,leadrequire_gid:e.cboleadrequirename,marketingcallreceivednumber_name:l,marketingcallreceivednumber_gid:e.cbocallreceivednumber,leadrequesttype_name:n,leadrequesttype_gid:e.cboleadrequesttype,customer_type:e.cbocustomer_type,callreceived_date:e.txtcallreceived_date,caller_name:e.txtcaller_name,your_name:e.txtyour_name,industry_name:e.txtindustry_name,company_name:e.txtcompany_name,message_name:e.txtmessage_name,internalreference_name:o,internalreference_gid:e.cbointernalreference,callerassociate_company:e.txtcallerassociate_company,office_landlineno:e.txtoffice_landlineno,marketingcalltype_name:i,marketingcalltype_gid:e.cbocalltype,marketingfunction_name:r,marketingfunction_gid:e.cbofunction,function_remarks:e.txtfunction_remarks,requirement:e.txtrequirement,enquiry_description:e.txtenquiry_description,callclosure_status:e.cbocallclosure_status,assignemployee_name:d,assignemployee_gid:e.cboassignemployee,tat_hours:e.txttat_hours,baselocation_name:e.txtbase_location,tagemployee_list:e.cbotagemployee,assignclosure_remarks:e.txtassignclosure_remarks,marketingcall_gid:e.marketingcall_gid},_="api/Marketing/MarketingCallEditSave";lockUI(),c.post(_,g).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),u.url("app/MstMarketingSummary")):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.submit=function(){var t=$("#entity :selected").text(),a=$("#sourceofcontact :selected").text(),n=$("#callreceivednumber :selected").text(),l=$("#leadrequesttype :selected").text(),o=$("#internalreference :selected").text(),i=$("#calltype :selected").text(),r=$("#function :selected").text(),d=$("#assignemployee :selected").text(),m=$("#leadrequire :selected").text(),p=$("#milletrequire :selected").text(),g=e.cbotagemployee;if(g==[void 0]);else{e.cbotagemployee}var _={entity_name:t,entity_gid:e.cboentity,marketingsourceofcontact_name:a,marketingsourceofcontact_gid:e.cbosourceofcontact,leadrequire_name:m,leadrequire_gid:e.cboleadrequirename,milletrequire_name:p,milletrequire_gid:e.cbomilletrequirename,marketingcallreceivednumber_name:n,marketingcallreceivednumber_gid:e.cbocallreceivednumber,leadrequesttype_name:l,leadrequesttype_gid:e.cboleadrequesttype,customer_type:e.cbocustomer_type,callreceived_date:e.txtcallreceived_date,caller_name:e.txtcaller_name,your_name:e.txtyour_name,industry_name:e.txtindustry_name,company_name:e.txtcompany_name,message_name:e.txtmessage_name,internalreference_name:o,internalreference_gid:e.cbointernalreference,callerassociate_company:e.txtcallerassociate_company,office_landlineno:e.txtoffice_landlineno,marketingcalltype_name:i,marketingcalltype_gid:e.cbocalltype,marketingfunction_name:r,marketingfunction_gid:e.cbofunction,function_remarks:e.txtfunction_remarks,requirement:e.txtrequirement,enquiry_description:e.txtenquiry_description,callclosure_status:e.cbocallclosure_status,assignemployee_name:d,assignemployee_gid:e.cboassignemployee,tat_hours:e.txttat_hours,baselocation_name:e.txtbase_location,tagemployee_list:e.cbotagemployee,assignclosure_remarks:e.txtassignclosure_remarks,marketingcall_gid:e.marketingcall_gid},f="api/Marketing/MarketingCallEditSubmit";lockUI(),c.post(f,_).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),u.url("app/MstMarketingSummary")):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.update=function(){var t="",a="",n="",l="",o="",i="",r="",d="",m="",p="",g="",_="",f="",k="",y="",M="",b="",w="",v="",h="",x="",C="";if(void 0==e.cboentity&&null==e.cboentity||(t=$("#entity :selected").text(),a=e.cboentity),void 0==e.cbosourceofcontact&&null==e.cbosourceofcontact||(n=$("#sourceofcontact :selected").text(),l=e.cbosourceofcontact),void 0==e.cbocallreceivednumber&&null==e.cbocallreceivednumber||(r=$("#callreceivednumber :selected").text(),d=e.cbocallreceivednumber),void 0==e.cboleadrequesttype&&null==e.cboleadrequesttype||(o=$("#leadrequesttype :selected").text(),i=e.cboleadrequesttype),void 0==e.cbointernalreference&&null==e.cbointernalreference||(m=$("#internalreference :selected").text(),p=e.cbointernalreference),void 0!=e.cbointernalreference&&null!=e.cbointernalreference||(m="NA",p="gid"),void 0==e.cbocalltype&&null==e.cbocalltype||(g=$("#call_type :selected").text(),_=e.cbocalltype),void 0==e.cboleadrequirename&&null==e.cboleadrequirename||(y=$("#leadrequire :selected").text(),M=e.cboleadrequirename),void 0==e.cbomilletrequirename&&null==e.cbomilletrequirename||(f=$("#milletrequire :selected").text(),k=e.cbomilletrequirename),void 0==e.cboenquiryrequirename&&null==e.cboenquiryrequirename||(b=$("#enquiryrequire :selected").text(),w=e.cboenquiryrequirename),void 0==e.cbostartuprequirename&&null==e.cbostartuprequirename||(v=$("#startuprequire :selected").text(),h=e.cbostartuprequirename),void 0==e.cboassignemployee&&null==e.cboassignemployee||(x=$("#assignemployee :selected").text(),C=e.cboassignemployee),"Assign"!=e.cbocallclosure_status||null!=e.cboassignemployee&&""!=e.cboassignemployee||s.alert("Kindly Select Assign Employee Name","warning"),"Assign"!=e.cbocallclosure_status&&"Follow Up"!=e.cbocallclosure_status||null!=e.txtassignclosure_remarks&&""!=e.txtassignclosure_remarks)if("Rejected"!=e.cbocallclosure_status||null!=e.txtclosure_remarks&&""!=e.txtclosure_remarks){var S={entity_name:t,entity_gid:a,ticket_refid:e.txtticket_refid,marketingcall_gid:e.marketingcall_gid,marketingsourceofcontact_name:n,marketingsourceofcontact_gid:l,marketingcallreceivednumber_name:r,marketingcallreceivednumber_gid:d,leadrequesttype_name:o,leadrequesttype_gid:i,customer_type:e.cbocustomertype,callreceived_date:e.txtcallreceived_date,callreceived_time:e.txtcallreceived_time,caller_name:e.txtcaller_name,internalreference_name:m,internalreference_gid:p,callerassociate_company:e.txtcallerassociate_company,office_landlineno:e.txtoffice_landlineno,marketingcalltype_name:g,marketingcalltype_gid:_,leadrequire_name:y,leadrequire_gid:M,milletrequire_name:f,milletrequire_gid:k,enquiryrequire_name:b,enquiryrequire_gid:w,startuprequire_name:v,startuprequire_gid:h,business_name:e.txtbusiness_name,industry_name:e.txtindustry_name,function_remarks:e.txtfunction_remarks,requirement:e.txtrequirement,enquiry_description:e.txtenquiry_description,callclosure_status:e.cbocallclosure_status,assignemployee_name:x,assignemployee_gid:C,baselocation_name:e.txtbase_location,tat_hours:e.txttat_hours,tagemployee_list:e.cbotagemployee,assignclosure_remarks:e.txtassignclosure_remarks,closed_remarks:e.txtclosure_remarks},U="api/Marketing/MarketingCallFormUpdate";lockUI(),c.post(U,S).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),u.url("app/MstMarketingUnassignedLeadSummary")):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}else s.alert("Kindly Enter Remark","warning");else s.alert("Kindly Enter Remark","warning")},e.rejected=function(){function t(t,a){t.ok=function(){e.close("closed")},t.rejectSubmit=function(){var a={marketingcall_gid:u.search().lsmarketingcall_gid,rejected_remarks:t.txtreject_remarks},l="api/Marketing/MarketingRejected";lockUI(),c.post(l,a).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),e.close("closed"),n.go("app.MstMarketingUnassignedLeadSummary")):(s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.close("closed"))}),n.go("app.MstMarketingUnassignedLeadSummary")}}var e=a.open({templateUrl:"/rejectapproval.html",controller:t,backdrop:"static",keyboard:!1,size:"md"});t.$inject=["$scope","$modalInstance"]},e.address_add=function(){function t(t,e){t.geocodingFailed=!1;var a="api/AddressType/GetAddressTypeASC";c.get(a).then(function(e){t.addresstype_list=e.data.addresstype_list}),t.ok=function(){e.close("closed")},t.onchangepostal_code=function(){var e={postal_code:t.txtpostal_code},a="api/Mstbuyer/GetPostalCodeDetails";c.getparams(a,e).then(function(e){t.txtcity=e.data.city,t.txttaluka=e.data.taluka,t.txtdistrict=e.data.district,t.txtstate=e.data.state_name})},t.getGeoCoding=function(){if(void 0==t.txtpostal_code||t.txtpostal_code.length<6)t.txtlatitude="",t.txtlongitude="";else{if(void 0==t.txtaddressline2)var e="".concat(t.txtaddressline1.toString(),",",t.txtpostal_code.toString());else var e="".concat(t.txtaddressline1.toString(),",",t.txtaddressline2.toString(),",",t.txtpostal_code.toString());var a={address:e},n="api/GoogleMapsAPI/GetGeoCoding";c.getparams(n,a).then(function(e){"OK"==e.data.status?(t.txtlatitude=e.data.results[0].geometry.location.lat.toString(),t.txtlongitude=e.data.results[0].geometry.location.lng.toString(),t.geocodingFailed=!1):"ZERO_RESULTS"==e.data.status&&(t.geocodingFailed=!0)})}},t.txtcountry="India",t.addressSubmit=function(){var a={addresstype_gid:t.cboaddresstype.address_gid,addresstype_name:t.cboaddresstype.address_type,primary_status:t.rdbprimaryaddress,addressline1:t.txtaddressline1,addressline2:t.txtaddressline2,postal_code:t.txtpostal_code,landmark:t.txtLand_Mark,taluka:t.txttaluka,city:t.txtcity,state:t.txtstate,district:t.txtdistrict,country:t.txtcountry,latitude:t.txtlatitude,longitude:t.txtlongitude,marketingcall_gid:u.search().lsmarketingcall_gid},n="api/Marketing/PostMarketingCallAddress";lockUI(),c.post(n,a).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),k()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})}),e.close("closed")}}a.open({templateUrl:"/addaddress.html",controller:t,backdrop:"static",keyboard:!1,size:"lg"});t.$inject=["$scope","$modalInstance"]},e.address_delete=function(t){var e={marketingcall2address_gid:t},a="api/Marketing/MarketingCallAddressDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),k()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})},e.address_edit=function(t){function e(t,e){var a="api/AddressType/GetAddressTypeASC";c.get(a).then(function(e){t.addresstype_list=e.data.addresstype_list});var n={inboundcall2address_gid:inboundcall2address_gid},a="api/Marketing/EditMarketingCallAddress";c.getparams(a,n).then(function(e){t.cboAddressType=e.data.addresstype_gid,t.rdbprimary_status=e.data.primary_status,t.txtaddressline1=e.data.addressline1,t.txtaddressline2=e.data.addressline2,t.txtlandmark=e.data.landmark,t.txtpostal_code=e.data.postal_code,t.txtcity=e.data.city,t.txttaluka=e.data.taluka,t.txtdistrict=e.data.district,t.txtstate=e.data.state,t.txtcountry=e.data.country,t.txtlatitude=e.data.latitude,t.txtlongitude=e.data.longitude}),t.ok=function(){e.close("closed")},t.txtcountry="India",t.address_update=function(){var a=$("#address_type :selected").text(),n={addresstype_gid:t.cboAddressType,addresstype_name:a,primary_status:t.rdbprimary_status,addressline1:t.txtaddressline1,addressline2:t.txtaddressline2,postal_code:t.txtpostal_code,taluka:t.txttaluka,city:t.txtcity,district:t.txtdistrict,state:t.txtstate,country:t.txtcountry,latitude:t.txtlatitude,longitude:t.txtlongitude,inboundcall2address_gid:inboundcall2address_gid,marketingcall_gid:t.marketingcall_gid},l="api/Marketing/UpdateMarketingCallAddress";lockUI(),c.post(l,n).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),k()):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})}),e.close("closed")}}a.open({templateUrl:"/editinboundcalladdress.html",controller:e,backdrop:"static",keyboard:!1,size:"lg"});e.$inject=["$scope","$modalInstance"]},e.StaticMapAndPhotos_View=function(t,e,n,l,o){function i(a,i){var r={latitude:t,longitude:e},s="api/GoogleMapsAPI/GetStaticMapUrl";if(c.getparams(s,r).then(function(t){a.staticmapImgUrl=t.data}),""==l)var u="".concat(n.toString(),",",o.toString());else var u="".concat(n.toString(),",",l.toString(),",",o.toString());var r={address:u},s="api/GoogleMapsAPI/GetPlaceImage";c.getparams(s,r).then(function(t){for(var e=[],n=0;n<t.data.length;n++)null!=t.data[n]&&(e[n]=t.data[n]);0==e.length?a.photoNotFound=!0:(a.photoUrlList=e,a.photoFound=!0)}),a.ok=function(){i.close("closed")}}a.open({templateUrl:"/StaticMapAndPhotosView.html",controller:i,backdrop:"static",keyboard:!1,size:"lg"});i.$inject=["$scope","$modalInstance"]},e.add_mobileno=function(){if(void 0==e.txtmobile_no||""==e.txtmobile_no||void 0==e.rdbprimary_status||void 0==e.rdbwhatsapp_status||void 0==e.rdbsms_to||""==e.rdbprimary_status||""==e.rdbwhatsapp_status||""==e.rdbsms_to)s.alert("Enter Mobile Number / Select Primary Status","warning");else if(e.txtmobile_no.length<10)s.alert("Enter 10 Digit Mobile Number","warning");else{var t={mobile_no:e.txtmobile_no,primary_status:e.rdbprimary_status,whatsapp_status:e.rdbwhatsapp_status,sms_to:e.rdbsms_to,marketingcall_gid:u.search().lsmarketingcall_gid
},a="api/Marketing/PostMarketingCallMobileNo";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),y(),e.txtmobile_no="",e.rdbprimary_status="",0==e.rdbprimary_status,e.rdbsms_to="",0==e.rdbsms_to,e.rdbwhatsapp_status="",0==e.rdbwhatsapp_status):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}},e.delete_mobileno=function(t){var e={marketingcall2mobileno_gid:t},a="api/Marketing/MarketingCallMobileNoDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),y()})},e.edit_mobileno=function(t){function e(e,a){var n={marketingcall2mobileno_gid:t},l="api/Marketing/EditMarketingCallMobileNo";c.getparams(l,n).then(function(t){e.txteditmobile_no=t.data.mobile_no,e.rdbeditprimary_status=t.data.primary_status,e.rdbeditwhatsapp_status=t.data.whatsapp_status,e.rdbeditsms_to=t.data.sms_to}),e.ok=function(){a.close("closed")},e.update_mobileno=function(){var n={mobile_no:e.txteditmobile_no,primary_status:e.rdbeditprimary_status,whatsapp_status:e.rdbeditwhatsapp_status,sms_to:e.rdbeditsms_to,marketingcall2mobileno_gid:t,marketingcall_gid:e.marketingcall_gid},l="api/Marketing/UpdateMarketingCallMobileNo";lockUI(),c.post(l,n).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),y()}),a.close("closed")}}a.open({templateUrl:"/editinboundcallmobileno.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.add_emailaddress=function(){if(void 0==e.txtemail_address||""==e.txtemail_address||void 0==e.rdbprimary_email||""==e.rdbprimary_email)s.alert("Enter Email Address/Select Status","warning");else{var t={email_address:e.txtemail_address,primary_status:e.rdbprimary_email,marketingcall_gid:u.search().lsmarketingcall_gid},a="api/Marketing/PostMarketingCallEmail";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?(s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}),M(),e.txtemail_address="",e.rdbprimary_email="",0==e.rdbprimary_email):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})})}},e.delete_emailaddress=function(t){var e={marketingcall2email_gid:t},a="api/Marketing/MarketingCallEmailDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),M()})},e.edit_emailaddress=function(t){function e(e,a){var n={marketingcall2email_gid:t},l="api/Marketing/EditMarketingCallEmail";c.getparams(l,n).then(function(t){e.txteditemail_address=t.data.email_address,e.rdbeditprimary_status=t.data.primary_status}),e.ok=function(){a.close("closed")},e.update_emailaddress=function(){var t={email_address:e.txteditemail_address,primary_status:e.rdbeditprimary_status,inboundcall2email_gid:inboundcall2email_gid,marketingcall_gid:e.marketingcall_gid},n="api/Marketing/UpdateMarketingCallEmail";lockUI(),c.post(n,t).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),M()}),a.close("closed")}}a.open({templateUrl:"/editinboundcallemail.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.add_followup=function(){if(void 0==e.txtfollowup_date||""==e.txtfollowup_date||void 0==e.txtfollowup_time||""==e.txtfollowup_time)s.alert("Enter Follow Up Date/Follow Up Time","warning");else{var t={followup_date:e.txtfollowup_date,followup_time:e.txtfollowup_time},a="api/Marketing/PostMarketingCallFollowUp";lockUI(),c.post(a,t).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),e.txtfollowup_date="",b(),e.txtfollowup_date="",e.txtfollowup_time=""})}},e.delete_followup=function(t){var e={marketingcall2followup_gid:t},a="api/Marketing/MarketingCallFollowUpDelete";lockUI(),c.getparams(a,e).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),b()})},e.edit_followup=function(t){function e(e,a){var n={marketingcall2followup_gid:t},l="api/Marketing/EditMarketingCallFollowUp";c.getparams(l,n).then(function(t){e.txteditfollowup_date=new Date(t.data.followup_date),"0001-01-01T00:00:00"==t.data.Tfollowup_time?e.txteditfollowup_time="":e.txteditfollowup_time=new Date(t.data.Tfollowup_time)}),e.ok=function(){a.close("closed")},e.update_followup=function(){var n={followup_date:e.txteditfollowup_date,followup_time:e.txteditfollowup_time,marketingcall2followup_gid:t,marketingcall_gid:e.marketingcall_gid},l="api/Marketing/UpdateMarketingCallFollowUp";lockUI(),c.post(l,n).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),b()}),a.close("closed")}}a.open({templateUrl:"/editinboundcallfollowup.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.download_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.document_downloads=function(t,e){g.Downloaddocument(t,e)},e.Back=function(){u.url("app/MstMarketingUnassignedLeadSummary")}}angular.module("angle").controller("MstMarketingUnassignedLeadEditController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){var t="api/Marketing/MarketingCallCount";c.get(t).then(function(t){e.unassignedcall_count=t.data.unassignedcall_count,e.assignedcall_count=t.data.assignedcall_count,e.completedcall_count=t.data.completedcall_count,e.followupcall_count=t.data.followupcall_count,e.closedcall_count=t.data.closedcall_count,e.rejectedcall_count=t.data.rejectedcall_count,unlockUI()});var t="api/Marketing/GetMarketingLeadSummary";c.get(t).then(function(t){e.ibcall_list=t.data.MarketingCall_list,unlockUI()})}var f=this;f.title="MstMarketingUnassignedLeadSummaryController",_(),lockUI(),e.addinbound=function(){u.url("app/MstMarketingAdd")},e.closedcall=function(){u.url("app/MstMarketingClosedCall")},e.followupcall=function(){u.url("app/MstMarketingFollowupCall")},e.assignedcall=function(){u.url("app/MstMarketingSummary")},e.completedcall=function(){u.url("app/MstMarketingCompletedCall")},e.view_inboundcall=function(t){u.url("app/MstMarketingUnassignedLeadView?hash="+g.encryptURL("lsmarketingcall_gid="+t+"&lspage=MarketingUnassignedLead"))},e.edit_uninboundcall=function(t){u.url("app/MstMarketingUnassignedLeadEdit?hash="+g.encryptURL("lsmarketingcall_gid="+t))},e.rejectedcall=function(){u.url("app/MstMarketingRejectedCallSummary")},e.transfer=function(t){function e(e,a,l,o,i,r,c,s,u,d,m,p,g){var f={marketingcall_gid:t},k="api/Marketing/MarketingCallDetailsForTransfer";u.getparams(k,f).then(function(t){a.marketingcall_gid=t.data.marketingcall_gid,a.ticket_refid=t.data.ticket_refid,a.assignemployee_gid=t.data.assignemployee_gid,a.assignemployee_name=t.data.assignemployee_name,a.ibcalltransfer_list=t.data.MarketingCalltransfer_list});var k="api/OsdTrnCustomerQueryMgmt/TransferEmployee";u.get(k).then(function(t){a.TransferEmployeeList=t.data.TransferEmployeeList,unlockUI()}),a.transfer_call=function(){if(void 0==a.cboTransferTo)return n.close("closed"),void d.alert("Kindly Select the Transfer to Person","warning");var t={marketingcall_gid:a.marketingcall_gid,ticket_refid:a.ticket_refid,transferfrom_gid:a.assignemployee_gid,transferfrom_name:a.assignemployee_name,transferto_gid:a.cboTransferTo,transferto_name:$("#transfer_to :selected").text(),transfer_remarks:a.transfer_remarks},e="api/Marketing/MarketingCallTransferEmployee";lockUI(),u.post(e,t).then(function(t){unlockUI(),(t.data.status=!0)?(n.close("closed"),d.alert(t.data.message,"success"),_()):(n.close("closed"),d.alert(t.data.message,"warning"),_())})},a.close=function(){n.close("closed")}}var n=a.open({templateUrl:"/transferContent.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams"]},e.closed_call=function(t){function e(e,a,l,o,i,r,c,s,u,d,m,p,g){a.close_call=function(){var e={marketingcall_gid:t,closed_remarks:a.closed_remarks},l="api/Marketing/MarketingCallAssignedClosed";lockUI(),u.post(l,e).then(function(t){unlockUI(),(t.data.status=!0)?(n.close("closed"),d.alert(t.data.message,"success"),_()):(n.close("closed"),d.alert(t.data.message,"warning"),_())})},a.close=function(){n.close("closed")}}var n=a.open({templateUrl:"/closedContent.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams"]}}angular.module("angle").controller("MstMarketingUnassignedLeadSummaryController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g,_){function f(){var t={marketingcall_gid:M},a="api/Marketing/GetMarketingCallAssignedView";c.getparams(a,t).then(function(t){e.txtticket_refid=t.data.ticket_refid,e.txtentity_name=t.data.entity_name,e.txtsourceofcontact_name=t.data.sourceofcontact_name,e.txtcallreceivednumber_name=t.data.callreceivednumber_name,e.txtcustomer_type=t.data.leadrequesttype_name,e.txtcallreceived_date=t.data.callreceived_date,e.txtcaller_name=t.data.caller_name,e.txtinternalreference_name=t.data.internalreference_name,e.txtcallerassociate_company=t.data.callerassociate_company,e.txtoffice_landlineno=t.data.office_landlineno,e.txtcalltype_name=t.data.calltype_name,e.txtfunction_name=t.data.function_name,e.txtfunction_remarks=t.data.function_remarks,e.txttat_hours=t.data.tat_hours,e.txtrequirement=t.data.requirement,e.ibcalltransfer_list=t.data.MarketingCalltransfer_list,e.txtenquiry_description=t.data.enquiry_description,e.txtcallclosure_status=t.data.callclosure_status,e.txtassignemployee_name=t.data.assignemployee_name,e.txtassign_date=t.data.assign_date,e.txtbase_location=t.data.baselocation_name,e.txttagemployee_name=t.data.tagemployee_name,e.txtassignclosure_remarks=t.data.assignclosure_remarks,e.ibcallextendfollowup_list=t.data.marketingcallextendfollowup_list,e.txtprimary_mobileno=t.data.primary_mobileno,e.ibcallmobileno_list=t.data.MarketingCallmobileno_list,e.txtprimary_email=t.data.primary_email,e.ibcallemail_list=t.data.MarketingCallemail_list,e.ibcallfollowup_list=t.data.MarketingCallfollowup_list,e.ibcalladdress_list=t.data.MarketingCalladdress_list,e.origination=t.data.origination,e.ibcalltaggedmember_list=t.data.MarketingCalltaggedmember_list,e.txtleadrequire_name=t.data.leadrequire_name,e.txtmilletrequire_name=t.data.milletrequire_name,e.txtenquiryrequire_name=t.data.enquiryrequire_name,e.txtstartuprequire_name=t.data.startuprequire_name,e.txtbusiness_name=t.data.business_name,e.txtindustry_name=t.data.industry_name,unlockUI()});var a="api/Marketing/GetDocumentList";c.getparams(a,t).then(function(t){e.lefilename=t.data.filename,e.lefilepath=t.data.filepath,e.document_list=t.data.document_list});var a="api/Marketing/GetMilletDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.milletdocument_list=t.data.milletdocument_list});var a="api/Marketing/GetEnquiryDocumentList";c.getparams(a,t).then(function(t){e.lmfilename=t.data.filename,e.lmfilepath=t.data.filepath,e.enquirydocument_list=t.data.enquirydocument_list})}var k=this;k.title="MstMarketingUnassignedLeadViewController";var y=_.decryptURL(u.search().hash),M=y.lsmarketingcall_gid;e.lspage=y.lspage;var b=e.lspage;f(),e.document_downloads=function(t,e){g.Downloaddocument(t,e)},e.download_all=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.download_allmillet=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.download_allenquiry=function(t,e){for(var a=0;a<e.length;a++)g.Downloaddocument(t,e[a])},e.milletdocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.enquirydocument_downloads=function(t,e){g.Downloaddocument(t,e)},e.documentviewer=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewermillet=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.documentviewerenquiry=function(t,e){lockUI();var a=_.fnCheckValidDocType(e,"DocumentViewerFormat");return 0==a?(s.alert("View is not supported for this format..!",{status:"danger",pos:"top-center",timeout:3e3}),unlockUI(),!1):void g.DocumentViewer(t,e)},e.Back=function(){"MarketingAddCall"==b?u.url("app/MstMarketingUnassignedLeadSummary"):"AssignedMarketing"==b?n.go("app.MstMarketingUnassignedLeadSummary"):"MarketingUnassignedLead"==b&&n.go("app.MstMarketingUnassignedLeadSummary")}}angular.module("angle").controller("MstMarketingUnassignedLeadViewController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","DownloaddocumentService","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p,g){function _(){var t="api/Marketing/GetEmpInProgressMarketingCallSummary";c.get(t).then(function(t){e.ibcall_list=t.data.MarketingCall_list,unlockUI()});var t="api/Marketing/EmployeeMarketingCallCount";c.get(t).then(function(t){e.assignedcall_count=t.data.assignedcall_count,e.transfercall_count=t.data.transfercall_count,e.completedcall_count=t.data.completedcall_count,e.rejectedcall_count=t.data.rejectedcall_count,e.inprogresscall_count=t.data.inprogresscall_count,e.tagmember_count=t.data.taggedcall_count,e.followupcall_count=t.data.followupcall_count,e.closedcall_count=t.data.closedcall_count,unlockUI()})}var f=this;f.title="MstMarketingWorkInprogressCallSummaryController",_(),e.myassigned_calls=function(){u.url("app/MstMarketingMyAssignedCallSummary")},e.tag_member=function(){u.url("app/MstMarketingTaggedMemberSummary")},e.transfer_calls=function(){u.url("app/MstMarketingTransferCallSummary")},e.completed_calls=function(){u.url("app/MstMarketingCompletedCallSummary")},e.call_response=function(t){u.url("app/MstMarketingCallResponse?hash="+g.encryptURL("marketingcall_gid="+t))},e.view=function(t){u.url("app/MstMarketingAssignView?hash="+g.encryptURL("marketingcall_gid="+t))},e.edit=function(t){u.url("app/MstMarketingEdit?hash="+g.encryptURL("marketingcall_gid="+t))},e.work_inprogress=function(){u.url("app/MstMarketingWorkInprogressCallSummary")},e.acknowledge=function(t){u.url("app/MstMarketingAssignedCalls?hash="+g.encryptURL("marketingcall_gid="+t))},e.followup_call=function(){u.url("app/MstMarketingFollowUpCallSummary")},e.mbdrejected_calls=function(){u.url("app/MstMarketingMBDRejectedCallSummary")},e.closedcall=function(){u.url("app/MstMarketingMyleadsClosedCall")},e.transfer=function(t){function e(e,a,l,o,i,r,c,s,u,d,m,p,g){var f={marketingcall_gid:t},k="api/Marketing/MarketingCallDetailsForTransfer";u.getparams(k,f).then(function(t){a.marketingcall_gid=t.data.marketingcall_gid,a.ticket_refid=t.data.ticket_refid,a.assignemployee_gid=t.data.assignemployee_gid,a.assignemployee_name=t.data.assignemployee_name,a.ibcalltransfer_list=t.data.ibcalltransfer_list});var k="api/OsdTrnCustomerQueryMgmt/TransferEmployee";u.get(k).then(function(t){a.TransferEmployeeList=t.data.TransferEmployeeList,unlockUI()}),a.transfer_call=function(){if(void 0==a.cboTransferTo)return n.close("closed"),void d.alert("Kindly Select the Assign to Person","warning");var t={marketingcall_gid:a.marketingcall_gid,ticket_refid:a.ticket_refid,transferfrom_gid:a.assignemployee_gid,transferfrom_name:a.assignemployee_name,transferto_gid:a.cboTransferTo,transferto_name:$("#transfer_to :selected").text(),transfer_remarks:a.transfer_remarks},e="api/Marketing/MarketingCallTransferEmployee";lockUI(),u.post(e,t).then(function(t){unlockUI(),(t.data.status=!0)?(n.close("closed"),d.alert(t.data.message,"success"),_()):(n.close("closed"),d.alert(t.data.message,"warning"),_())})},a.close=function(){n.close("closed")}}var n=a.open({templateUrl:"/transferContent.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","$route","ngTableParams"]}}angular.module("angle").controller("MstMarketingWorkInprogressCallSummaryController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams","cmnfunctionService"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p){function g(){var t="api/Marketing/MarketingAssignedCallCount";c.get(t).then(function(t){e.assignedcall_count=t.data.assignedcall_count,e.completedcall_count=t.data.completedcall_count,e.followupcall_count=t.data.followupcall_count,e.closedcall_count=t.data.closedcall_count,e.rejectedcall_count=t.data.rejectedcall_count,unlockUI()});var t="api/Marketing/GetRejectedCallSummary";c.get(t).then(function(t){e.ibrejectedcall_list=t.data.MarketingCall_list,unlockUI()})}var _=this;_.title="MstRejectedMarketingSummaryController",g(),e.closed_call=function(){u.url("app/MstClosedMarketingSummary")},e.followup_call=function(){u.url("app/MstFollowUpMarketingSummary")},e.assigned_call=function(){u.url("app/MstAssignedMarketingSummary")},e.completed_call=function(){u.url("app/MstCompletedMarketingSummary")},e.view=function(t){u.url("app/MstMarketingManageRejectedCallView?marketingcall_gid="+t)},e.rejected_call=function(){u.url("app/MstRejectedMarketingSummary")}}angular.module("angle").controller("MstRejectedMarketingSummaryController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}(),function(){"use strict";function t(t,e,a,n,l,o,i,r,c,s,u,d,m,p){function g(){var t="api/MstStartupRequire/GetStartupRequire";lockUI(),c.get(t).then(function(t){e.startuprequire_list=t.data.startuprequire_list,unlockUI()})}var _=this;_.title="StartupRequireController",g(),e.popupstartuprequire=function(){function t(t,e){t.ok=function(){e.close("closed")},t.startuprequireSubmit=function(){var a={startuprequire_name:t.txtstartuprequire,lms_code:t.txtlms_code,bureau_code:t.txtbureau_code},n="api/MstStartupRequire/CreateStartupRequire";lockUI(),c.post(n,a).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):(e.close("closed"),s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3})),g()}),e.close("closed")}}a.open({templateUrl:"/myModalContent.html",controller:t,backdrop:"static",keyboard:!1,size:"md"});t.$inject=["$scope","$modalInstance"]},e.editstartuprequire=function(t){function e(e,a){var n={startuprequire_gid:t},l="api/MstStartupRequire/EditStartupRequire";c.getparams(l,n).then(function(t){e.txteditlms_code=t.data.lms_code,e.txteditbureau_code=t.data.bureau_code,e.txtstartuprequire=t.data.startuprequire_name,e.startuprequire_gid=t.data.startuprequire_gid}),e.ok=function(){a.close("closed")},e.startuprequireUpdate=function(){var t="api/MstStartupRequire/UpdateStartupRequire",n={lms_code:e.txteditlms_code,bureau_code:e.txteditbureau_code,startuprequire_name:e.txtstartuprequire,startuprequire_gid:e.startuprequire_gid};lockUI(),c.post(t,n).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g()}),a.close("closed")}}a.open({templateUrl:"/editstartuprequire.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.Status_update=function(t){function e(e,a){var n={startuprequire_gid:t},l="api/MstStartupRequire/EditStartupRequire";c.getparams(l,n).then(function(t){e.startuprequire_gid=t.data.startuprequire_gid,e.txtstartuprequire=t.data.startuprequire_name,e.rbo_status=t.data.Status}),e.ok=function(){a.close("closed")},e.update_status=function(){var t={startuprequire_name:e.txtstartuprequire,startuprequire_gid:e.startuprequire_gid,remarks:e.txtremarks,rbo_status:e.rbo_status},n="api/MstStartupRequire/InactiveStartupRequire";lockUI(),c.post(n,t).then(function(t){unlockUI(),1==t.data.status?s.alert(t.data.message,{status:"success",pos:"top-center",timeout:3e3}):s.alert(t.data.message,{status:"info",pos:"top-center",timeout:3e3}),g()}),a.close("closed")};var l="api/MstStartupRequire/StartupRequireInactiveLogview";lockUI(),c.getparams(l,n).then(function(t){e.startuprequireinactivelog_data=t.data.startuprequire_list,unlockUI()})}a.open({templateUrl:"/statusaudittype.html",controller:e,backdrop:"static",keyboard:!1,size:"md"});e.$inject=["$scope","$modalInstance"]},e.deletestartuprequire=function(t){var e={startuprequire_gid:t};o.swal({title:"Are you sure?",text:"Do You Want To Delete the Record ?",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(t){if(t){var a="api/MstStartupRequire/DeleteStartupRequire";c.getparams(a,e).then(function(t){1==t.data.status?(o.swal("Deleted Successfully!"),g()):(s.alert(t.data.message,{status:"warning",pos:"top-center",timeout:3e3}),g())})}})}}angular.module("angle").controller("StartupRequireController",t),t.$inject=["$rootScope","$scope","$modal","$state","AuthenticationService","SweetAlert","ScopeValueService","$http","SocketService","Notify","$location","apiManage","$route","ngTableParams"]}();