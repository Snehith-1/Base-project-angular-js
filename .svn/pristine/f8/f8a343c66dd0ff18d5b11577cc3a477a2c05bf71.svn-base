<style>
    .space {
        margin: 10px 0px;
    }
</style>
<h3>
    View Extension / Waiver Details
</h3>
<div ng-controller="MstDeferralMyApprovalHistorycontroller">
    <div class="panel">
        <!--<div class="panel-heading bg-primary">
            <h5><i class="fa fa-eye"></i> &nbsp; View Extension / Waiver - Customer Name {{txtbasiccustomer_name}} </h5>
        </div>-->
        <div style="color :#000000 ;font-size:14px;font-weight :bold;">
            <div class="col-lg-8 col-md-8 col-sm-8" style="background-color:#3a4ccb;color:white;padding-top:10px;padding-bottom:10px;">
                <h5 class="ng-binding"><i class="fa fa-eye"></i> &nbsp; Customer Name: {{txtbasiccustomer_name}}</h5>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-4" style="background-color:#3a4ccb;color:white;padding-top:10px;padding-bottom:10px;">
                <h5 class="ng-binding">Appplication Number: {{txtapplication_no}}</h5>
            </div>
        </div>
        <div class="modal-body ng-scope">

            <div class="row">

                <div class="col-lg-12 col-sm-12 col-md-12">
                    <br />
                    <div class="col-md-3 col-lg-3 col-sm-3">
                        <label>Customer Name</label><br>
                        {{txtbasiccustomer_name}}
                    </div>
                    <div class="col-md-3 col-lg-3 col-sm-3">
                        <label>Customer URN</label><br>
                        {{lblcustomer_urn}}
                    </div>
                    <div class="col-md-3 col-lg-3 col-sm-3">
                        <label>Vertical</label><br>
                        {{txtvertical}}
                    </div>
                    <div class="col-md-3 col-lg-3 col-sm-3">
                        <label for="">Approval Status</label><br>
                        {{txtapproval_status}}
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-sm-12 col-md-12">
                    <br />
                    <div class="col-md-3 col-lg-3 col-sm-3">
                        <label> Activity Type</label><br>
                        {{lblactivity_type}}
                    </div>
                    <div class="col-md-3 col-lg-3 col-sm-3">
                        <label>Activity Title</label><br>
                        {{lblactivity_title}}
                    </div>
                    <div class="col-md-3 col-lg-3 col-sm-3">
                        <label>Extended Due Date / Due Date</label><br>
                        {{lblextendeddue_date}} {{lbldue_date}}
                    </div>
                    <div class="col-md-3 col-lg-3 col-sm-3">
                        <label>Initiated By / Date</label><br>
                        {{lblcreated_by}} / {{lblcreated_date}}
                    </div>
                </div>
            </div>

            <br>
            <div class="row">
                <div class="col-lg-12 col-sm-12 col-md-12">
                    <div class="col-md-6 col-lg-6 col-sm-6">
                        <label>Reason</label><br>
                        {{lblreason}}
                    </div>
                </div>
            </div>
            <br> 
            <div class="dd-handle ng-scope">
                <p class="text-primary" style="font-size:14px;"><b> Softcopy Document Details </b></p>
                <hr class="space" />
                <div class="row">
                    <div class="col-lg-12 col-sm-12 col-md-12">
                        <div class="table-responsive table-bordered">
                            <div style="max-height:200px;overflow:auto;">
                                <table class="table">
                                    <thead class="bg-gray text-white">
                                        <tr width="100%">
                                            <th scope="col">S.No</th>
                                            <th scope="col"> Document Title </th>
                                            <th scope="col"> Document Name </th>
                                            <th scope="col"> Uploaded By/On </th>
                                            <th> Action </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="data in scanneduploaddocumentlist" width="100%">
                                            <td title="S.No">{{$index+1}}</td>
                                            <td title="Document Title">{{data.documenttype_name}}</td>
                                            <td title="Document Name">{{data.file_name}}</td>
                                            <td title="Uploaded By/On"> {{data.created_by}}/{{data.created_date}}</td>
                                            <td title="Action">
                                                <button title="Download" class="btn btn-green btn-sm"
                                                        ng-click="doc_downloads(data.file_path,data.file_name)">
                                                    <em class="fa fa-download"></em><a download="" href="" id="btnpdf" style="display:none;"></a>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br />
            <div class="dd-handle ng-scope" ng-show="lblfromphysical_document=='Y'">
                <p class="text-primary" style="font-size:14px;"><b> Original Copy Document Details </b></p>
                <hr class="space" />
                <div class="row">
                    <div class="col-lg-12 col-sm-12 col-md-12">
                        <div class="table-responsive table-bordered">
                            <div style="max-height:200px;overflow:auto;">
                                <table class="table">
                                    <thead class="bg-gray text-white">
                                        <tr width="100%">
                                            <th scope="col">S.No</th>
                                            <th scope="col"> Document Title </th>
                                            <th scope="col"> Document Name </th>
                                            <th scope="col"> Uploaded By/On </th>
                                            <th> Action </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="data in physicaluploaddocumentlist" width="100%">
                                            <td title="S.No">{{$index+1}}</td>
                                            <td title="Document Title">{{data.documenttype_name}}</td>
                                            <td title="Document Name">{{data.file_name}}</td>
                                            <td title="Uploaded By/On"> {{data.created_by}}/{{data.created_date}}</td>
                                            <td title="Action">
                                                <button title="Download" class="btn btn-green btn-sm"
                                                        ng-click="doc_downloads(data.file_path,data.file_name)">
                                                    <em class="fa fa-download"></em>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br />
            <div class="dd-handle ng-scope">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <p class="text-primary" style="font-size:13px;"><b>&nbsp;&nbsp; Extension / Waiver Summary </b></p>
                        <hr />
                        <div class="table-responsive table-bordered">
                            <div style="max-height:250px;overflow:auto;">
                                <table class="table">
                                    <thead class="bg-gray text-white">
                                        <tr>
                                            <th>S.No</th>
                                            <th>Initiated Date</th>
                                            <th>Activity Type</th>
                                            <th>Title</th>
                                            <th>Due Date</th>
                                            <th>Extended Due Date</th>
                                            <th>Reason & Approval Details </th>
                                            <th>Approval Status</th>

                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="data in intiatextension_list">
                                            <td>{{$index+1}}</td>
                                            <td>{{data.created_date}}</td>
                                            <td>{{data.activity_type}}</td>
                                            <td>{{data.activity_title}}</td>
                                            <td>{{data.due_date}}</td>
                                            <td>{{data.extendeddue_date}}</td>
                                            <td>
                                                <button title="View" ng-click="reasonapproval_view(data.reason,data.approval_status, data.initiateextendorwaiver_gid)" class="btn btn-info">
                                                    <em class="fa fa-eye"></em>
                                                </button>
                                            </td>
                                            <td>{{data.approval_status}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br/>
            <div class="dd-handle ng-scope">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <p class="text-primary" style="font-size:14px;"><b> Approval Details</b></p>
                        <hr class="space" />
                        <div class="row">
                            <div class="col-lg-12 col-sm-12 col-md-12">
                                <div class="table-responsive">
                                    <table class="table table-striped table-secondary">
                                        <thead class="bg-gray text-white">
                                            <tr width="100%">
                                                <th align="center" scope="col">S.No</th>
                                                <th align="center" scope="col">Approval Initated to</th>
                                                <th align="center" scope="col">Approval Status</th>
                                                <th align="center" scope="col">Approved / Rejected Date</th>
                                                <th>Approval Remarks</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="data in deferralapprovaldtl" width="100%">
                                                <td align="left" scope="col" title="S.No">
                                                    {{$index+1}}
                                                </td>
                                                <td align="left" scope="col" title="Approval Initated to">
                                                    {{data.approval_name}}
                                                </td>
                                                <td align="left" scope="col" title="Approval Status">
                                                    {{data.approval_status}}
                                                </td>
                                                <td align="left" scope="col" title="Approved / Rejected Date">
                                                    {{data.approvedrejected_date}}
                                                </td>
                                                <td>
                                                    <button title="Approval Remarks" class="btn btn-info btn-sm"
                                                            ng-click="approval_remarks(data.approval_remarks)">
                                                        <em class="fa fa-eye"></em>
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> 
            <br /><br />
            <div class="row text-center">
               
                <button class="btn btn-sm btn-info" ng-click="Back()"
                        style="font-size:14px;" type="submit">
                    <i class="fa fa-arrow-circle-left"></i>&nbsp; Back
                </button>
            </div>
            <br />
        </div>

    </div> 

    <script type="text/ng-template" id="/remarkshistory.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <em style="font-size:16px" class="fa fa-file-text-o"></em>&nbsp;<label style="font-size:16px">Approval Remarks</label>
                <span flex></span>
                <button ng-click="ok()" class="pull-right btn btn-primary"><i class="fa fa-close"></i></button>
            </div>

        </md-toolbar>
        <div class="modal-content">
            <div class="modal-body ng-scope">

                <form novalidate="" name="userform1" ng-submit="form.submitLoan()" autocomplete="off" class="form-validate mb-lg">
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div class="dd-handle ng-scope">
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <label>Reason : </label>
                                        <br />
                                        <p>{{lblapproval_remarks}}</p>
                                    </div>
                                </div> 
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="text-center">
                        <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                    </div>
                </form>
            </div>
        </div>
    </script>

    <script type="text/ng-template" id="/remarksandreasondtl.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <em style="font-size:16px" class="fa fa-file-text-o"></em>&nbsp;<label style="font-size:16px">Reason & Approval Details</label>
                <span flex></span>
                <button ng-click="ok()" class="pull-right btn btn-primary"><i class="fa fa-close"></i></button>
            </div>

        </md-toolbar>
        <div class="modal-content">
            <div class="modal-body ng-scope">

                <form novalidate="" name="userform1" ng-submit="form.submitLoan()" autocomplete="off" class="form-validate mb-lg">
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div class="dd-handle ng-scope">
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <label>Reason : </label>
                                        <br />
                                        <p>{{lblreason}}</p>
                                    </div>
                                </div>
                                <hr />
                                <div class="row" ng-if="lblapproval_status!=''">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <label>Approval : </label>
                                        <br />
                                        <p>{{lblapproval_status}}</p>
                                    </div>
                                </div>

                                <div class="row" ng-if="lblapproval_status== ''">
                                    <div class="col-sm-12 col-lg-12 col-md-12">
                                        <label>Approval Details </label>
                                        <div class="table-responsive">
                                            <table class="table table-striped table-secondary">
                                                <thead>
                                                    <tr>
                                                        <th align="center" scope="col">S.No</th>
                                                        <th align="center" scope="col">Approval Initated to</th>
                                                        <th align="center" scope="col">Approval Status</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="data in approvallist">
                                                        <td align="left" scope="col" title="S.No">
                                                            {{$index+1}}
                                                        </td>
                                                        <td align="left" scope="col" title="Approval Initated to">
                                                            {{data.approval_name}}
                                                        </td>
                                                        <td align="left" scope="col" title="Approval Status">
                                                            <p ng-if="data.approval_status!='Pending'"><b>{{data.approval_status}} </b>On {{data.approvedrejected_date}}</p>
                                                            <p ng-if="data.approval_status!='Pending'"><b>Remarks -</b> {{data.approval_remarks}}</p>
                                                            <p ng-if="data.approval_status=='Pending'">{{data.approval_status}}</p>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="text-center">
                        <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                    </div>
                </form>
            </div>
        </div>
    </script>
</div>