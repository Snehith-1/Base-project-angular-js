<style>
    .nav.nav-pills .active > a {
        background-color: rgb(19,14,89);
        background: linear-gradient(90deg, rgba(19,14,89,1) 0%, rgba(65,65,185,1) 35%, rgba(0,212,255,1) 100%);
        color: #ffffff;
    }
</style>
<script>

    var validate = function (e) {
        var t = e.value;
        e.value = (t.indexOf(".") >= 0) ? (t.substr(0, t.indexOf(".")) + t.substr(t.indexOf("."), 5)) : t;
    }
    var validatetwodecimal = function (e) {
        var t = e.value;
        e.value = (t.indexOf(".") >= 0) ? (t.substr(0, t.indexOf(".")) + t.substr(t.indexOf("."), 3)) : t;
    }
</script>
<h3>
    Customer Application
</h3>
<div ng-controller="AgrTrnCreditLoanDtlEditController as dp">
    <div class="panel">
        <div class="panel-heading" style="background-color:rgb(19,14,89);background: linear-gradient(90deg, rgba(19,14,89,1) 0%, rgba(65,65,185,1) 35%, rgba(0,212,255,1) 100%);color:#ffffff">
            <h5> Edit Loan </h5>
        </div>
        <div class="panel">
            <div class="panel-body">
                <div>
                    <br />
                    <form name="loan" ng-submit="form.submitForm2()" novalidate="" autocomplete="off" class="form-validate form-horizontal">

                        <div class="dd-handle ng-scope">
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <p class="text-primary" style="font-size:16px;"><b>&nbsp;&nbsp; Trade Features </b></p>
                                    <hr />
                                    <label>Proposed Limit: </label>
                                    <label class="label label-primary" style="font-size:14px;"> {{lbloveralllimit_amount}}</label>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <br />
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label"> Facility Requested On <span style="color:red"> *</span> </label>
                                        <br />
                                        <p class="input-group">
                                            <input type="text" id="txteditfacilityreqon_date" name="txteditfacilityreqon_date" ng-model="txteditfacilityreqon_date" datepicker-popup="{{dp.format}}"
                                                   style="height:36px;" is-open="dp.open1" min-date="dp.minDate" datepicker-options="dp.dateOptions"
                                                   close-text="Close" class="form-control" placeholder="DD-MM-YYYY" />
                                            <span class="input-group-btn">
                                                <button type="button" ng-click="dp.calender1($event)" style="height:36px;" class="btn btn-default">
                                                    <em class="fa fa-calendar"></em>
                                                </button>
                                            </span>
                                        </p>
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label"> Product Name  </label> <span style="color:red">*</span>
                                        <br />
                                        <p style="font-size:14px;" ng-model="lblproduct_type">{{lblproduct_type}}</p>
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label"> Program Name </label> <span style="color:red">*</span>
                                        <br />
                                        <p style="font-size:14px;" ng-model="lblproductsub_type">{{lblproductsub_type}}</p>
                                    </div>
                                    <!--<div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label">Product Name <span style="color:red"> *</span> </label>
                                        <br />
                                        <select name="loanproduct_name" ng-options="m.loanproduct_gid as m.loanproduct_name  for m in loanproductlist"
                                                id="loanproduct_name" ng-model="cboProductTypelist" class="form-control" style="height:37px;" chosen=""
                                                size="1" ng-change="producttype()">
                                            <option value=""> -----Select Product Name -----</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label">Program Name <span style="color:red"> *</span></label>
                                        <br />
                                        <select name="loansubproduct_name" ng-options="m.loansubproduct_gid as m.loansubproduct_name for m in loansubproductlist"
                                                id="loansubproduct_name" ng-model="cboProductSubTypelist" class="form-control" style="height:37px;" chosen=""
                                                size="1">
                                            <option value=""> -----Select Program Name -----</option>
                                        </select>
                                    </div>-->
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <!--<label class="col-form-label">Loan Type  <span style="color:red"> *</span></label>-->
                                        <label class="col-form-label">Trade Type  <span style="color:red"> *</span></label>

                                        <br />
                                        <select name="loan_type" ng-options="m.loantype_gid as m.loan_type for m in loantypelist" ng-change="loantypechange()"
                                                id="loan_type" ng-model="cboLoanTypelist" class="form-control" style="height:37px;" chosen=""
                                                size="1">
                                            <option value=""> -----Select Trade Type -----</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <!--<label class="col-form-label"> Facility Loan Amount <span style="color:red"> *</span> </label>-->
                                        <label class="col-form-label"> Proposed Program Limit <span style="color:red"> *</span> </label>
                                        <br />
                                        <!--<input id="valueamount" ng-model="txtloanfaility_amount" class="form-control ng-pristine ng-valid ng-touched"
                                        ng-change="txtfacility()" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" step="0.01" style="text-align:right;">-->
                                        <input ng-hide="zerofacility" id="valueamount" ng-model="txtloanfaility_amount" maxlength="15" class="form-control ng-pristine ng-valid ng-touched"
                                               required ng-change="txtfacility()" ng-pattern="/^[0-9,]+(\.[0-9]{1,2})?$/" step="0.01" style="text-align:right;">

                                        <input ng-show="zerofacility" id="valueamount" ng-model="txtloanfaility_amount" maxlength="15" class="form-control ng-pristine ng-valid ng-touched"
                                               required ng-pattern="/^[0-9,]+(\.[0-9]{1,2})?$/" disabled step="0.01" style="text-align:right;">
                                        <span style="font-style:italic;">Number in words:</span>
                                        <span id="words_totalamount1" style="color:#003c96fc;" class="text-bold"></span>
                                        <div ng-hide="amount_validation">
                                            <label style="color:red;">Amount Exceeded From Overall Limit </label>
                                        </div>
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label"> Remaining </label>
                                        <br />
                                        <input type="text" ng-disabled="true" style="text-align:right;" class="form-control ng-pristine ng-valid ng-touched"
                                               ng-model="txtremaining" />
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <!--<label class="col-form-label"> Rate of Interest / Margin  <span style="color:red"> *</span></label>-->
                                        <label class="col-form-label"> Margin(%)  </label> <span style="color:red">*</span>
                                        <br />
                                        <input type="text" ng-model="txteditrate_interest" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" tabindex="0" class="form-control" maxlength="10" />
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label"> Penal Interest(%) <span style="color:red"> *</span> </label>
                                        <br />
                                        <input type="text" ng-model="txteditpanel_interest" tabindex="0" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" class="form-control" maxlength="10" />
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label"> Trade Originated by <span style="color:red"> *</span></label>
                                        <br />
                                        <div class="radio c-radio">
                                            <label>
                                                <input type="radio" id="rdbTradeOriginated1" name="rdbTradeOriginated1" value="BuyerOriginated"
                                                       ng-model="rdbTradeOriginated" required />
                                                &nbsp;&nbsp;<span class="fa fa-circle"></span>Buyer Originated
                                            </label>
                                            <label>
                                                <input type="radio" id="rdbTradeOriginated1" name="rdbTradeOriginated1" value="SupplierOriginated"
                                                       ng-model="rdbTradeOriginated" required />
                                                <span class="fa fa-circle"></span>Supplier Originated
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label"> Program Limit Validity from </label>
                                        <br />
                                        <p class="input-group">
                                            <input type="text" id="dob" name="date" ng-model="txtProgramLimitValidityfrom" datepicker-popup="{{dp.format}}"
                                                   style="height:30px;" is-open="dp.open17" min-date="dp.minDate" datepicker-options="dp.dateOptions"
                                                   close-text="Close" class="form-control" placeholder="DD-MM-YYYY" ng-change="ProgramLimitValidity()" />
                                            <span class="input-group-btn">
                                                <button type="button" ng-click="dp.calender17($event)" style="height:30px;" class="btn btn-default">
                                                    <em class="fa fa-calendar"></em>
                                                </button>
                                            </span>

                                        </p>
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label">Program Limit Validity To </label>
                                        <br />
                                        <p class="input-group">
                                            <input type="text" id="dob" name="date" ng-model="txtProgramLimitValidityTo" datepicker-popup="{{dp.format}}"
                                                   style="height:30px;" is-open="dp.open18" min-date="dp.minDate" datepicker-options="dp.dateOptions"
                                                   close-text="Close" class="form-control" placeholder="DD-MM-YYYY" ng-change="ProgramLimitValidity()" />
                                            <span class="input-group-btn">
                                                <button type="button" ng-click="dp.calender18($event)" style="height:30px;" class="btn btn-default">
                                                    <em class="fa fa-calendar"></em>
                                                </button>
                                            </span>

                                        </p>
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label"> Calculation of Program limit validity </label>
                                        <br />
                                        <input type="text" ng-model="txtoverallprogramvalidity_limit" tabindex="0" class="form-control" disabled />
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <!--<div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label"> Tenure of the product / Credit Period (years) <span style="color:red">*</span></label>
                                        <label class="col-form-label">   Credit Period Limit (years)  <span style="color:red">*</span></label>
                                        <br />
                                        <input type="text" ng-model="txtedittenure_years" tabindex="0" class="form-control" ng-change="calculatetenure()" ng-pattern="/^[0-9]+$/" />
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label"> Credit Period Limit (months) <span style="color:red">*</span></label>
                                        <br />
                                        <input type="text" ng-model="txtedittenure_months" tabindex="0" class="form-control" ng-change="calculatetenure()" ng-pattern="/^[0-9]+$/" />
                                    </div>-->
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label">  Credit Period Limit (days) <span style="color:red">*</span></label>
                                        <br />
                                        <input type="text" ng-model="txtedittenure_days" tabindex="0" class="form-control" ng-change="calculatetenure()" ng-pattern="/^[0-9]+$/" />
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label"> Calculation of Credit Period Limit validity <span style="color:red">*</span></label>
                                        <br />
                                        <input type="text" ng-model="txteditoveralllimit_validity" tabindex="0" class="form-control" disabled />
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label"> Product Type  <span style="color:red">*</span></label>
                                        <br />
                                        <select name="FacilityType"
                                                ng-model="cboFacilityTypelist" class="form-control ng-valid ng-touched ng-valid-parse" style="height:37px;"
                                                size="1">
                                            <option value=""> ----- Select Product Type  -----</option>
                                            <option value="New"> New </option>
                                            <option value="Existing"> Existing</option>

                                        </select>
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label"> Program mode <span style="color:red">*</span></label>
                                        <br />
                                        <select name="Facilitymode"
                                                ng-model="cboFacilitymodelist" class="form-control ng-valid ng-touched ng-valid-parse" style="height:37px;"
                                                size="1">
                                            <option value=""> ----- Select Program mode -----</option>
                                            <option value="Revolving"> Revolving </option>
                                            <option value="Non Revolving">Non Revolving </option>
                                            <option value="Not Applicable"> Not Applicable</option>
                                        </select>
                                    </div>

                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label"> SA/Brokerage %  </label> <span style="color:red">*</span>
                                        <br />
                                        <input type="text" required ng-model="txtsabrokerage" maxlength="10" tabindex="0" class="form-control" ng-pattern="/^[0-9+]*$/" />
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3">
                                        <label class="col-form-label"> Scheme Type </label>
                                        <br />
                                        <p style="font-size:14px;">Financial statement method</p>
                                    </div>
                                    <!--<div class="col-lg-3 col-md-3 col-sm-3">
                                        <label>Principal Frequency </label>
                                        <br />
                                        <select name="principalfrequency_name" ng-options="m.principalfrequency_gid as m.principalfrequency_name for m in principalfrequencylist"
                                                id="principalfrequency_name" ng-model="cboprincipalfrequency" class="form-control" style="height:37px;" chosen=""
                                                size="1">
                                            <option value=""> -----Select Principal Frequency -----</option>
                                        </select>
                                    </div>-->
                                </div>
                            </div>
                            <br />
                            <!--<div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <div class="col-lg-3 col-md-3 col-sm-3" >
                                        <label class="col-form-label"> Interest Frequency  </label>
                                        <br />
                                        <select name="interestfrequency_name" ng-options="m.interestfrequency_gid as m.interestfrequency_name  for m in interestfrequencylist"
                                                id="interestfrequency_name" ng-model="cboInterestFrequency " class="form-control " style="height:37px;" chosen=""
                                                size="1">
                                            <option value=""> -----Select Interest Frequency -----</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-2 col-md-2 col-sm-2"  ng-show="ARF_condition">
                                        <label>Interest to be deducted upfront </label>
                                        <div class="radio c-radio">
                                            <label>
                                                <input type="radio" id="Interest" name="Interest" value="Yes" ng-model="rdbinterest_status" />
                                                &nbsp;&nbsp;<span class="fa fa-circle"></span>Yes
                                            </label>
                                            <label>
                                                <input type="radio" id="Interest" name="Interest" value="No" ng-model="rdbinterest_status" />
                                                <span class="fa fa-circle"></span>No
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-lg-2 col-md-2 col-sm-2" ng-show="ARF_condition">
                                        <label>Interest to be deducted upfront </label>
                                        <input type="text" ng-model="test" tabindex="0" class="form-control" disabled />
                                    </div>
                                    <div class="col-lg-2 col-md-2 col-sm-2" ng-show="txtedittenure_days!='0'">
                                        <label class="col-form-label"> Moratorium Applicable </label>
                                        <br />
                                        <div class="radio c-radio">
                                            <label>
                                                <input type="radio" id="MoratoriumApplicable" name="Moratorium Applicable" value="Yes"
                                                       ng-model="rdbmoratorium_status" ng-change="onselectedmoratoriumyes();"/>
                                                &nbsp;&nbsp;<span class="fa fa-circle"></span>Yes
                                            </label>
                                            <label>
                                                <input type="radio" id="MoratoriumApplicable" name="Moratorium Applicable" value="No"
                                                       ng-model="rdbmoratorium_status" ng-change="onselectedmoratoriumyes();" />
                                                <span class="fa fa-circle"></span>No
                                            </label>
                                        </div>

                                    </div>
                                    <div class="col-lg-2 col-md-2 col-sm-2" ng-show="txtedittenure_days=='0'">
                                        <label class="col-form-label"> Moratorium Applicable </label>
                                        <br />
                                        <input type="text" ng-model="test1" tabindex="0" class="form-control" disabled />
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3" ng-show="rdbmoratorium_status=='Yes'">
                                        <label class="col-form-label"> Moratorium Type  </label> <span style="color:red">*</span>
                                        <br />
                                        <select name="Moratoriumtype"
                                                ng-model="cbomoratorium_type" class="form-control  ng-valid ng-touched ng-valid-parse" style="height:37px;"
                                                size="1">
                                            <option value=""> ----- Select Moratorium Type -----</option>
                                            <option value="Principal"> Principal </option>
                                            <option value="Principal and interest"> Principal and interest </option>
                                        </select>
                                    </div>
                                </div>
                            </div>-->
                            <!--<br />-->
                            <!--<div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <div class="col-lg-3 col-md-3 col-sm-3" ng-show="rdbmoratorium_status=='Yes'">
                                        <label class="col-form-label"> Moratorium Start Date <span style="color:red"> *</span></label>
                                        <br />
                                        <p class="input-group">
                                            <input type="text" id="txtmoratorium_startdate" name="txtmoratorium_startdate" ng-model="txtmoratorium_startdate" datepicker-popup="{{dp.format}}"
                                                   style="height:36px;" is-open="dp.open2" min-date="dp.minDate" datepicker-options="dp.dateOptions"
                                                   close-text="Close" class="form-control" placeholder="DD-MM-YYYY" />
                                            <span class="input-group-btn">
                                                <button type="button" ng-click="dp.calender2($event)" style="height:36px;" class="btn btn-default">
                                                    <em class="fa fa-calendar"></em>
                                                </button>
                                            </span>
                                        </p>
                                    </div>
                                    <div class="col-lg-3 col-md-3 col-sm-3"  ng-show="rdbmoratorium_status=='Yes'">
                                        <label class="col-form-label"> Moratorium End Date <span style="color:red"> *</span></label>
                                        <br />
                                        <p class="input-group">
                                            <input type="text" id="txtmoratorium_enddate" name="txtmoratorium_enddate" ng-model="txtmoratorium_enddate" datepicker-popup="{{dp.format}}"
                                                   style="height:36px;" is-open="dp.open3" min-date="dp.minDate" datepicker-options="dp.dateOptions"
                                                   close-text="Close" class="form-control" placeholder="DD-MM-YYYY" />
                                            <span class="input-group-btn">
                                                <button type="button" ng-click="dp.calender3($event)" style="height:36px;" class="btn btn-default">
                                                    <em class="fa fa-calendar"></em>
                                                </button>
                                            </span>
                                        </p>
                                    </div>
                                </div>
                            </div>-->
                            <br />
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <label class="col-form-label"> Purpose of Trade </label> <span style="color:red">*</span>
                                        <textarea ng-model="txtenduse_purpose" rows="4" class="form-control" style="resize:vertical;"
                                                  required id="input_13" ng-trim="false" aria-multiline="true" tabindex="0" aria-invalid="true"></textarea>

                                    </div>
                                </div>
                            </div>
                            <br />
                            <!--<div class="dd-handle ng-scope">
                                <div class="row">
                                    <div class="col-md-12 col-lg-12 col-sm-12">
                                        <p class="text-primary" style="font-size:16px;"><b>&nbsp;&nbsp; Payment Type - Customer(Repayment- Receipt) </b></p>
                                        <hr />
                                        <div class="row">
                                            <div class="col-md-12 col-lg-12 col-sm-12">
                                                <div class="col-lg-6 col-md-6 col-sm-6">
                                                    <label class="col-form-label"> Customer Payment Type  </label> <span style="color:red">*</span>
                                                    <br />
                                                    <select name="Product Type " ng-options="m.milestonepaymenttype_name  for m in milestonepaymentlist"
                                                            ng-text-change="change()" ng-model="cboRepaymentTypedtl" class="form-control" style="height:37px;" chosen=""
                                                            size="1">
                                                        <option value=""></option>
                                                    </select>
                                                </div>
                                                <div class="col-lg-5 col-md-5 col-sm-5">
                                                    <label class="col-form-label"> Maximum percentage of the payment term </label> <span style="color:red">*</span>
                                                    <br />
                                                    <input type="text" ng-model="txtRepaymentMaximumpercent" maxlength="10" ng-pattern="/^[0-9+]*$/" tabindex="0" class="form-control" step="0.01" />
                                                </div>
                                                <div class="col-sm-1 col-md-1 col-lg-1" style="padding-top:7px;">
                                                    <br />
                                                    <button class="btn btn-sm btn-default" style="background-color:#09385f;color:white;padding-left:9px;"
                                                            ng-click="CustomerRepaymentadd()" ng-disabled="(cboRepaymentTypedtl && txtRepaymentMaximumpercent) ?  false : true">
                                                        <span class="fa fa-plus" />
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="table-responsive table-bordered">
                                                    <div style="max-height:200px;overflow:auto;">
                                                        <table class="table">
                                                            <thead class="bg-gray text-white">
                                                                <tr>
                                                                    <th>S.No</th>
                                                                    <th>Customer Payment Type</th>
                                                                    <th>Maximum percentage of the payment term</th>
                                                                    <th>Action</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <tr ng-repeat="list in MdlrePaymentdtl">
                                                                    <td>{{$index+1}}</td>
                                                                    <td>{{list.customerpaymenttype_name}}</td>
                                                                    <td>{{list.maximumpercent_paymentterm}}</td>
                                                                    <td class="text-nowrap">
                                                                        <button title="Delete" ng-click="DeleteCustomerRepayment(list.paymenttypecustomer_gid)"
                                                                                class="btn btn-danger btn-xs ">
                                                                            <em class="fa fa-trash-o"></em>
                                                                        </button>
                                                                    </td>
                                                                </tr>

                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                </div>
                            </div>
                            <br />-->
                            <div class="dd-handle ng-scope" ng-show="STFdivshow">
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <p class="text-primary" style="font-size:16px;"><b>&nbsp;&nbsp; STF Details </b></p>
                                        <hr />
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">

                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label">Holding period (months) </label>
                                                    <br />
                                                    <input type="text" ng-model="txtholdingperiod" maxlength="10" ng-change="changeholdingperiod()" tabindex="0" class="form-control" />
                                                </div>

                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Holding Monthly procurement service charges(%) <span style="color:red" ng-show="txtholdingperiod">*</span></label>
                                                    <br />
                                                    <input type="text" ng-required="monthlyservice" ng-model="txtholdingMonthlyprocurement" maxlength="10" ng-pattern="/^[0-9+]*$/" tabindex="0" class="form-control" step="0.01" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label">Extended holding period (months) </label>
                                                    <br />
                                                    <input type="text" ng-model="txtextendedholdingperiod" maxlength="10" ng-change="changeholdingperiod()" tabindex="0" class="form-control" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Extended Monthly procurement service charges(%) <span style="color:red" ng-show="txtextendedholdingperiod">*</span></label>
                                                    <br />
                                                    <input type="text" ng-required="monthlyextendedservice" ng-model="txtextendedMonthlyprocurement" maxlength="10" ng-pattern="/^[0-9+]*$/" tabindex="0" class="form-control" step="0.01" />
                                                </div>
                                            </div>
                                        </div>

                                        <br />
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label">Charges for an extended period (Amount) <span style="color:red">*</span></label>
                                                    <br />
                                                    <input type="text" oninput="validatetwodecimal(this)" ng-pattern="/^[0-9]*$/" ng-required="stfmandatory" ng-model="txtcharges_extendedperiod" maxlength="10" tabindex="0" class="form-control" />
                                                </div>

                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Customer advance (Amount) <span style="color:red">*</span></label>
                                                    <br />
                                                    <input type="text" ng-required="stfmandatory" ng-pattern="/^[0-9]*$/" ng-model="txtcustomer_advance" maxlength="10" oninput="validatetwodecimal(this)" tabindex="0" class="form-control" step="0.01" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label">Reimburesement of expenses </label>
                                                    <br />
                                                    <input type="text" ng-model="txtreimburesementof_expenses" ng-pattern="/^[0-9]*$/" tabindex="0" class="form-control" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Reimburesement of expenses - Penalty </label>
                                                    <br />
                                                    <input type="text" ng-model="txtreimburesementof_expensespenalty" ng-pattern="/^[0-9]*$/" tabindex="0" class="form-control" />
                                                </div>
                                            </div>
                                        </div>

                                        <br />
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-4 col-md-4 col-sm-4">
                                                    <strong>Bank funding data</strong>
                                                    <div class="float-label" ng-show="!bankfunding_documentpath">
                                                        <br />
                                                        <input type="file" id="Bankfundingfile" tabindex="5" multiple onchange="angular.element(this).scope().uploadbankfunding_doc(this.files, angular.element(this).scope().documentupload, this.name)"
                                                               ng-model="txtdocument" data-classbutton="btn btn-default" data-classinput="form-control inline" data-button-text="Select" />
                                                    </div>
                                                    <div ng-show="bankfunding_documentpath">
                                                        <br />
                                                        <a download="" href="" ng-click="doc_downloads(bankfunding_documentpath,bankfunding_documentname)"
                                                           id="btnpdf">{{bankfunding_documentname}}</a> &nbsp;&nbsp;
                                                        <button title="Delete" ng-click="canceltmpbankfunding(bankfunding_tmpdocumentGid)"
                                                                class="btn btn-danger btn-xs ">
                                                            <em class="fa fa-close"></em>
                                                        </button>
                                                        <button title="View" class="btn btn-info btn-xs" ng-click="documentviewer(bankfunding_documentpath,bankfunding_documentname)">
                                                            <a download="" href="" style="display:none;"></a>  <em class="fa fa-file"></em>
                                                        </button>

                                                    </div>

                                                </div>
                                                <div class="col-lg-4 col-md-4 col-sm-4">
                                                    <label class="col-form-label">Need for Stocking </label>
                                                    <br />
                                                    <input type="text" ng-model="txtneedfor_stocking" tabindex="0" class="form-control" />
                                                </div>
                                                <div class="col-lg-4 col-md-4 col-sm-4">
                                                    <label class="col-form-label">Product portfolio </label>
                                                    <br />
                                                    <input type="text" ng-model="txtproduct_portfolio" tabindex="0" class="form-control" />
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-4 col-md-4 col-sm-4">
                                                    <label class="col-form-label">Production capacity </label>
                                                    <br />
                                                    <input type="text" ng-model="txtproduction_capacity" tabindex="0" class="form-control" />
                                                </div>
                                                <div class="col-lg-4 col-md-4 col-sm-4">
                                                    <label class="col-form-label">Nature of operations </label>
                                                    <br />
                                                    <input type="text" ng-model="txtnatureof_operations" tabindex="0" class="form-control" />
                                                </div>
                                                <div class="col-lg-4 col-md-4 col-sm-4">
                                                    <label class="col-form-label">Average monthly inventory holding </label>
                                                    <br />
                                                    <input type="text" ng-model="txtaveragemonthly_inventoryholding" tabindex="0" class="form-control" />
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-4 col-md-4 col-sm-4">
                                                    <label class="col-form-label">Financial Institutions in Relationship with </label>
                                                    <br />
                                                    <input type="text" ng-model="txtfinancialinstitutions_relationship" tabindex="0" class="form-control" />
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                    </div>

                                </div>
                            </div>
                            <br />
                            <div class="dd-handle ng-scope">
                                <div class="row">
                                    <div class="col-md-12 col-lg-12 col-sm-12">
                                        <p class="text-primary" style="font-size:16px;"><b>&nbsp;&nbsp; Commodity Details </b></p>
                                        <hr />
                                        <div class="row">
                                            <div class="col-md-12 col-lg-12 col-sm-12">
                                                <div class="col-lg-4 col-md-4 col-sm-4">
                                                    <label class="col-form-label"> Product <span style="color:red"> *</span></label>
                                                    <br />
                                                    <select name="ProductName" id="ProductName" chosen="" ng-options="m.product_name for m in productname_list"
                                                            ng-model="cboproduct_name" class="chosen-select form-control" ng-change="productname_change(cboproduct_name)">
                                                        <option value=""></option>
                                                    </select>
                                                </div>
                                                <div class="col-lg-4 col-md-4 col-sm-4">
                                                    <label class="col-form-label"><strong> Sector / Strategic Business Unit </strong></label>
                                                    <input type="text" ng-model="txtsector_name" tabindex="0" disabled class="form-control" />
                                                </div>
                                                <div class="col-lg-4 col-md-4 col-sm-4">
                                                    <label class="col-form-label"><strong> Category </strong> </label>
                                                    <input type="text" ng-model="txtcategory_name" tabindex="0" disabled class="form-control" />
                                                </div>
                                                <br />
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-md-12 col-lg-12 col-sm-12">
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Commodity <span style="color:red"> *</span> </label>
                                                    <br />
                                                    <select name="Variety" id="Variety" chosen="" ng-options="m.variety_name for m in varietyname_list"
                                                            ng-model="cbovariety_name" class="chosen-select form-control" ng-change="Variety_change(cbovariety_name)">
                                                        <option value=""></option>
                                                    </select>
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"><strong> Botanical Name </strong></label>
                                                    <input type="text" ng-model="txtbotanical_name" tabindex="0" disabled class="form-control" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"><strong> Alternative Names</strong></label>
                                                    <input type="text" ng-model="txtalternative_name" tabindex="0" disabled class="form-control" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"><strong> HSN code</strong></label>
                                                    <input type="text" ng-model="txthsn_code" tabindex="0" disabled class="form-control" />
                                                </div>
                                                <br />
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-md-12 col-lg-12 col-sm-12">
                                                <div class="col-lg-4 col-md-4 col-sm-4">
                                                    <label class="col-form-label"><strong> Heading description/product</strong></label>
                                                    <input type="text" ng-model="txtHeadingdesc_product" tabindex="0" disabled class="form-control" />
                                                </div>
                                                <div class="col-lg-4 col-md-4 col-sm-4">
                                                    <label class="col-form-label"><strong> Type of Supply/Nature</strong></label>
                                                    <input type="text" ng-model="txttypeofsupplynature_name" tabindex="0" disabled class="form-control" />
                                                </div>
                                                <div class="col-lg-4 col-md-4 col-sm-4">
                                                    <label class="col-form-label"><strong> Sector Classification</strong></label>
                                                    <input type="text" ng-model="txtsectorclassification_name" tabindex="0" disabled class="form-control" />
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <label class="text-primary" style="font-size:16px;">GST Details </label>
                                                    <div class="table-responsive table-bordered">
                                                        <div style="max-height:200px;overflow:auto;">
                                                            <table class="table">
                                                                <thead class="bg-gray text-white">
                                                                    <tr>
                                                                        <th>S.No</th>
                                                                        <th>IGST %</th>
                                                                        <th>SGST %</th>
                                                                        <th>CGST %</th>
                                                                        <th>Cess %</th>
                                                                        <th>w.e.f date</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-repeat="data in commoditygststatuslist">
                                                                        <td>{{$index+1}}</td>
                                                                        <td>{{data.IGST_percent}}</td>
                                                                        <td>{{data.SGST_percent}}</td>
                                                                        <td>{{data.CGST_percent}}</td>
                                                                        <td>
                                                                            {{data.CESS_percent}}
                                                                        </td>
                                                                        <td> {{data.wef_date}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <label class="text-primary" style="font-size:16px;">Trade Product Details </label>
                                                    <div class="table-responsive table-bordered">
                                                        <div style="max-height:200px;overflow:auto;">
                                                            <table class="table">
                                                                <thead class="bg-gray text-white">
                                                                    <tr>
                                                                        <th>S.No</th>
                                                                        <th>Product</th>
                                                                        <th>Sub Product</th>
                                                                        <th>Insurance company name</th>
                                                                        <th>Policy Name/Number</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-repeat="data in commodityTradeProdctlist">
                                                                        <td>{{$index+1}}</td>
                                                                        <td>{{data.product_name}}</td>
                                                                        <td>{{data.subproduct_name}}</td>
                                                                        <td>{{data.insurancecompany_name}}</td>
                                                                        <td>{{data.insurancepolicy_name}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <label class="text-primary" style="font-size:16px;">Document Upload </label>
                                                    <div class="table-responsive table-bordered">
                                                        <div style="max-height:200px;overflow:auto;">
                                                            <table class="table">
                                                                <thead class="bg-gray text-white">
                                                                    <tr>
                                                                        <th>S.No</th>
                                                                        <th>As on date</th>
                                                                        <!-- <th>Commodity Report</th> -->
                                                                        <th align="center" scope="col">
                                                                            Commodity Report&nbsp;&nbsp;&nbsp;
                                                                            <a download="" href="" title="Download All" id="btnpdf1" ng-click="downloadall_2()">
                                                                                <em style="font-size: 1.5em;" class="icon-arrow-down"></em>&nbsp;
                                                                            </a>
                                                                        </th>
                                                                        <!-- <th>Risk Analysis Report</th> -->
                                                                        <th align="center" scope="col">
                                                                            Risk Analysis Report&nbsp;&nbsp;&nbsp;
                                                                            <a download="" href="" title="Download All" id="btnpdf1" ng-click="downloadall_3()">
                                                                                <em style="font-size: 1.5em;" class="icon-arrow-down"></em>&nbsp;
                                                                            </a>
                                                                        </th>
                                                                        <th>Uploaded By</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-repeat="data in commodityDocumentUpload">
                                                                        <td>{{$index+1}}</td>
                                                                        <td>{{data.ason_date}}</td>
                                                                        <td>
                                                                            <a download="" href="" id="btnpdf"
                                                                               ng-click="doc_downloads(data.commodityreport_filepath,data.commodityreport_filename)">{{data.commodityreport_filename}}</a>
                                                                            <button title="View" class="btn btn-info btn-xs" ng-click="documentviewer(data.commodityreport_filepath,data.commodityreport_filename)">
                                                                                <a download="" href="" style="display:none;"></a>  <em class="fa fa-file"></em>
                                                                            </button>

                                                                        </td>
                                                                        <td>
                                                                            <a download="" href="" ng-click="doc_downloads(data.riskanalysisreport_filepath,data.riskanalysisreport_filename)"
                                                                               id="btnpdf">{{data.riskanalysisreport_filename}}</a>
                                                                            <button title="View" class="btn btn-info btn-xs" ng-click="documentviewer(data.riskanalysisreport_filepath,data.riskanalysisreport_filename)">
                                                                                <a download="" href="" style="display:none;"></a>  <em class="fa fa-file"></em>
                                                                            </button>
                                                                        </td>
                                                                        <td>{{data.created_by}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-md-12 col-lg-12 col-sm-12">
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Unit Price/Value of the commodity <span style="color:red"> *</span> </label>
                                                    <br />
                                                    <input type="text" ng-model="txtunitpricevalue_commodity" ng-pattern="/^[0-9]*$/" maxlength="20" tabindex="0" class="form-control" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"><strong> Nature/Form/State of Commodity </strong> <span style="color:red"> *</span></label>
                                                    <!--<input type="text" ng-model="txtnatureformstate_commodity" tabindex="0" class="form-control" />-->
                                                    <select name="uom" id="uom" chosen="" ng-options="m.natureformstateofcommodity_name for m in natureformstateofcommoditydtl"
                                                            ng-model="txtnatureformstate_commodity" class="chosen-select form-control">
                                                        <option value=""></option>
                                                    </select>
                                                </div>
                                                <div class="col-lg-2 col-md-2 col-sm-2">
                                                    <label class="col-form-label"><strong> Quality of the commodity</strong> <span style="color:red"> *</span></label>
                                                    <input type="text" ng-model="txtqualityof_commodity" maxlength="20" tabindex="0" class="form-control" />
                                                </div>
                                                <div class="col-lg-2 col-md-2 col-sm-2">
                                                    <label class="col-form-label"><strong> Quantity</strong> <span style="color:red"> *</span></label>
                                                    <input type="text" ng-model="txtquantity" maxlength="10" tabindex="0" class="form-control" />
                                                </div>
                                                <div class="col-lg-2 col-md-2 col-sm-2">
                                                    <label class="col-form-label"><strong>  UOM of Quantity</strong> <span style="color:red"> *</span></label>
                                                    <select name="uom" id="uom" chosen="" ng-options="m.uom_name for m in uom_list"
                                                            ng-model="cbocommodityuom" class="chosen-select form-control">
                                                        <option value=""></option>
                                                    </select>
                                                </div>
                                                <br />
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-md-12 col-lg-12 col-sm-12">
                                                <!--<div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Milestone Applicability <span style="color:red"> *</span></label>
                                                    <br />
                                                    <div class="radio c-radio">
                                                        <label>
                                                            <input type="radio" id="MilestoneApplicablity1" name="MilestoneApplicablity1" ng-change="Changeinsuranceapplicability()" value="Yes"
                                                                   ng-model="rdbmilestone_applicablity" />
                                                            &nbsp;&nbsp;<span class="fa fa-circle"></span>Yes
                                                        </label>
                                                        <label>
                                                            <input type="radio" id="MilestoneApplicablity1" name="MilestoneApplicablity1" ng-change="Changeinsuranceapplicability()" value="No"
                                                                   ng-model="rdbmilestone_applicablity" />
                                                            <span class="fa fa-circle"></span>No
                                                        </label>
                                                    </div>
                                                </div>-->
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"><strong> Insurance Applicability </strong> <span style="color:red"> *</span></label>
                                                    <br />
                                                    <div class="radio c-radio">
                                                        <label>
                                                            <input type="radio" id="insuranceapplicability1" name="insuranceapplicability1" value="Yes" ng-model="rdbinsurance_applicability" />
                                                            &nbsp;&nbsp;<span class="fa fa-circle"></span>Yes
                                                        </label>
                                                        <label>
                                                            <input type="radio" id="insuranceapplicability1" name="insuranceapplicability1" value="No" ng-model="rdbinsurance_applicability" />
                                                            <span class="fa fa-circle"></span>No
                                                        </label>
                                                    </div>
                                                </div>
                                                <!--<div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"><strong> Milestone payment Type </strong> <span ng-show="showmilestonepaymenttype" style="color:red"> *</span></label>
                                                    <select name="Product Type " ng-options="m.milestonepaymenttype_name  for m in milestonepaymentlist"
                                                            ng-text-change="change()" ng-model="cbomilestonepaymenttype" class="form-control" style="height:37px;" chosen=""
                                                            ng-disabled="disabledmilestonepaymenttype" size="1">
                                                        <option value=""></option>
                                                    </select>
                                                </div>-->
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> SA Payout (%) <span ng-show="showsapayout" style="color:red"> *</span></label>
                                                    <br />
                                                    <input oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');" type="text" ng-model="txtsapayout"
                                                           maxlength="15" tabindex="0" class="form-control" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label">Net Yield </label>
                                                    <br />
                                                    <input min="0" type="text" ng-model="txtnet_yield" disabled tabindex="0" class="form-control" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Mark to Market Value (%) </label>
                                                    <br />
                                                    <input oninput="validate(this)" type="text" ng-model="txtmarkto_marketvalue"
                                                           maxlength="15" tabindex="0" class="form-control" ng-pattern="/^[0-9]+\.?[0-9]*$/" />
                                                </div>
                                                <br />
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-md-12 col-lg-12 col-sm-12">
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"><strong> Insurance required </strong><span style="color:red"> *</span></label>
                                                    <input type="text" ng-model="lbloveralllimit_amount" disabled tabindex="0" class="form-control" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"><strong> Insurance %</strong></label>
                                                    <input type="text" ng-model="txtinsurance_percent" tabindex="0" class="form-control" />
                                                </div>
                                                <div class="col-lg-2 col-md-2 col-sm-2">
                                                    <label class="col-form-label"><strong> Insurance limit </strong><span style="color:red"> *</span></label>
                                                    <input oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');" type="text" ng-model="txtinsurance_cost"
                                                           maxlength="15" tabindex="0" class="form-control" />
                                                </div>

                                                <br />
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-md-12 col-lg-12 col-sm-12">
                                                <div class="col-md-12 col-lg-12 col-sm-12">
                                                    <label class="col-form-label"> Price Reference/Source </label>

                                                    <textarea ng-model="txtpricereference_source" maxlength="5000" rows="2" class="form-control"
                                                              id="input_13" ng-trim="false" aria-multiline="true" tabindex="0" aria-invalid="true"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <br />

                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <!--<div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Credit Period Limit (years)  <span style="color:red"> *</span> </label>
                                                    <br />
                                                    <input type="text" ng-model="txtcommoditycreditvalidity_year" maxlength="5" tabindex="0" ng-pattern="/^[0-9+]*$/" class="form-control" ng-change="calculatefacility()" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Credit Period Limit (months) <span style="color:red"> *</span></label>
                                                    <br />
                                                    <input type="text" ng-model="txtcommoditycreditvalidity_month" maxlength="5" tabindex="0" ng-pattern="/^[0-9+]*$/" class="form-control" ng-change="calculatefacility()" />
                                                </div>-->
                                                <div class="col-lg-2 col-md-2 col-sm-2">
                                                    <label class="col-form-label"> Credit Period Limit (days) <span style="color:red"> *</span></label>
                                                    <br />
                                                    <input type="text" ng-model="txtcommoditycreditvalidity_days" maxlength="5" tabindex="0" ng-pattern="/^[0-9+]*$/" class="form-control" ng-change="calculatefacility()" />
                                                </div>
                                                <div class="col-lg-2 col-md-2 col-sm-2">
                                                    <label class="col-form-label"> Grace period for penalty (in days) <span style="color:red" ng-if="rdbTradeOriginated == 'SupplierOriginated'"> *</span></label>
                                                    <br />
                                                    <input type="text" ng-model="txtcommoditygraceperiod_days" maxlength="5" tabindex="0" ng-pattern="/^[0-9+]*$/" class="form-control"
                                                           ng-disabled="rdbTradeOriginated != 'SupplierOriginated'" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Calculation of Credit Period limit validity </label>
                                                    <br />
                                                    <input type="text" ng-model="txtoverallcommoditycreditvalidity_limit" tabindex="0" class="form-control" disabled />
                                                </div>

                                                <div class="col-lg-2 col-md-2 col-sm-2">
                                                    <label class="col-form-label"> Margin(%) <span style="color:red"> *</span></label>
                                                    <br />
                                                    <input type="text" ng-model="txtcommodity_margin" maxlength="20" tabindex="0" class="form-control" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Net Yield </label>
                                                    <br />
                                                    <input type="text" ng-model="txtcommoditynet_yield" maxlength="20" tabindex="0" class="form-control" disabled />
                                                </div>

                                            </div>
                                        </div>
                                        <br />
                                        <!--<div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Margin(%) <span style="color:red"> *</span></label>
                                                    <br />
                                                    <input type="text" ng-model="txtcommodity_margin" maxlength="20" tabindex="0" class="form-control" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Net Yield </label>
                                                    <br />
                                                    <input type="text" ng-model="txtcommoditynet_yield" maxlength="20" tabindex="0" class="form-control" disabled />
                                                </div>
                                            </div>
                                        </div>
                                        <br />-->
                                        <div class="dd-handle ng-scope">
                                            <div class="row">
                                                <div class="col-md-12 col-lg-12 col-sm-12">
                                                    <p class="text-primary" style="font-size:16px;"><b>&nbsp;&nbsp; Payment Type - Customer(Repayment- Receipt) </b></p>
                                                    <hr />
                                                    <div class="row">
                                                        <div class="col-md-12 col-lg-12 col-sm-12">
                                                            <div class="col-lg-6 col-md-6 col-sm-6">
                                                                <label class="col-form-label"> Customer Payment Type  </label> <span style="color:red">*</span>
                                                                <br />
                                                                <select name="Product Type " ng-options="m.milestonepaymenttype_name  for m in milestonepaymentlist"
                                                                        ng-text-change="change()" ng-model="cboRepaymentTypedtl" class="form-control" style="height:37px;" chosen=""
                                                                        size="1">
                                                                    <option value=""></option>
                                                                </select>
                                                            </div>
                                                            <div class="col-lg-5 col-md-5 col-sm-5">
                                                                <label class="col-form-label"> Maximum percentage of the payment term </label> <span style="color:red">*</span>
                                                                <br />
                                                                <input type="text" ng-model="txtRepaymentMaximumpercent" maxlength="10" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" ng-change="restrictValue()" tabindex="0" class="form-control" step="0.01" />
                                                            </div>
                                                            <div class="col-sm-1 col-md-1 col-lg-1" style="padding-top:7px;">
                                                                <br />
                                                                <button class="btn btn-sm btn-default" style="background-color:#09385f;color:white;padding-left:9px;"
                                                                        ng-click="CustomerRepaymentadd()" ng-disabled="(cboRepaymentTypedtl && txtRepaymentMaximumpercent) ?  false : true">
                                                                    <span class="fa fa-plus" />
                                                                </button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <br />
                                                    <div class="row">
                                                        <div class="col-lg-12 col-md-12 col-sm-12">
                                                            <label class="text-primary" style="font-size:16px;">Payment Type - Customer(Repayment- Receipt)</label>
                                                            <div class="table-responsive table-bordered">
                                                                <div style="max-height:200px;overflow:auto;">
                                                                    <table class="table">
                                                                        <thead class="bg-gray text-white">
                                                                            <tr>
                                                                                <th>S.No</th>
                                                                                <th>Customer Payment Type</th>
                                                                                <th>Maximum percentage of the payment term</th>
                                                                                <th>Action</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr ng-repeat="list in MdlrePaymentdtl">
                                                                                <td>{{$index+1}}</td>
                                                                                <td>{{list.customerpaymenttype_name}}</td>
                                                                                <td>{{list.maximumpercent_paymentterm}}</td>
                                                                                <td class="text-nowrap">
                                                                                    <button title="Delete" ng-click="DeleteCustomerRepayment(list.paymenttypecustomer_gid)"
                                                                                            class="btn btn-danger btn-xs ">
                                                                                        <em class="fa fa-trash-o"></em>
                                                                                    </button>
                                                                                </td>
                                                                            </tr>

                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                        <br />
                                        <div class="row text-center">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <button class="btn btn-sm btn-default" style="background-color:#09385f;color:white;" ng-click="productdtl_add()"
                                                        ng-disabled="(cboproduct_name && cbovariety_name && txtunitpricevalue_commodity && txtnatureformstate_commodity && txtcommoditycreditvalidity_days
                                                                  && txtqualityof_commodity  && txtqualityof_commodity && txtquantity && cbocommodityuom && rdbinsurance_applicability && txtinsurance_cost &&  txtcommodity_margin ) ?  false : true">
                                                    <span class="fa fa-plus" /> &nbsp; Add
                                                </button>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <div class="table-responsive table-bordered">
                                                        <div>
                                                            <table class="table">
                                                                <thead class="bg-gray text-white">
                                                                    <tr>
                                                                        <th>S.No</th>
                                                                        <th>Product Details</th>
                                                                        <th class="text-center">Commodity Details</th>
                                                                        <th>Action</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-repeat="data in mstproduct_list">
                                                                        <td>{{$index+1}}</td>
                                                                        <td>
                                                                            <b>Product Name: </b> {{data.product_name}} <br />
                                                                            <b>Sector / Strategic Business Unit: </b> {{data.sector_name}} <br />
                                                                            <b>Category: </b> {{data.category_name}} <br />
                                                                        </td>
                                                                        <td>
                                                                            <div class="col-lg-6 col-md-6 col-sm-6">
                                                                                <b>Commodity : </b> {{data.variety_name}} <br />
                                                                                <b>Botanical Name  : </b> {{data.botanical_name}}  <br />
                                                                                <b>Alternative Names : </b> {{data.alternative_name}} <br />
                                                                                <b>HSN code : </b> {{data.hsn_code}}<br />
                                                                                <b>Heading description/product : </b> {{data.headingdesc_product}} <br />
                                                                                <b>Type of Supply/Nature : </b> {{data.typeofsupply_naturename}}<br />
                                                                            </div>
                                                                            <div class="col-lg-6 col-md-6 col-sm-6">
                                                                                <b>Sector Classification : </b> {{data.sectorclassification_name}}<br />
                                                                                <b>Unit Price/Value of the commodity  : </b> {{data.unitpricevalue_commodity}}<br />
                                                                                <b>Nature/Form/State of Commodity : </b> {{data.natureformstate_commodity}}<br />
                                                                                <b>Quality of the commodity : </b> {{data.qualityof_commodity}}<br />
                                                                                <b>Quantity : </b> {{data.quantity}}<br />
                                                                                <b>UOM : </b> {{data.uom_name}}<br />
                                                                            </div>
                                                                        </td>
                                                                        <td class="text-nowrap">
                                                                            <button title="View" ng-click="commodity_view(data.application2product_gid)"
                                                                                    class="btn btn-info btn-xs ">
                                                                                <em class="fa fa-eye"></em>
                                                                            </button> &nbsp;
                                                                            <button title="Delete" ng-hide="lspage =='CADAcceptanceCustomers'" ng-click="product_delete(data.application2product_gid)"
                                                                                    class="btn btn-danger btn-xs ">
                                                                                <em class="fa fa-trash-o"></em>
                                                                            </button>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div ng-show="Collateralshow">
                                <div class="dd-handle ng-scope">
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12">
                                            <p class="text-primary" style="font-size:16px;"><b>&nbsp;&nbsp; Collateral Details </b></p>
                                            <hr />
                                            <div class="col-lg-3 col-md-3 col-sm-3">
                                                <label><strong>Source Type </strong> <span style="color:red">*</span></label>
                                                <select name="SourceType"
                                                        ng-model="cboSourceType" class="form-control ng-valid ng-touched ng-valid-parse" style="height:37px;"
                                                        size="1">
                                                    <option value=""> ----- Select Source Type -----</option>
                                                    <option value="Fixed">Fixed</option>
                                                    <option value="Moving">Moving</option>
                                                    <option value="Property">Property</option>
                                                    <option value="Deposit">Deposit</option>
                                                </select>
                                            </div>
                                            <div class="col-lg-3 col-md-3 col-sm-3">
                                                <label class="col-form-label"> Guideline Value </label>
                                                <br />
                                                <input id="GuidelineValue" ng-model="txtguidelinevalue" class="form-control ng-pristine ng-valid ng-touched"
                                                       ng-change="txtguidelinevaluechange()" style="text-align:right;" ng-pattern="/^[0-9,]+(\.[0-9]{1,2})?$/" step="0.01">
                                                <span style="font-style:italic;">Number in words:</span>
                                                <span id="words_totalamount2" style="color:#003c96fc;" class="text-bold"></span>
                                            </div>

                                            <div class="col-lg-3 col-md-3 col-sm-3">
                                                <label class="col-form-label"> Guideline Value assessed on </label>
                                                <br />
                                                <p class="input-group">
                                                    <input type="text" id="GVAO" name="date" ng-model="txtguideline_date" datepicker-popup="{{dp.format}}"
                                                           style="height:36px;" is-open="dp.open8" min-date="dp.minDate" datepicker-options="dp.dateOptions"
                                                           close-text="Close" class="form-control" placeholder="DD-MM-YYYY" />
                                                    <span class="input-group-btn">
                                                        <button type="button" ng-click="dp.calender8($event)" style="height:36px;" class="btn btn-default">
                                                            <em class="fa fa-calendar"></em>
                                                        </button>
                                                    </span>
                                                </p>
                                            </div>
                                            <div class="col-lg-3 col-md-3 col-sm-3">
                                                <label class="col-form-label"> Market Value </label>
                                                <br />
                                                <input id="MarketValue" ng-model="txtmarketValue" class="form-control ng-pristine ng-valid ng-touched"
                                                       ng-change="txtMarketValuechange()" style="text-align:right;" ng-pattern="/^[0-9,]+(\.[0-9]{1,2})?$/" step="0.01">
                                                <span style="font-style:italic;">Number in words:</span>
                                                <span id="words_totalamount3" style="color:#003c96fc;" class="text-bold"></span>
                                            </div>

                                        </div>
                                    </div>
                                    <br />
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12">

                                            <div class="col-lg-3 col-md-3 col-sm-3">
                                                <label class="col-form-label">Market Value assessed on </label>
                                                <br />
                                                <p class="input-group">
                                                    <input type="text" id="MVAO" name="date" ng-model="txtmarketvalue_date" datepicker-popup="{{dp.format}}"
                                                           style="height:36px;" is-open="dp.open14" min-date="dp.minDate" datepicker-options="dp.dateOptions"
                                                           close-text="Close" class="form-control" placeholder="DD-MM-YYYY" />
                                                    <span class="input-group-btn">
                                                        <button type="button" ng-click="dp.calender14($event)" style="height:36px;" class="btn btn-default">
                                                            <em class="fa fa-calendar"></em>
                                                        </button>
                                                    </span>
                                                </p>
                                            </div>
                                            <div class="col-lg-3 col-md-3 col-sm-3">
                                                <label class="col-form-label"> Forced Source Value </label>
                                                <br />
                                                <input id="ForcedSourceValue" ng-model="txtforcedsource_value" class="form-control ng-pristine ng-valid ng-touched"
                                                       ng-change="txtForcedSourceValuechange()" style="text-align:right;" ng-pattern="/^[0-9,]+(\.[0-9]{1,2})?$/" step="0.01">
                                                <span style="font-style:italic;">Number in words:</span>
                                                <span id="words_totalamount4" style="color:#003c96fc;" class="text-bold"></span>
                                            </div>

                                            <div class="col-lg-3 col-md-3 col-sm-3">
                                                <label class="col-form-label"> Collateral FSV  </label>
                                                <br />
                                                <input id="CollateralSSVvalue" ng-model="txtcollateralSSV_value" class="form-control ng-pristine ng-valid ng-touched"
                                                       ng-change="txtCollateralSSVvaluechange()" style="text-align:right;" ng-pattern="/^[0-9,]+(\.[0-9]{1,2})?$/" step="0.01">
                                                <span style="font-style:italic;">Number in words:</span>
                                                <span id="words_totalamount5" style="color:#003c96fc;" class="text-bold"></span>
                                            </div>

                                            <div class="col-lg-3 col-md-3 col-sm-3">
                                                <label class="col-form-label">Forced Value Assessed  On </label>
                                                <br />
                                                <p class="input-group">
                                                    <input type="text" id="FVAO" name="date" ng-model="txtforcedvalueassessed_on" datepicker-popup="{{dp.format}}"
                                                           style="height:36px;" is-open="dp.open15" min-date="dp.minDate" datepicker-options="dp.dateOptions"
                                                           close-text="Close" class="form-control" placeholder="DD-MM-YYYY" />
                                                    <span class="input-group-btn">
                                                        <button type="button" ng-click="dp.calender15($event)" style="height:36px;" class="btn btn-default">
                                                            <em class="fa fa-calendar"></em>
                                                        </button>
                                                    </span>
                                                </p>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                                        <label><strong>Observation Summary </strong> <span style="color:red">*</span></label>
                                                        <br />
                                                        <textarea ng-model="txtcolateralobservation_summary" rows="5" class="form-control" style="resize:vertical;"
                                                                  id="input_13" ng-trim="false" aria-multiline="true" tabindex="0" aria-invalid="true"></textarea>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <p class="text-primary" style="font-size:16px;"><b>&nbsp;&nbsp;  Collateral Document Upload </b></p>
                                                    <hr />
                                                    <div class="col-lg-4 col-md-4 col-sm-4">
                                                        <label> Document Title </label> <span style="color:red">*</span>
                                                        <br />
                                                        <select name="DocumentTitle" style="height:37px;"
                                                                ng-model="cboDocumentTitle" class="form-control ng-valid ng-touched ng-valid-parse"
                                                                size="1">
                                                            <option value=""> -----Select Document Title -----</option>
                                                            <option value="Document Observation "> Document Observation </option>
                                                            <option value="Document Collateral"> Document Collateral </option>
                                                            <option value="Document Legal Opinion"> Document Legal Opinion </option>
                                                        </select>
                                                    </div>
                                                    <div class="col-lg-6 col-sm-6 col-md-6">
                                                        <div class="float-label">
                                                            <strong>Upload Documents</strong>
                                                            <br /><br />
                                                            <input type="file" id="file" tabindex="5" multiple onchange="angular.element(this).scope().upload_doc(this.files, angular.element(this).scope().documentupload, this.name)"
                                                                   ng-model="txtdocument" data-classbutton="btn btn-default" data-classinput="form-control inline" data-button-text="Select" />
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                                    </div>
                                                    <br /><br />
                                                    <div class="row">
                                                        <div class="col-lg-12 col-sm-12 col-md-12">
                                                            <div class="col-lg-12 col-sm-12 col-md-12">
                                                                <br />
                                                                <div class="table-responsive">
                                                                    <table class="table table-striped table-secondary">
                                                                        <thead class="bg-gray text-white">
                                                                            <tr width="100%">
                                                                                <th scope="col">S.No</th>
                                                                                <th scope="col">Document Title</th>
                                                                                <th scope="col">Document Name</th>
                                                                                <!-- <th scope="col">Action</th> -->
                                                                                <th align="center" scope="col">
                                                                                    Action&nbsp;&nbsp;&nbsp;
                                                                                    <a download="" href="" title="Download All" id="btnpdf1" ng-click="downloadall()">
                                                                                        <em style="font-size: 1.5em;" class="icon-arrow-down"></em>&nbsp;
                                                                                    </a>
                                                                                </th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr ng-repeat="data in DocumentList">
                                                                                <td title="S.No">{{$index+1}}</td>
                                                                                <td title="Document Title">{{data.document_title}}</td>
                                                                                <td title="Document Name">{{data.document_name}}</td>
                                                                                <td data-title="Action">
                                                                                    <button title="Download" class="btn btn-green btn-sm"
                                                                                            ng-click="downloads(data.document_path,data.document_name)">
                                                                                        <a download="" href="" id="btnpdf" style="display:none;"></a>

                                                                                        <em class="fa fa-download"></em>
                                                                                    </button>
                                                                                    <button title="View" class="btn btn-info btn-sm" ng-click="documentviewer(data.document_path,data.document_name)">
                                                                                        <a download="" href="" style="display:none;"></a>  <em class="fa fa-file"></em>
                                                                                    </button>
                                                                                    <a title="Delete" class="btn btn-sm btn-danger" ng-click="uploaddocumentcancel(data.document_gid)">
                                                                                        <span class="icon icon-trash "></span>
                                                                                    </a>
                                                                                </td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>


                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="dd-handle ng-scope">
                                <div class="row">
                                    <div class="col-md-12 col-lg-12 col-sm-12">
                                        <p class="text-primary" style="font-size:16px;"><b>&nbsp;&nbsp; Supplier Details </b></p>
                                        <hr />
                                        <div class="row">
                                            <div class="col-md-12 col-lg-12 col-sm-12">
                                                <div class="col-lg-6 col-md-6 col-sm-6">
                                                    <label class="col-form-label"> Supplier Name <span style="color:red"> *</span></label>
                                                    <br />
                                                    <select name="ProductName" id="ProductName" chosen="" ng-options="m.supplier_name for m in Supplierdtllist"
                                                            ng-model="cbosupplier_name" class="chosen-select form-control" ng-change="suppliername_change(cbosupplier_name)">
                                                        <option value=""></option>
                                                    </select>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6">
                                                    <label class="col-form-label"><strong> Supplier Address </strong></label>
                                                    <input type="text" ng-model="txtsupplier_address" tabindex="0" disabled class="form-control" />
                                                </div>

                                                <br />
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-md-12 col-lg-12 col-sm-12">
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"><strong> Supplier E-mail ID </strong> </label>
                                                    <input type="text" ng-model="txtsupplieremail_id" tabindex="0" disabled class="form-control" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Supplier Phone Number</label>
                                                    <br />
                                                    <input type="text" ng-model="txtsupplierphone_number" tabindex="0" disabled class="form-control" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"><strong> Supplier GST Details </strong></label>
                                                    <br />
                                                    <button class="btn btn-xs btn-info text-center" ng-click="suppliergstview(MdlSupplierGSTdtllist)"><em class="fa fa-eye"></em></button>
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"><strong> Supplier PAN details</strong></label>
                                                    <input type="text" ng-model="txtsupplierpan_details" tabindex="0" disabled class="form-control" />
                                                </div>

                                                <br />
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-md-12 col-lg-12 col-sm-12">
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Milestone Applicable <span style="color:red"> *</span></label>
                                                    <br />
                                                    <div class="radio c-radio">
                                                        <label>
                                                            <input type="radio" id="rdbMilestoneApplicable1" name="rdbMilestoneApplicable1" value="Yes"
                                                                   ng-model="rdbsupplierMilestoneApplicable" />
                                                            &nbsp;&nbsp;<span class="fa fa-circle"></span>Yes
                                                        </label>
                                                        <label>
                                                            <input type="radio" id="rdbMilestoneApplicable1" name="rdbMilestoneApplicable1" value="No"
                                                                   ng-model="rdbsupplierMilestoneApplicable" />
                                                            <span class="fa fa-circle"></span>No
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Supplier milestone Payment Type <span style="color:red"> *</span></label>
                                                    <br />
                                                    <select name="Product Type " ng-options="m.milestonepaymenttype_name  for m in milestonepaymentlist" ng-disabled="rdbMilestoneApplicable!='No'"
                                                            ng-model="cbosuppliermilestonepaymenttype" class="form-control" style="height:37px;" chosen=""
                                                            size="1">
                                                        <option value=""></option>
                                                    </select>
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"><strong> Vintage of the Supplier with Buyer <span style="color:red"> *</span></strong></label>
                                                    <input type="text" ng-model="txtvintagesupplier_buyer" tabindex="0" maxlength="10" ng-pattern="/^[0-9+]*$/" class="form-control" />
                                                </div>
                                                <div class="col-lg-3 col-md-3 col-sm-3">
                                                    <label class="col-form-label"> Margin % </label>
                                                    <br />
                                                    <input type="text" ng-model="txtmargin" maxlength="10" ng-pattern="/^[0-9+.%]*$/" tabindex="0" class="form-control" step="0.01" />
                                                </div>
                                                <br />
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-md-12 col-lg-12 col-sm-12">
                                                <p class="text-primary" style="font-size:16px;"><b>&nbsp;&nbsp; Payment terms - Supplier (Disbursement- Payment) </b></p>
                                                <br />
                                                <div class="row">
                                                    <div class="col-md-12 col-lg-12 col-sm-12">
                                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                                            <label class="col-form-label"> Commodity Name  </label> <span style="color:red">*</span>
                                                            <br />
                                                            <select name="Product Type " ng-options="(m.product_name + ' / ' + m.variety_name) for m in mstproduct_list"
                                                                    ng-text-change="change()" ng-model="cbodisbursementcommodity" class="form-control" style="height:37px;" chosen=""
                                                                    size="1">
                                                                <option value=""></option>
                                                            </select>
                                                        </div>
                                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                                            <label class="col-form-label"> Supplier Payment Type </label> <span style="color:red">*</span>
                                                            <br />
                                                            <select name="Product Type " ng-options="m.milestonepaymenttype_name  for m in milestonepaymentlist"
                                                                    ng-text-change="change()" ng-model="cbodisbursementPaymentlist" class="form-control" style="height:37px;" chosen=""
                                                                    size="1">
                                                                <option value=""></option>
                                                            </select>
                                                        </div>
                                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                                            <label class="col-form-label"> Maximum percentage of the payment term </label> <span style="color:red">*</span>
                                                            <br />
                                                            <input type="text" ng-model="txtdisbursementmaxpercent_paymentterm" maxlength="10" ng-pattern="/^[0-9]+(\.[0-9]{1,2})?$/" ng-change="restrictsuppliervalue()" tabindex="0" class="form-control" step="0.01" />
                                                        </div>
                                                        <div class="col-sm-1 col-md-1 col-lg-1" style="padding-top:7px;">
                                                            <br />
                                                            <button class="btn btn-sm btn-default" style="background-color:#09385f;color:white;padding-left:9px;"
                                                                    ng-click="Paymentdisbursementadd()" ng-disabled="(cbodisbursementcommodity && cbodisbursementPaymentlist && txtdisbursementmaxpercent_paymentterm) ?  false : true">
                                                                <span class="fa fa-plus" />
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br />
                                                <div class="row">
                                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                                        <div class="table-responsive table-bordered">
                                                            <div style="max-height:200px;overflow:auto;">
                                                                <table class="table">
                                                                    <thead class="bg-gray text-white">
                                                                        <tr>
                                                                            <th>S.No</th>
                                                                            <th>Commodity Name </th>
                                                                            <th>Supplier Payment Type</th>
                                                                            <th>Maximum percentage of the payment term</th>
                                                                            <th>Action</th>
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr ng-repeat="list in MdlSupplierPaymentlist">
                                                                            <td>{{$index+1}}</td>
                                                                            <td>{{list.commodity_name}}</td>
                                                                            <td>{{list.supplierpayment_type}}</td>
                                                                            <td>{{list.maxpercent_paymentterm}}</td>
                                                                            <td class="text-nowrap">
                                                                                <button title="Delete" ng-click="DeletePaymentdisbursement(list.apploan2supplierpayment_gid)"
                                                                                        class="btn btn-danger btn-xs ">
                                                                                    <em class="fa fa-trash-o"></em>
                                                                                </button>
                                                                            </td>
                                                                        </tr>

                                                                    </tbody>
                                                                </table>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>

                                        </div>
                                        <br />
                                        <div class="row text-center">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <button class="btn btn-sm btn-default" style="background-color:#09385f;color:white;" ng-click="supplierdtl_add()"
                                                        ng-disabled="(cbosupplier_name && rdbsupplierMilestoneApplicable && cbosuppliermilestonepaymenttype && txtvintagesupplier_buyer) ?  false : true">
                                                    <span class="fa fa-plus" /> &nbsp; Add
                                                </button>
                                            </div>
                                        </div>
                                        <br />
                                        <div class="row">
                                            <div class="col-lg-12 col-md-12 col-sm-12">
                                                <div class="col-lg-12 col-md-12 col-sm-12">
                                                    <div class="table-responsive table-bordered">
                                                        <div>
                                                            <table class="table">
                                                                <thead class="bg-gray text-white">
                                                                    <tr>
                                                                        <th>S.No</th>
                                                                        <th>Supplier Details</th>
                                                                        <th>Supplier Agreement ID</th>
                                                                        <th>Milestone Applicable</th>
                                                                        <th>Supplier milestone Payment Type</th>
                                                                        <th>Vintage of the Supplier with Buyer</th>
                                                                        <th>Margin %</th>
                                                                        <th>Action</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-repeat="data in MdlSupplierdtllist">
                                                                        <td>{{$index+1}}</td>
                                                                        <td>
                                                                            <b>Supplier Name : </b> {{data.supplier_name}} <br />
                                                                            <b>Supplier Address  : </b> {{data.supplier_address}}  <br />
                                                                            <b>Supplier E-mail ID : </b> {{data.supplier_emailid}} <br />
                                                                            <b>Supplier Phone Number : </b> {{data.supplier_phoneno}}<br />
                                                                            <b>Supplier PAN details : </b> {{data.supplier_pandtl}}
                                                                        </td>
                                                                        <td>{{data.supplieragreement_id}}</td>
                                                                        <td>{{data.milestone_applicable}}</td>
                                                                        <td>{{data.milestonepaymenttype_name}}</td>
                                                                        <td>{{data.supplier_vintage}}</td>
                                                                        <td>{{data.supplier_margin}}</td>
                                                                        <td class="text-nowrap" ng-switch="data.suppliername_status">
                                                                            <button title="View" ng-click="suppliergsttrnview(data.apploan2supplierdtl_gid)"
                                                                                    class="btn btn-info btn-xs ">
                                                                                <em class="fa fa-eye"></em>
                                                                            </button>
                                                                            <button title="Delete" ng-hide="lspage =='CADAcceptanceCustomers'" ng-click="supplierdtl_delete(data.apploan2supplierdtl_gid)"
                                                                             class="btn btn-danger btn-xs ">
                                                                              <em class="fa fa-trash-o"></em>
                                                                           </button>
                                                                            <button title="Status" ng-show ="lspage =='CADAcceptanceCustomers'" ng-switch-when='Active' ng-click="Status_update(data.apploan2supplierdtl_gid)" class="btn btn-success btn-xs">
                                                                                <em class="fa fa-thumbs-up"></em>
                                                                            </button>
                                                                            <button title="Status" ng-show ="lspage =='CADAcceptanceCustomers'" ng-switch-when='Inactive' ng-click="Status_update(data.apploan2supplierdtl_gid)" class="btn btn-warning btn-xs">
                                                                                <em class="fa fa-thumbs-down"></em>
                                                                            </button>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <br />
                                    </div>
                                </div>

                            </div>
                            <br />
                            <div class="dd-handle ng-scope" ng-show="ARF_condition">
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <br />
                                        <p class="text-primary" style="font-size:16px;"><b>&nbsp;&nbsp; Select the List of Buyers Details</b></p>
                                        <hr />
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label">Buyer  </label> <span style="color:red">*</span>
                                            <br />
                                            <select name="Buyer" ng-options="m.buyer_name  for m in buyerlist" ng-change="buyer()" chosen=""
                                                    ng-model="cboBuyer" class="form-control" style="height:37px;"
                                                    size="1">
                                                <option value=""> ----- Select Buyer -----</option>
                                            </select>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Buyer Limit </label>
                                            <br />
                                            <input type="text" ng-model="txtbuyer_limit" tabindex="0" class="form-control" disabled />
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Availed Limit </label>
                                            <br />
                                            <input type="text" ng-model="txtavailed_limit" tabindex="0" class="form-control" disabled />
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Balance Limit </label>
                                            <br />
                                            <input type="text" ng-model="txtbalance_limit" tabindex="0" class="form-control" disabled />
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Bill Tenure in Days  </label> <span style="color:red">*</span>
                                            <br />
                                            <input type="text" ng-model="txtbill_tenure" tabindex="0" class="form-control" />
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Margin % </label> <span style="color:red">*</span>
                                            <br />
                                            <input type="text" ng-model="txtmargin" tabindex="0" maxlength="10" class="form-control" step="0.01" />
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6">
                                            <br />
                                            <a class="btn btn-sm btn-default" style="background-color:#09385f;color:white;" ng-click="buyerdtl_add()"><span class="fa fa-plus" /></a>
                                        </div>
                                    </div>
                                </div>
                                <br /><br />
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="col-lg-12 col-md-12 col-sm-12">
                                            <div class="table-responsive table-bordered">
                                                <div style="max-height:200px;overflow:auto;">
                                                    <table class="table">
                                                        <thead class="bg-gray text-white">
                                                            <tr>
                                                                <th>S.No</th>
                                                                <th>Buyer</th>
                                                                <th>Buyer Limit</th>
                                                                <th>Availed limit</th>
                                                                <th>Balance limit</th>
                                                                <th>Bill Tenure in Days</th>
                                                                <th>Margin-%</th>
                                                                <th>Action</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr ng-repeat="list in mstbuyer_list">
                                                                <td>{{$index+1}}</td>
                                                                <td>{{list.buyer_name}}</td>
                                                                <td>{{list.buyer_limit}}</td>
                                                                <td>{{list.availed_limit}}</td>
                                                                <td>{{list.balance_limit}}</td>
                                                                <td>{{list.bill_tenure}}</td>
                                                                <td>{{list.margin}}</td>
                                                                <td class="text-nowrap">
                                                                    <button title="Edit" ng-click="buyerdtl_edit(list.application2buyer_gid)"
                                                                            class="btn btn-green btn-xs ">
                                                                        <em class="fa fa-edit"></em>
                                                                    </button>
                                                                    <button title="Delete" ng-click="buyerdtl_delete(list.application2buyer_gid)"
                                                                            class="btn btn-danger btn-xs ">
                                                                        <em class="fa fa-trash-o"></em>
                                                                    </button>
                                                                </td>
                                                            </tr>

                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <br />
                            </div>
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <br /><br />
                                    <div class="text-center">
                                        <button type="button" class="btn btn-success"
                                                ng-disabled="loan.$invalid" ng-click="updateLoan()">
                                            <i class="fa fa-arrow-circle-right"></i>&nbsp;&nbsp;Update
                                        </button>
                                        <button type="button" class="btn  btn-info"
                                                ng-click="Back()">
                                            <i class="fa fa-arrow-circle-left"></i>&nbsp;&nbsp;Back
                                        </button>
                                    </div>
                                </div>
                            </div>


                            <br />
                        </div>


                    </form>
                </div>

                <br />
            </div>
        </div>
    </div>
    <script type="text/ng-template" id="/buyerdtledit.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <em style="font-size:16px" class="fa fa-edit"></em>&nbsp;<label style="font-size:16px"> Edit Buyer Details </label>
                <span flex></span>
                <button ng-click="ok()" class="pull-right btn btn-primary"><i class="fa fa-close"></i></button>
            </div>
        </md-toolbar>
        <div class="modal-content">
            <div class="modal-body ng-scope">
                <form novalidate="" name="buyerdtlform" ng-submit="form.submitLoan()" autocomplete="off" class="form-validate mb-lg">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="col-lg-4 col-md-4 col-sm-4">
                                <label class="col-form-label">Buyer <span style="color:red"> *</span> </label>
                                <br />
                                <select name="buyer_name" ng-options="m.buyer_gid as m.buyer_name  for m in buyerlist" ng-change="buyer()" chosen=""
                                        id="buyer_name" ng-model="cboBuyer" class="form-control" style="height:37px;"
                                        size="1">
                                    <option value=""> ----- Select Buyer -----</option>
                                </select>
                            </div>
                            <div class="col-lg-4 col-md-4 col-sm-4">
                                <label class="col-form-label"> Buyer Limit<span style="color:red"> *</span>  </label>
                                <br />
                                <input type="text" ng-model="txteditbuyer_limit" tabindex="0" class="form-control" disabled />
                            </div>
                            <div class="col-lg-4 col-md-4 col-sm-4">
                                <label class="col-form-label"> Availed Limit <span style="color:red"> *</span> </label>
                                <br />
                                <input type="text" ng-model="txteditavailed_limit" tabindex="0" class="form-control" disabled />
                            </div>

                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="col-lg-4 col-md-4 col-sm-4">
                                <label class="col-form-label"> Balance Limit <span style="color:red"> *</span> </label>
                                <br />
                                <input type="text" ng-model="txteditbalance_limit" tabindex="0" class="form-control" disabled />
                            </div>
                            <div class="col-lg-4 col-md-4 col-sm-4">
                                <label class="col-form-label"> Bill Tenure in Days  <span style="color:red"> *</span> </label>
                                <br />
                                <input type="text" ng-model="txteditbill_tenuredays" tabindex="0" class="form-control" />
                            </div>
                            <div class="col-lg-4 col-md-4 col-sm-4">
                                <label class="col-form-label"> Margin % <span style="color:red"> *</span> </label>
                                <br />
                                <input type="text" ng-model="txteditmargin" maxlength="10" tabindex="0" class="form-control" />
                            </div>
                        </div>
                    </div>

                    <br />
                    <div class="text-center">
                        <br />
                        <button type="button" class="btn btn-success" ng-disabled="buyerdtlform.$invalid" ng-click="update_buyerdtl()"><i class="fa fa-check"></i>&nbsp;&nbsp;Update</button>&nbsp;&nbsp;
                        <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>

                    </div>
                </form>
            </div>
        </div>
    </script>
    <script type="text/ng-template" id="/CommodityViewDetails.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <em style="font-size:16px" class="fa fa-eye"></em>&nbsp;<label style="font-size:16px"> View Commodity Details</label>
                <span flex></span>
                <button ng-click="ok()" class="pull-right btn btn-primary"><i class="fa fa-close"></i></button>
            </div>

        </md-toolbar>
        <div class="modal-content">
            <div class="modal-body ng-scope">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <scrollable height="580" class="list-group">
                            <div class="dd-handle ng-scope">

                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <!--<div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Milestone Applicability  </label>
                                            <br />
                                            <p>{{commoditydtls.milestone_applicability}}</p>
                                        </div>-->
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Insurance Applicability </label>
                                            <br />
                                            <p>{{commoditydtls.insurance_applicability}}</p>
                                        </div>
                                        <!--<div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Milestone payment Type </label>
                                            <br />
                                            <p>{{commoditydtls.milestonepayment_name}}</p>
                                        </div>-->
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> SA Payout (%) </label>
                                            <br />
                                            <p>{{commoditydtls.sa_payout}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Margin(%)</label>
                                            <br />
                                            <p>{{commoditydtls.commodity_margin}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Net Yield</label>
                                            <br />
                                            <p>{{commoditydtls.commoditynet_yield}}</p>
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Insurance required </label>
                                            <br />
                                            <p>{{commoditydtls.insurance_availability}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Insurance % </label>
                                            <br />
                                            <p>{{commoditydtls.insurance_percent}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Insurance cost </label>
                                            <br />
                                            <p>{{commoditydtls.insurance_cost}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Net Yield </label>
                                            <br />
                                            <p>{{commoditydtls.net_yield}}</p>
                                        </div>

                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Mark to Market Value (%) </label>
                                            <br />
                                            <p>{{commoditydtls.markto_marketvalue}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Price Reference/Source </label>
                                            <br />
                                            <p>{{commoditydtls.pricereference_source}}</p>
                                        </div>
                                        <!--<div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Credit Period Limit (years) </label>
                                            <br />
                                            <p>{{commoditydtls.creditperiod_years}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Credit Period Limit (months)</label>
                                            <br />
                                            <p>{{commoditydtls.creditperiod_months}}</p>
                                        </div>-->
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Credit Period Limit (days) </label>
                                            <br />
                                            <p>{{commoditydtls.creditperiod_days}}</p>
                                        </div>
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Grace period for penalty (in days) </label>
                                            <br />
                                            <p>{{commoditydtls.graceperiod_days}}</p>
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="col-lg-3 col-md-3 col-sm-3">
                                            <label class="col-form-label"> Calculation of Credit Period limit validity </label>
                                            <br />
                                            <p>{{commoditydtls.overallcreditperiod_limit}}</p>
                                        </div>


                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <label class="text-primary" style="font-size:16px;">GST Details </label>
                                        <div class="table-responsive table-bordered">
                                            <div style="max-height:200px;overflow:auto;">
                                                <table class="table">
                                                    <thead class="bg-gray text-white">
                                                        <tr>
                                                            <th>S.No</th>
                                                            <th>IGST %</th>
                                                            <th>SGST %</th>
                                                            <th>CGST %</th>
                                                            <th>Cess %</th>
                                                            <th>w.e.f date</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="data in commoditygststatuslist">
                                                            <td>{{$index+1}}</td>
                                                            <td>{{data.IGST_percent}}</td>
                                                            <td>{{data.SGST_percent}}</td>
                                                            <td>{{data.CGST_percent}}</td>
                                                            <td>
                                                                {{data.CESS_percent}}
                                                            </td>
                                                            <td> {{data.wef_date}}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <label class="text-primary" style="font-size:16px;">Trade Product Details </label>
                                        <div class="table-responsive table-bordered">
                                            <div style="max-height:200px;overflow:auto;">
                                                <table class="table">
                                                    <thead class="bg-gray text-white">
                                                        <tr>
                                                            <th>S.No</th>
                                                            <th>Product</th>
                                                            <th>Sub Product</th>
                                                            <th>Insurance company name</th>
                                                            <th>Policy Name/Number</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="data in commodityTradeProdctlist">
                                                            <td>{{$index+1}}</td>
                                                            <td>{{data.product_name}}</td>
                                                            <td>{{data.subproduct_name}}</td>
                                                            <td>{{data.insurancecompany_name}}</td>
                                                            <td>{{data.insurancepolicy_name}}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br />

                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <label class="text-primary" style="font-size:16px;">Payment Type - Customer(Repayment- Receipt)</label>
                                        <div class="table-responsive table-bordered">
                                            <div style="max-height:200px;overflow:auto;">
                                                <table class="table">
                                                    <thead class="bg-gray text-white">
                                                        <tr>
                                                            <th>S.No</th>
                                                            <th>Customer Payment Type</th>
                                                            <th>Maximum percentage of the payment term</th>

                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="list in commoditycustomerpayment">
                                                            <td>{{$index+1}}</td>
                                                            <td>{{list.customerpaymenttype_name}}</td>
                                                            <td>{{list.maximumpercent_paymentterm}}</td>

                                                        </tr>

                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <label class="text-primary" style="font-size:16px;">Document Upload </label>
                                        <div class="table-responsive table-bordered">
                                            <div style="max-height:200px;overflow:auto;">
                                                <table class="table">
                                                    <thead class="bg-gray text-white">
                                                        <tr>
                                                            <th>S.No</th>
                                                            <th>As on date</th>
                                                            <!-- <th>Commodity Report</th> -->
                                                            <th align="center" scope="col">
                                                                Commodity Report&nbsp;&nbsp;&nbsp;
                                                                <a download="" href="" title="Download All" id="btnpdf1" ng-click="downloadall_2()">
                                                                    <em style="font-size: 1.5em;" class="icon-arrow-down"></em>&nbsp;
                                                                </a>
                                                            </th>
                                                            <!-- <th>Risk Analysis Report</th> -->
                                                            <th align="center" scope="col">
                                                                Risk Analysis Report&nbsp;&nbsp;&nbsp;
                                                                <a download="" href="" title="Download All" id="btnpdf1" ng-click="downloadall_3()">
                                                                    <em style="font-size: 1.5em;" class="icon-arrow-down"></em>&nbsp;
                                                                </a>
                                                            </th>
                                                            <th>Uploaded By</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr ng-repeat="data in commodityDocumentUpload">
                                                            <td>{{$index+1}}</td>
                                                            <td>{{data.ason_date}}</td>
                                                            <td>
                                                                <a download="" href="" id="btnpdf"
                                                                   ng-click="doc_downloads(data.commodityreport_filepath,data.commodityreport_filename)">{{data.commodityreport_filename}}</a>
                                                                <button title="View" class="btn btn-info btn-xs" ng-click="documentviewer(data.commodityreport_filepath,data.commodityreport_filename)">
                                                                    <a download="" href="" style="display:none;"></a>  <em class="fa fa-file"></em>
                                                                </button>
                                                            </td>
                                                            <td>
                                                                <a download="" href="" ng-click="doc_downloads(data.riskanalysisreport_filepath,data.riskanalysisreport_filename)"
                                                                   id="btnpdf">{{data.riskanalysisreport_filename}}</a>
                                                                <button title="View" class="btn btn-info btn-xs" ng-click="documentviewer(data.riskanalysisreport_filepath,data.riskanalysisreport_filename)">
                                                                    <a download="" href="" style="display:none;"></a>  <em class="fa fa-file"></em>
                                                                </button>
                                                            </td>
                                                            <td>{{data.created_by}}</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br />


                            </div>
                        </scrollable>
                    </div>
                </div>
                <br />
                <div class="text-center">
                    <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                </div>
            </div>
        </div>
    </script>

    <script type="text/ng-template" id="/SupplierGSTDetails.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <em style="font-size:16px" class="fa fa-file-text-o"></em>&nbsp;<label style="font-size:16px">Supplier GST / Payment Details</label>
                <span flex></span>
                <button ng-click="ok()" class="pull-right btn btn-primary"><i class="fa fa-close"></i></button>
            </div>

        </md-toolbar>
        <div class="modal-content">
            <div class="modal-body ng-scope">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="dd-handle ng-scope">
                            <div class="table-responsive table-bordered">
                                <div>
                                    <table class="table">
                                        <thead class="bg-gray text-white">
                                            <tr>
                                                <th>S.No</th>
                                                <th>GST State</th>
                                                <th>GST Number</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="data in SupplierGSTdtl_list">
                                                <td>{{$index+1}}</td>
                                                <td>{{data.gst_state}}</td>
                                                <td>{{data.gst_no}}</td>
                                            </tr>
                                        </tbody>
                                    </table>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="table-responsive table-bordered">
                            <div style="max-height:200px;overflow:auto;">
                                <table class="table">
                                    <thead class="bg-gray text-white">
                                        <tr>
                                            <th>S.No</th>
                                            <th>Commodity Name </th>
                                            <th>Supplier Payment Type</th>
                                            <th>Maximum percentage of the payment term</th>
                                            <!--<th>Action</th>-->
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="list in MdlSupplierPaymentlist">
                                            <td>{{$index+1}}</td>
                                            <td>{{list.commodity_name}}</td>
                                            <td>{{list.supplierpayment_type}}</td>
                                            <td>{{list.maxpercent_paymentterm}}</td>
                                            <!--<td class="text-nowrap">
                                                <button title="Delete" ng-click="DeletePaymentdisbursement(list.apploan2supplierpayment_gid)"
                                                        class="btn btn-danger btn-xs ">
                                                    <em class="fa fa-trash-o"></em>
                                                </button>
                                            </td>-->
                                        </tr>

                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                </div>

                <br />
                <div class="text-center">
                    <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                </div>
            </div>
        </div>
    </script>
    <script type="text/ng-template" id="/statusupplierdetails.html">
        <div class="modal-header bg-primary ng-scope">

            <h4 id="myModalLabel" class="modal-title">
                &emsp;
                <span class="btn-label bg-primary">
                    <i class="fa fa-thumbs-up"></i>
                </span>Status
            </h4>
        </div>
        <div class="modal-body ng-scope">
            <form novalidate="" name="statusupplierdetails" ng-submit="form.status()" autocomplete="off" class="form-validate form-horizontal">
                <div class="pd-sm-10">
                    <div class="row ">
                        <div class="col-sm-12 col-sm-12 col-sm-12 ">
                            <div class="row ">
                                <div class="col-sm-4 col-sm-4 col-sm-4">
                                    <label>Supplier Name</label>
                                </div>
                                <div class="col-sm-8 col-sm-8 col-sm-8">
                                    {{txtsuppplier_name}}
                                </div>

                            </div>
                            <br />
                            <div class="row ">
                                <div class="col-sm-4 col-sm-4 col-sm-4">
                                    <label>Status  </label>
                                </div>
                                <div class="col-sm-8 col-sm-8 col-sm-8">
                                    <div class="radio c-radio">
                                        <label>
                                            <input type="radio" name="rbo_status" value="Y" ng-model="rbo_status" ng-click="status_yes()" />
                                            &nbsp;&nbsp;<span class="fa fa-circle"></span> Active
                                        </label>
                                        <label>
                                            <input type="radio" name="rbo_status" value="N" ng-model="rbo_status" ng-click="status_no()" />
                                            <span class="fa fa-circle"></span> Inactive
                                        </label>
                                    </div>
                                </div>

                            </div>
                            <div class="row ">
                                <div class="col-sm-12 col-sm-12 col-sm-12 ">
                                    <div class="mda-form-group float-label">
                                        <textarea ng-model="txtremarks" style="resize:vertical;" required rows="4" aria-multiline="true" tabindex="0" aria-invalid="false" class="mda-form-control"></textarea>
                                        <label>Remarks <span style="color:red">*</span></label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <br />
                    <div class="text-center">
                        <button type="button" class="btn btn-success btn-md" ng-disabled="!txtremarks" ng-click="update_status()"><i class="fa fa-arrow-circle-right"></i>&nbsp;&nbsp;Submit</button>&nbsp;&nbsp;
                        <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                    </div>
                </div>
                <br />
            </form>
            <br />
            <div class="table-responsive" ng-show="supplierdetailsinactivelog_data!=null">
                <div style="max-height:300px;overflow:auto;">
                    <table class="table table-striped table-secondary">
                        <thead class="bg-gray text-white">
                            <tr width="100%">
                                <th align="center" scope="col">S.No</th>
                                <th align="center" scope="col">Status</th>
                                <th align="center" scope="col">Updated By</th>
                                <th align="center" scope="col">Updated Date</th>
                                <th align="center" scope="col">Remarks</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr width="100%" ng-repeat="data in supplierdetailsinactivelog_data">
                                <td align="left" scope="col" title="'S.No'">{{$index+1}}</td>
                                <td align="left" scope="col" title="'Status'">{{data.status}} </td>
                                <td align="left" scope="col" title="'Updated By'">{{data.updated_by}}</td>
                                <td align="left" scope="col" title="'Updated Date'">{{data.updated_date}}</td>
                                <td align="left" scope="col" title="'Remarks'">{{data.remarks}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </script>
</div>
