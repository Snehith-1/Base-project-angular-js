<h3>
    Buyer / Supplier Onboarding
</h3>
<div ng-controller="AgrMstCustomerOnboardingSummaryController">
    <div class="card">
        <div class="card-heading">
            <div class="row">
                <div class="col-lg-9 col-sm-9 col-md-9">
                    <button type="button" class="btn btn-labeled btn-info" ng-click="addbuyer()">
                        <span class="btn-label">
                            <i class="icon icon-user-follow"></i>
                        </span>Buyer Creation
                    </button>
                    <button type="button" class="btn btn-labeled btn-info" ng-click="addsupplier()">
                        <span class="btn-label">
                            <i class="icon icon-user-follow"></i>
                        </span>Supplier Creation
                    </button>
                </div>
                <div class="col-lg-3 col-sm-3 col-md-3 pull-right">
                    <div class="list-group-item">
                        <div class="media-box">
                            <div class="pull-left">
                                <span class="fa-stack">
                                    <em class="fa fa-circle fa-stack-2x text-danger"></em>
                                    <em class="fa fa-thumbs-down fa-stack-1x fa-inverse text-white"></em>
                                </span>
                            </div>
                            <div class="media-box-body clearfix">
                                <div class="media-box-heading">
                                    <a style="font-size:14px;" title="Go To Approval Rejected Summary" ng-click="rjectedsummary()" class="text-primary m0">Buyer/Supplier Approval Rejected</a>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>


        <md-content class="md-padding">
            <md-tabs md-dynamic-height="" md-border-bottom="" md-selected="selectedIndex">
                <md-tab md-on-select="fnBuyeronboardingApprovalPendinglist()">
                    <md-tab-label>
                        Buyer Approval Pending
                        &emsp;<i class='pull-right label label-primary'>{{approvalcount.BuyerApprovalPending}}</i>
                    </md-tab-label>
                    <md-tab-body>
                        <md-content class="md-padding">
                            <div class="">
                                <h4 class="text-pink">
                                    Buyer Onboarding - Pending
                                </h4>
                                <div class="panel-body">
                                    <div class="table-responsive">
                                        <table datatable="ng" class="table table-hover table-striped">
                                            <thead class="nowrap">
                                                <tr class="text-white" style="background-color:#09385f;">
                                                    <th> S.No </th>
                                                    <!--<th> Buyer ID </th>-->
                                                    <th> Customer/Buyer Name </th>
                                                    <!--<th> Vertical </th>-->
                                                    <th style="width:10%;"> Applicant Type </th>
                                                    <th> Status </th>
                                                    <th> Created Date</th>
                                                    <th> Approval Submitted Date </th>
                                                    <th> Sourced By</th>
                                                    <th class="text-center" style="width:14%">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="data in onboardbyrpendingapplicationlist">
                                                    <td data-title="'S.No'" class="text-center"> {{$index+1}}</td>
                                                    <!--<td data-title="'Buyer ID'">  {{data.application_no}} </td>-->
                                                    <td data-title="'Applicant Name">  {{data.customer_name}} </td>
                                                    <!--<td data-title="'Vertical">  {{data.vertical_name}} </td>-->
                                                    <td data-title="'Applicant Type" style="width:10%;">  {{data.applicant_type}} </td>
                                                    <td data-title="'Status"> {{data.onboard_applicationstatus}} </td>
                                                    <td data-title="'Created Date'">	 {{data.created_date}} </td>
                                                    <td data-title="'Approval Submitted Date'">
                                                        <span ng-if="data.submittedto_approval!=''"> {{data.submittedto_approval}} </span>
                                                        <label ng-if="data.submittedto_approval==''" class="label label-info" style="font-size:11px;">Not Submitted</label>
                                                    </td>
                                                    <td data-title="'Created Date'">	 {{data.sourced_by}} </td>
                                                    <td class="nowrap" data-title="'Action'" style="text-align: center;width:14%;">
                                                        <button title="View" ng-click="applcreation_view(data.application_gid)" ng-show="data.query_status!='Query Raised'" class="btn btn-info">
                                                            <em class="fa fa-eye"></em>
                                                        </button>
                                                        <!--<button ng-if="data.submittedto_approval==''" title="Edit" ng-click="applcreation_edit(data.application_gid)" class="btn btn-green">
            <em class="icon-pencil"></em>
        </button>-->
                                                        <button title="Approval" ng-click="applcreation_view(data.application_gid)" ng-show="data.query_status=='Query Raised'" class="btn btn-success">
                                                            <em class="fa fa-check-square-o"></em>
                                                        </button>
                                                        <button title="Edit" ng-show="data.query_status=='Query Raised' || data.submittedto_approval==''" ng-click="applcreation_edit(data.application_gid)" class="btn btn-green">
                                                            <em class="icon-pencil"></em>
                                                        </button>
                                                        <!--<button title="Delete" ng-show="data.application_no == ''" ng-click="delete(data.application_gid)" class="btn btn-danger">
            <em class="icon icon-trash "></em>
        </button>-->
                                                    </td>


                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>
                        </md-content>
                    </md-tab-body>

                </md-tab>
                <md-tab md-on-select="fnBuyeronboardingApprovedlist()">
                    <md-tab-label>
                        Buyer Onboarding - Approved
                        &emsp;<i class='pull-right label label-primary'>{{approvalcount.BuyerApproved}}</i>
                    </md-tab-label>
                    <md-tab-body>
                        <md-content class="md-padding">

                            <div class="">
                                <h4 class="text-pink">
                                    Buyer Onboarding - Approved
                                </h4>
                                <div class="panel-body">
                                    <div class="table-responsive">
                                        <table datatable="ng" class="table table-hover table-striped">
                                            <thead class="nowrap">
                                                <tr class="text-white" style="background-color:#09385f;">
                                                    <th> S.No </th>
                                                    <th> Buyer ID </th>
                                                    <th> Virtual Account Number</th>
                                                    <th> Customer/Buyer Name </th>
                                                    <!--<th> Vertical </th>-->
                                                    <th style="width:10%;"> Applicant Type </th>
                                                    <!--<th> Status </th>-->
                                                    <th> Submitted Date</th>
                                                    <th> Approved By </th>
                                                    <th> Approved Date </th>
                                                    <th> Tag Status </th>
                                                    <th> Application Initiated</th>
                                                    <th class="text-center" style="width:14%">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="data in onboardbyrapprovedapplicationlist">
                                                    <td data-title="'S.No'" class="text-center">{{$index+1}}</td>
                                                    <td data-title="'Buyer ID'">  {{data.application_no}} </td>
                                                    <td data-title="'Virtual Account Number'">{{data.virtualaccount_number}}</td>
                                                    <td data-title="'Applicant Name">  {{data.customer_name}} </td>
                                                    <!--<td data-title="'Vertical">  {{data.vertical_name}} </td>-->
                                                    <td data-title="'Applicant Type" style="width:10%;">  {{data.applicant_type}} </td>
                                                    <!--<td data-title="'Status"> {{data.onboard_applicationstatus}} </td>-->
                                                    <td data-title="'Submitted Date'">	 {{data.submittedto_approval}} </td>
                                                    <td data-title="'Approved By'">	 {{data.onboard_approvedby}} </td>
                                                    <td data-title="'Approved Date'">
                                                        {{data.onboard_approveddate}}
                                                    </td>
                                                    <td data-title="'Tag status'">
                                                        {{data.lgltag_status}}
                                                    </td>

                                                    <td data-title="'Application Initiated'">
                                                        <p ng-if="data.application_initiateddate!=''">{{data.application_initiateddate}}</p>
                                                        <label ng-if="data.application_initiateddate==''" class="label label-info" style="font-size:11px;">Not Initiated</label>
                                                    </td>
                                                    <td class="nowrap" data-title="'Action'" style="text-align: center;width:14%;" ng-switch="data.application_status">
                                                        <button title="View" ng-click="Approvedapplcreation_view(data.application_gid)" class="btn btn-info">
                                                            <em class="fa fa-eye"></em>
                                                        </button>
                                                        <button ng-show="data.lgltag_status=='Active'" title="Buyer - Initiate Application" ng-click="initiate_buyeronboard(data.application_gid,data.application_no,data.customer_name)" class="btn btn-success">
                                                            <em class="fa fa-arrow-circle-right"></em>
                                                        </button>
                                                        <button title="Limit Management" ng-click="onboardappdetailinfo(data.application_gid)" class="btn bg-pink-400">
                                                            <em class="fa fa-retweet text-white"></em>
                                                        </button>
                                                        <button title="Renewal / Amendment / Short Closing"
                                                                ng-click="buyer_renewal(data.application_gid)" class="btn btn-info" style="background-color:#0828c7;">
                                                            <em class="icon-social-dropbox"></em>
                                                        </button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>
                        </md-content>
                    </md-tab-body>

                </md-tab>

                <md-tab label="Supplier Onboarding - Pending" md-on-select="fnSupplieronboardingpendinglist()">
                    <md-tab-label>
                        Supplier Onboarding - Pending
                        &emsp;<i class='pull-right label label-primary'>{{approvalcount.SupplierApprovalPending}}</i>
                    </md-tab-label>
                    <md-tab-body>
                        <md-content class="md-padding">
                            <div class="">
                                <h4 class="text-pink">
                                    Supplier Onboarding - Pending
                                </h4>
                                <div class="panel-body">
                                    <div class="table-responsive">
                                        <table datatable="ng" class="table table-hover table-striped">
                                            <thead class="nowrap">
                                                <tr class="text-white" style="background-color:#09385f;">
                                                    <th> S.No </th>
                                                    <!--<th> Supplier ID </th>-->
                                                    <th> Customer/Supplier Name </th>
                                                    <!--<th> Vertical </th>-->
                                                    <th style="width:10%;"> Applicant Type </th>
                                                    <th> Status </th>
                                                    <th> Created Date</th>
                                                    <th> Approval Submitted Date </th>
                                                    <th> Sourced By</th>
                                                    <th class="text-center" style="width:14%">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="data in onboardsuprpendingapplicationlist">
                                                    <td data-title="'S.No'" class="text-center">  {{$index+1}}</td>
                                                    <!--<td data-title="'Buyer ID'">  {{data.application_no}} </td>-->
                                                    <td data-title="'Applicant Name">  {{data.customer_name}} </td>
                                                    <!--<td data-title="'Vertical">  {{data.vertical_name}} </td>-->
                                                    <td data-title="'Applicant Type" style="width:10%;">  {{data.applicant_type}} </td>
                                                    <td data-title="'Status"> {{data.onboard_applicationstatus}} </td>
                                                    <td data-title="'Created Date'">	 {{data.created_date}} </td>
                                                    <td data-title="'Approval Submitted Date'">
                                                        <span ng-if="data.submittedto_approval!=''"> {{data.submittedto_approval}} </span>
                                                        <label ng-if="data.submittedto_approval==''" class="label label-info" style="font-size:11px;">Not Submitted</label>
                                                    </td>
                                                    <td data-title="'Created Date'">	 {{data.sourced_by}} </td>
                                                    <td class="nowrap" data-title="'Action'" style="text-align: center;width:14%;">
                                                        <button title="View" ng-click="suprapplcreation_view(data.application_gid)" ng-show="data.query_status!='Query Raised'" class="btn btn-info">
                                                            <em class="fa fa-eye"></em>
                                                        </button>
                                                        <button title="Approval" ng-click="suprapplcreation_view(data.application_gid)" ng-show="data.query_status=='Query Raised'" class="btn btn-success">
                                                            <em class="fa fa-check-square-o"></em>
                                                        </button>
                                                        <button ng-show="data.query_status=='Query Raised' || data.submittedto_approval==''" title="Edit" ng-click="suprapplcreation_edit(data.application_gid)" class="btn btn-green">
                                                            <em class="icon-pencil"></em>
                                                        </button>

                                                        <!--<button title="Delete" ng-show="data.application_no == ''" ng-click="delete(data.application_gid)" class="btn btn-danger">
            <em class="icon icon-trash "></em>
        </button>-->
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>

                            </div>
                        </md-content>
                    </md-tab-body>


                </md-tab>
                <md-tab md-on-select="fnSupplieronboardingApprovedlist()">
                    <md-tab-label>
                        Supplier Onboarding - Approved
                        &emsp;<i class='pull-right label label-primary'>{{approvalcount.SupplierApproved}}</i>
                    </md-tab-label>
                    <md-tab-body>
                        <md-content class="md-padding">

                            <div class="">
                                <h4 class="text-pink">
                                    Supplier Onboarding - Approved
                                </h4>
                                <div class="panel-body">
                                    <div class="table-responsive">
                                        <table datatable="ng" class="table table-hover table-striped">
                                            <thead class="nowrap">
                                                <tr class="text-white" style="background-color:#09385f;">
                                                    <th> S.No </th>
                                                    <th> Supplier ID </th>
                                                    <th> Customer/Supplier Name </th>
                                                    <!--<th> Vertical </th>-->
                                                    <th style="width:10%;"> Applicant Type </th>
                                                    <th> Submitted Date</th>
                                                    <th> Approved By </th>
                                                    <th> Approved Date </th>
                                                    <th> Tag Status </th>
                                                    <th> Application Initiated</th>
                                                    <th class="text-center" style="width:14%">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="data in onboardsuprapprovedapplicationlist">
                                                    <td data-title="'S.No'" class="text-center"> {{$index+1}}</td>
                                                    <td data-title="'Buyer ID'">  {{data.application_no}} </td>
                                                    <td data-title="'Applicant Name">  {{data.customer_name}} </td>
                                                    <!--<td data-title="'Vertical">  {{data.vertical_name}} </td>-->
                                                    <td data-title="'Applicant Type" style="width:10%;">  {{data.applicant_type}} </td>
                                                    <td data-title="'Submitted Date'">	 {{data.submittedto_approval}} </td>
                                                    <td data-title="'Approved By'">	 {{data.onboard_approvedby}} </td>
                                                    <td data-title="'Approved Date'">
                                                        {{data.onboard_approveddate}}
                                                    </td>
                                                    <td data-title="'Tag status'">
                                                        {{data.lgltag_status}}
                                                    </td>
                                                    <td data-title="'Application Initiated'">
                                                        <p ng-if="data.application_initiateddate!=''">{{data.application_initiateddate}}</p>
                                                        <label ng-if="data.application_initiateddate==''" class="label label-info" style="font-size:11px;">Not Initiated</label>
                                                    </td>
                                                    <td class="nowrap" data-title="'Action'" style="text-align: center;width:14%;" ng-switch="data.application_status">
                                                        <button title="View" ng-click="ApprovedSuprapplcreation_view(data.application_gid)" class="btn btn-info">
                                                            <em class="fa fa-eye"></em>
                                                        </button>
                                                        <button ng-show="data.application_initiateddate==''&&data.lgltag_status=='Active'" title="Supplier - Initiate Application" ng-click="initiate_supplieronboard(data.application_gid,data.application_no,data.customer_name)" class="btn btn-success">
                                                            <em class="fa fa-arrow-circle-right"></em>
                                                        </button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>

                            </div>
                        </md-content>
                    </md-tab-body>

                </md-tab>
            </md-tabs>
        </md-content>
    </div>


    <script type="text/ng-template" id="/InitiateOnboard.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <em style="font-size:16px" class="fa fa-arrow-circle-right"></em>&nbsp;<label style="font-size:16px">{{Popupdtl}} - Initiate Application</label>
                <span flex></span>
                <button ng-click="ok()" class="pull-right btn btn-primary"><i class="fa fa-close"></i></button>
            </div>

        </md-toolbar>
        <div class="modal-content">
            <div class="modal-body ng-scope">
                <form novalidate="" name="assignform" ng-submit="form.submitassign()" autocomplete="off" class="form-validate mb-lg">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                        <label>{{Popupdtl}} Id </label>
                                        <br />
                                        <p>{{application_no}}</p>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6">
                                        <label> Customer Name </label>
                                        <br />
                                        <p>{{customer_name}}</p>
                                    </div>
                                </div>
                            </div>
                            <br />
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <label> Remarks <span style="color:red;">*</span></label>
                                        <textarea ng-model="txtremarks" rows="4" class="form-control" style="resize:vertical;" required
                                                  id="input_13" ng-trim="false" aria-multiline="true" tabindex="0" aria-invalid="true"></textarea>
                                    </div>
                                </div>
                            </div>
                            <br />
                        </div>
                    </div>
                    <br />
                    <div class="text-center">
                        <button type="button" class="btn btn-success" ng-disabled="assignform.$invalid" ng-click="initiate_onboard()"><i class="fa fa-check"></i>&nbsp;&nbsp;Initiate</button>&nbsp;&nbsp;
                        <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                        <br />
                    </div>
                </form>
            </div>
        </div>
    </script>
    <script type="text/ng-template" id="/BuyerRenewalpopup.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <em style="font-size:16px" class="icon-refresh"></em>&nbsp;<label style="font-size:16px">Renewal</label>
                <span flex></span>
                <button ng-click="ok()" class="pull-right btn btn-primary"><i class="fa fa-close"></i></button>
            </div>

        </md-toolbar>
        <div class="modal-content">
            <div class="modal-body ng-scope">
                <div ng-show="renewalshow">
                    <form novalidate="" name="userform1" ng-submit="form.submitLoan()" autocomplete="off" class="form-validate mb-lg">
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="text-center">
                                    <h4> Do you want to Renew this Buyer? </h4>
                                </div>
                            </div>
                        </div>
                        <br />
                        <div class="text-center">
                            <button ng-click="renewl_confirm()" class="btn btn-success"><em class="fa fa-check"></em>&nbsp;&nbsp;Confirm</button>
                            <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                        </div>
                    </form>
                </div>
                <div ng-show="renewedshow">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <p style="font-size:18px;color:#148417" class="text-center"><b>Renewed Successfully! </b> </p>
                            <p style="font-size:14px;"><b> New Application created with Application number <span style="color:#7f1187;">{{renewedapplication_no}}</span>.</b></p>
                            <p style="font-size:14px;"><b>Kindly, update the Customer information and proceed for further process. </b></p>
                        </div>
                    </div>
                    <br />
                    <div class="text-center">
                        <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                    </div>
                </div>
            </div>
        </div>
    </script>
</div>

