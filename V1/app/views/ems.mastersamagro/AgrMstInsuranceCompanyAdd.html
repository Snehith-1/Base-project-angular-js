<h3>
    Add Insurance Company
</h3>
<div ng-controller="AgrMstInsuranceCompanyAddController as dpick">
    <div class="panel panel-primary">
        <div class="panel-heading">
            Add Insurance Company
        </div>
        <div class="panel-body">
            <br />
            <form novalidate="" name="userform2" ng-submit="form.submitLoan()" autocomplete="off" class="form-validate mb-lg">
                <div class="dd-handle ng-scope" style="background-color: #f9f8f8;">

                    <div class="row">
                        <div class="col-md-12 col-lg-12 col-sm-12">
                            <br />
                            <p class="text-primary" style="font-size:16px;"><b>&nbsp;&nbsp; Basic Details </b></p>
                            <hr />
                            <div class="col-lg-4 col-md-4 col-sm-4">
                                <label class="col-form-label">
                                    Insurance Company Name
                                </label> <span style="color:red">*</span>
                                <br />
                                <input type="text" ng-model="txtinsurancecompany_name" tabindex="0" class="form-control" required />
                            </div>
                        </div>
                    </div>
                    <br />
                </div>
                <br />
                <div class="row">
                    <div class="col-md-12 col-lg-12 col-sm-12">
                        <div class="panel">
                            <div class="panel-heading">
                                <p class="text-primary" style="font-size:16px;"><b>&nbsp;&nbsp; Policy Details  </b></p>
                                <hr />
                            </div>
                            <div class="panel-body">
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="col-lg-8 col-md-8 col-sm-8">
                                            <label class="col-form-label"><strong> Policy Name </strong></label> <span style="color:red">*</span>
                                            <input type="text" ng-model="txtpolicy_name" tabindex="0" class="form-control" />
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <label class="col-form-label"><strong> Policy Number </strong></label> <span style="color:red">*</span>
                                            <input type="text" ng-model="txtpolicy_number" tabindex="0" class="form-control" />
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <label class="col-form-label"> Policy Amount </label> <span style="color:red">*</span>
                                            <br />
                                            <input id="policyamount" ng-model="txtpolicy_amount" maxlength="15" class="form-control ng-pristine ng-valid ng-touched"
                                                   ng-change="txtpolicyamount()" ng-pattern="/^[0-9,]+(\.[0-9]{1,2})?$/" step="0.01" style="text-align:right;">
                                            <span style="font-style:italic;">Number in words:</span>
                                            <span id="words_policyamount" style="color:#003c96fc;" class="text-bold"></span>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <label class="col-form-label"> Policy Period From </label> <span style="color:red">*</span>
                                            <p class="input-group">
                                                <input type="text" id="policyperiod_from" name="policyperiod_from" ng-model="dtpolicyperiod_from" datepicker-popup="{{dpick.format}}"
                                                       style="height:37px;" is-open="dpick.opened1" min-date="dpick.minDate" datepicker-options="dpick.dateOptions"
                                                       close-text="Close" class="form-control" />
                                                <span class="input-group-btn">
                                                    <button type="button" ng-click="dpick.open1($event)" style="height:37px;" class="btn btn-default">
                                                        <em class="fa fa-calendar"></em>
                                                    </button>
                                                </span>
                                            </p>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <label class="col-form-label"> Policy Period To </label> <span style="color:red">*</span>
                                            <p class="input-group">
                                                <input type="text" id="policyperiod_to" name="policyperiod_to" ng-model="dtpolicyperiod_to" datepicker-popup="{{dpick.format}}"
                                                       style="height:37px;" is-open="dpick.opened2" min-date="dpick.minDate" datepicker-options="dpick.dateOptions"
                                                       close-text="Close" class="form-control" />
                                                <span class="input-group-btn">
                                                    <button type="button" ng-click="dpick.open2($event)" style="height:37px;" class="btn btn-default">
                                                        <em class="fa fa-calendar"></em>
                                                    </button>
                                                </span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <label class="col-form-label"> Premium Amount </label> <span style="color:red">*</span>
                                            <br />
                                            <input id="premiumamount" ng-model="txtpremium_amount" maxlength="15" class="form-control ng-pristine ng-valid ng-touched"
                                                   ng-change="txtpremiumamount()" ng-pattern="/^[0-9,]+(\.[0-9]{1,2})?$/" step="0.01" style="text-align:right;">
                                            <span style="font-style:italic;">Number in words:</span>
                                            <span id="words_premiumamount" style="color:#003c96fc;" class="text-bold"></span>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <label>Premium Payment Status </label> <span style="color:red">*</span>
                                            <div class="radio c-radio">
                                                <label>
                                                    <input type="radio" id="premiumpaymentstatus" name="premiumpaymentstatus" value="Yes" ng-model="rdbpremiumpayment_status" ng-click="premiumpaymentstatuschange(rdbpremiumpayment_status)" />
                                                    &nbsp;&nbsp;<span class="fa fa-circle"></span>Yes
                                                </label>
                                                <label>
                                                    <input type="radio" id="premiumpaymentstatus" name="premiumpaymentstatus" value="No" ng-model="rdbpremiumpayment_status" ng-click="premiumpaymentstatuschange(rdbpremiumpayment_status)" />
                                                    <span class="fa fa-circle"></span>No
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4" ng-show="paiddate_visible">
                                            <label class="col-form-label"> Paid Date </label> <span style="color:red">*</span>
                                            <p class="input-group">
                                                <input type="text" id="paid_date" name="paid_date" ng-model="dtpaid_date" datepicker-popup="{{dpick.format}}"
                                                       style="height:37px;" is-open="dpick.opened3" min-date="dpick.minDate" datepicker-options="dpick.dateOptions"
                                                       close-text="Close" class="form-control" ng-change="futuredatecheck(dtpaid_date)" />
                                                <span class="input-group-btn">
                                                    <button type="button" ng-click="dpick.open3($event)" style="height:37px;" class="btn btn-default">
                                                        <em class="fa fa-calendar"></em>
                                                    </button>
                                                </span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="text-center">
                                        <div class="col-lg-12 col-md-12 col-sm-12">
                                            <a class="btn btn-sm btn-default" style="background-color:#09385f;color:white;" ng-click="policy_add()"><span class="fa fa-plus" />  Add </a>
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="col-lg-12">
                                            <div class="table-responsive table-bordered">
                                                <div style="max-height:200px;overflow:auto;">
                                                    <table class="table">
                                                        <thead class="bg-gray text-white">
                                                            <tr>
                                                                <th>S.No</th>
                                                                <th>Policy Name</th>
                                                                <th>Policy Number</th>
                                                                <th>Policy Amount</th>
                                                                <th>Action</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr ng-repeat="data in policy_list">
                                                                <td>{{$index+1}}</td>
                                                                <td>{{data.policy_name}}</td>
                                                                <td>{{data.policy_number}}</td>
                                                                <td>{{data.policy_amount}}</td>
                                                                <td class="text-nowrap">
                                                                    <button title="View" ng-click="policy_view(data)" class="btn btn-xs btn-info">
                                                                        <em class="fa fa-eye"></em>
                                                                    </button>    
                                                                    <button title="Upload" ng-click="policydoc_upload(data.insurancecompany2policy_gid)" class="btn btn-success btn-xs">
                                                                        <em class="fa fa-upload"></em>
                                                                    </button>
                                                                    <button title="Delete" ng-click="policy_delete(data.insurancecompany2policy_gid)"
                                                                            class="btn btn-danger btn-xs ">
                                                                        <em class="fa fa-trash-o"></em>
                                                                    </button>
                                                                </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br />
                            </div>
                        </div>
                    </div>
                </div>
                <br />
                <div class="text-center">
                    <button type="button" class="btn btn-success btn-md" ng-disabled="userform2.$invalid" ng-click="insurancecompany_submit()"><i class="fa fa-arrow-circle-right"></i>&nbsp;&nbsp;Submit</button>&nbsp;&nbsp;
                    <button ng-click="Back()" class="btn btn-info"><i class="fa fa-arrow-circle-left"></i>&nbsp;&nbsp;Back</button>
                </div>
            </form>
            <br />
        </div>
    </div>
    <script type="text/ng-template" id="/policy_docupload.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <em style="font-size:16px" class="fa fa-file-text-o"></em>&nbsp;<label style="font-size:16px"> Document Upload </label>
                <span flex></span>
                <button ng-click="ok()" class="pull-right btn btn-primary"><i class="fa fa-close"></i></button>
            </div>
    
        </md-toolbar>
        <div class="modal-content">
            <div class="modal-body ng-scope">
                <form novalidate="" name="userform1" ng-submit="form.userform1()" autocomplete="off" class="form-validate mb-lg">
                    <div class="dd-handle ng-scope">
                        <div class="row">
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="col-sm-6 col-md-6 col-lg-6">
                                            <label> Document Title <span style="color:red"> *</span></label>
                                            <br />
                                            <input type="text" ng-model="txtdocument_title" tabindex="0" class="form-control" />
                                        </div>
    
                                        <div class="col-lg-4 col-sm-4 col-md-4">
                                            <div class="float-label">
                                                <strong>Upload Documents</strong>
                                                <br /><br />
                                                <input type="file" id="policydocupload" tabindex="5" multiple onchange="angular.element(this).scope().policydocumentupload(this.files, angular.element(this).scope().documentupload, this.name)"
                                                       ng-model="txtpolicydocupload" data-classbutton="btn btn-default" data-classinput="form-control inline" data-button-text="Select" />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br />
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <div class="table-responsive table-bordered">
                                        <div style="max-height:200px;overflow:auto;">
                                            <table class="table">
                                                <thead class="bg-gray text-white">
                                                    <tr>
                                                        <th>S.No</th>
                                                        <th>Document Title</th>
                                                        <th>Document Name</th>
                                                        <!-- <th>Action</th> -->
                                                        <th align="center" scope="col">
                                                            Action&nbsp;&nbsp;&nbsp;
                                                            <a download="" href="" title="Download All" id="btnpdf1" ng-click="downloadall()">
                                                                <em style="font-size: 1.5em;" class="icon-arrow-down"></em>&nbsp;
                                                            </a>
                                                        </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="data in policydoc_list">
                                                        <td>{{$index+1}}</td>
                                                        <td>{{data.document_title}}</td>
                                                        <td>{{data.document_name}}</td>
                                                        <td class="text-nowrap">
                                                            <button title="Download" class="btn btn-green btn-xs"
                                                                    ng-click="download_doc(data.document_path,data.document_name)">
                                                                <a download="" href="" id="btnpdf" style="display:none;"></a>
                                                                <em class="fa fa-download"></em>
                                                            </button>
                                                            <button title="Delete" ng-click="policydoc_delete(data.insurancecompanypolicy2document_gid)"
                                                                    class="btn btn-danger btn-xs ">
                                                                <em class="fa fa-trash-o"></em>
                                                            </button>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <br />
                    </div>
                    <br />
                    <div class="text-center">
                        <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                    </div>
                </form>
            </div>
        </div>
    </script>
    <script type="text/ng-template" id="/PolicyView.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <em style="font-size:16px" class="fa fa-eye"></em>&nbsp;<label style="font-size:16px">View Policy</label>
                <span flex></span>
                <button ng-click="ok()" class="pull-right btn btn-primary"><i class="fa fa-close"></i></button>
            </div>
        </md-toolbar>
        <div class="modal-content">
            <div class="modal-body ng-scope">
                <form novalidate="" name="policyview" ng-submit="form.policyview()" autocomplete="off" class="form-validate mb-lg">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12">
                            <div class="dd-handle ng-scope">
                                <div class="row">
                                    <div class="col-sm-12 col-sm-12 col-sm-12">
                                        <div class="col-lg-8 col-md-8 col-sm-8">
                                            <label>Policy Name   </label>
                                            <br />
                                            {{lblpolicy_name}}
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <label>Policy Number   </label>
                                            <br />
                                            {{lblpolicy_number}}
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-sm-12 col-sm-12 col-sm-12">
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <label>Policy Amount   </label>
                                            <br />
                                            {{lblpolicy_amount}}
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <label>Policy Period From   </label>
                                            <br />
                                            {{lblpolicyperiod_from}}
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <label>Policy Period To   </label>
                                            <br />
                                            {{lblpolicyperiod_to}}
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="row">
                                    <div class="col-sm-12 col-sm-12 col-sm-12">
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <label>Premium Amount   </label>
                                            <br />
                                            {{lblpremium_amount}}
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <label>Premium Payment Status   </label>
                                            <br />
                                            {{lblpremiumpayment_status}}
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4" ng-show="lblpremiumpayment_status == 'Yes'">
                                            <label>Paid Date   </label>
                                            <br />
                                            {{lblpaid_date}}
                                        </div>
                                        
                                    </div>
                                </div>
                                <br />
                            </div>
                        </div>
                    </div>
                   
                    

                    <div class="text-center">
                        <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                    </div>
                </form>
            </div>
        </div>
    </script>

</div>