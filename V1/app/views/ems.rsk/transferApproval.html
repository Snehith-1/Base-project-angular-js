<h3>
    Allocation Transfer - Approval
</h3>
<div ng-controller="transferApprovalcontroller">
    <div class="row">
        <div class="col-lg-3 col-sm-6">
            <!-- START widget-->
            <div class="panel widget bg-indigo-300" ng-click="Overalllist()" title="Click to View Overall My Approval List">
                <div class="row row-table">
                    <div class="col-xs-4 text-center bg-indigo-500 pv-lg">
                        <div class="h3 mt0">{{count_myapproval}}</div>
                    </div>
                    <div class="col-xs-8 pv-lg">

                        <div>My Approval</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-sm-6">
            <!-- START widget-->
            <div class="panel widget bg-blue-500" ng-click="pendinglist()" title="Click to Sort Pending Approval List">
                <div class="row row-table">
                    <div class="col-xs-4 text-center bg-blue-700 pv-lg">
                        <div class="h3 mt0">{{count_mypendingApproval}}</div>
                    </div>
                    <div class="col-xs-8 pv-lg">

                        <div>Pending Approval</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-sm-6">
            <!-- START widget-->
            <div class="panel widget  bg-success" ng-click="Completedlist()" title="Click to Sort Approved List">
                <div class="row row-table">
                    <div class="col-xs-4 text-center bg-success-dark pv-lg">
                        <div class="h3 mt0">
                            {{count_myApproved}}
                        </div>
                    </div>
                    <div class="col-xs-8 pv-lg">

                        <div>Approved</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-sm-6">
            <!-- START widget-->
            <div class="panel widget bg-red-500" ng-click="Completedlist()" title="Click to Sort Rejected List">
                <div class="row row-table">
                    <div class="col-xs-4 text-center bg-red-700 pv-lg">
                        <div class="h3 mt0">
                            {{count_myrejected}}
                        </div>
                    </div>
                    <div class="col-xs-8 pv-lg">

                        <div>Rejected</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div collapse="panelDemo3" class="panel-wrapper collapse" style="height: 0px;">
            <div class="panel-body">
                <div class="panel">
                    <tabset justified="true">
                        <tab>
                            <tab-heading>
                                <em class="fa fa-check-circle fa-1x"></em> Within Zonal Approval &nbsp;
                                <label class="label label-primary" ng-if="count_mywithinzonalApproval != '0'">{{count_mywithinzonalApproval}}</label>
                            </tab-heading>
                            <div>
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            Showing 1 to {{totalDisplayedWithinZonal}} of {{totalWithinZonal}} Entries
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4">

                                            Show <input ng-model="pageWithincount" id="pagecount" type="number" />
                                            <button class="btn btn-info" id="loadmore" ng-disabled="!pageWithincount" ng-click="loadMoreWithin(pageWithincount)">
                                                <em class="fa fa-spinner"></em> Load More
                                            </button>

                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <div class="input-group">
                                                <input type="text" ng-model="searchwithinzonaltxt" placeholder="Search Here .." class="form-control input-sm" />
                                                <span class="input-group-btn">
                                                    <button type="submit" class="btn btn-default btn-sm">
                                                        <i class="fa fa-search"></i>
                                                    </button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="table-responsive">
                                    <table class="table hover table-striped row-border">
                                        <thead>
                                            <tr class="bg-primary-light text-white">
                                                <th>S.No</th>
                                                <th>Initiated Date</th>
                                                <th>Initiated By</th>
                                                <th class="text-nowrap">URN No.</th>
                                                <th>Customer</th>
                                                <th class="text-nowrap">State / District / Zonal Risk Manager</th>
                                                <th>Assigned RM</th>
                                                <th>Transfer RM</th>
                                                <th>Approval Status</th>
                                                <th class="text-nowrap">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="data in zonalapproval|filter :searchwithinzonaltxt|limitTo:totalDisplayedWithinZonal">
                                                <td data-title="'S.No'">{{$index+1}}</td>
                                                <td data-title="'Initiated Date'">{{data.created_date}}</td>
                                                <td data-title="'Initiated By'">{{data.created_by}}</td>
                                                <td data-title="'URN No.'">{{data.customer_urn}}</td>
                                                <td data-title="'Customer'">{{data.customername}}</td>
                                                <td data-title="'State / District / Zonal Risk Manager'">{{data.location}}/{{data.ZonalRMname}}</td>
                                                <td data-title="'Assigned RM'" class="text-nowrap">{{data.transfer_from}}</td>
                                                <td data-title="'Transfer RM'" class="text-nowrap">{{data.transferto_name}}</td>
                                                <td ng-switch="data.approval_status">
                                                    <label class="label label-info" ng-switch-when=Pending>Pending..</label>
                                                    <label class="label label-success" ng-switch-when=Approved>Approved..</label>
                                                    <label ng-switch-default>-</label>
                                                </td>
                                                <td class="text-nowrap">
                                                    <button title="Allocation Details" class="btn btn-info btn-sm"
                                                            ng-click="TransferFromAllocationView(data.allocationdtl_gid,data.customer_gid,data.transferapproval_gid,data.allocation_transfergid)">
                                                        <em class="fa fa-retweet"></em>
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <br />
                            </div>
                        </tab>
                        <tab>
                            <tab-heading>
                                <em class="fa fa-check-circle fa-1x"></em> Cross Zonal Approval &nbsp;
                                <label class="label label-primary" ng-if="count_mycrosszonalApproval!= '0'">{{count_mycrosszonalApproval}}</label>
                            </tab-heading>
                            <div>
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            Showing 1 to {{totalDisplayedCrossZonal}} of {{totalCrossZonal}} Entries
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4">

                                            Show <input ng-model="pageCrosscount" id="pagecount" type="number" />
                                            <button class="btn btn-info" id="loadmore"  ng-disabled="!pageCrosscount" ng-click="loadMore(pageCrosscount)">
                                                <em class="fa fa-spinner"></em> Load More
                                            </button>

                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <div class="input-group">
                                                <input type="text" ng-model="searchcrosszonaltxt" placeholder="Search Here .." class="form-control input-sm" />
                                                <span class="input-group-btn">
                                                    <button type="submit" class="btn btn-default btn-sm">
                                                        <i class="fa fa-search"></i>
                                                    </button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="table-responsive">
                                    <table class="table hover table-striped row-border">
                                        <thead>
                                            <tr class="bg-primary-light text-white">
                                                <th>S.No</th>
                                                <th>Initiated Date</th>
                                                <th>Initiated By</th>
                                                <th class="text-nowrap">URN No.</th>
                                                <th>Customer</th>
                                                <th class="text-nowrap">State / District / Zonal Risk Manager</th>
                                                <th>Assigned RM</th>
                                                <th>Transfer RM</th>
                                                <th>Approval Status</th>
                                                <th class="text-nowrap">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="data in allocationtransferList|filter :searchcrosszonaltxt|limitTo:totalDisplayedCrossZonal">
                                                <td data-title="'S.No'">{{$index+1}}</td>
                                                <td data-title="'Initiated Date'">{{data.created_date}}</td>
                                                <td data-title="'Initiated By'">{{data.created_by}}</td>
                                                <td data-title="'URN No.'">{{data.customer_urn}}</td>
                                                <td data-title="'Customer'">{{data.customername}}</td>
                                                <td data-title="'State / District / Zonal Risk Manager'">{{data.location}}/{{data.ZonalRMname}}</td>
                                                <td data-title="'Assigned RM'" class="text-nowrap">{{data.transfer_from}}</td>
                                                <td data-title="'Transfer RM'" class="text-nowrap">{{data.transferto_name}}</td>
                                                <td ng-switch="data.approval_status">
                                                    <label class="label label-info" ng-switch-when=Pending>Pending..</label>
                                                    <label class="label label-success" ng-switch-when=Approved>Approved..</label>
                                                    <label ng-switch-default>-</label>
                                                </td>
                                                <td class="text-nowrap">
                                                    <button title="Allocation Details" class="btn btn-info btn-sm"
                                                            ng-click="TransferToAllocationView(data.allocationdtl_gid,data.customer_gid,data.transferapproval_gid,data.zonalapprovalto_Flag,data.allocation_transfergid)">
                                                        <em class="fa fa-retweet"></em>
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <br />
                                </div>
                            </div>
                        </tab>

                        <tab ng-click="approvalhistoryclick()">
                            <tab-heading>
                                <em class="fa fa-history  fa-1x"></em> Approval History &nbsp;
                            </tab-heading>
                            <div>
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            Showing 1 to {{totalDisplayedHistory}} of {{totalHistory}} Entries
                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4">

                                            Show <input ng-model="pagecount" id="pagecount" type="number" />
                                            <button class="btn btn-info" id="loadmore" ng-disabled="!pagecount" ng-click="loadMore(pagecount)">
                                                <em class="fa fa-spinner"></em> Load More
                                            </button>

                                        </div>
                                        <div class="col-lg-4 col-md-4 col-sm-4">
                                            <div class="input-group">
                                                <input type="text" ng-model="searchhistorytxt" placeholder="Search Here .." class="form-control input-sm" />
                                                <span class="input-group-btn">
                                                    <button type="submit" class="btn btn-default btn-sm">
                                                        <i class="fa fa-search"></i>
                                                    </button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <br />
                                <div class="table-responsive">
                                    <table class="table hover table-striped row-border">
                                        <thead>
                                            <tr class="bg-primary-light text-white">
                                                <th>S.No</th>
                                                <th>Initiated Date</th>
                                                <th>Initiated By</th>
                                                <th class="text-nowrap">URN No.</th>
                                                <th>Customer</th>
                                                <th class="text-nowrap">State / District / Zonal Risk Manager</th>
                                                <th>Transfer</th>
                                                <th>Assigned RM</th>
                                                <th>Transfer RM</th>
                                                <th>Approval Status</th>
                                                <th class="text-nowrap">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="data in allocationHistoryList|filter:searchhistorytxt|limitTo:totalDisplayedHistory">
                                                <td data-title="'S.No'">{{$index+1}}</td>
                                                <td data-title="'Initiated Date'">{{data.created_date}}</td>
                                                <td data-title="'Initiated By'">{{data.created_by}}</td>
                                                <td data-title="'URN No.'">{{data.customer_urn}}</td>
                                                <td data-title="'Customer'">{{data.customername}}</td>
                                                <td data-title="'State / District / Zonal Risk Manager'">{{data.location}}/{{data.ZonalRMname}}</td>
                                                <td data-title="Transfer">{{data.transfer_zonal}}</td>
                                                <td data-title="'Assigned RM'" class="text-nowrap">{{data.transfer_from}}</td>
                                                <td data-title="'Transfer RM'" class="text-nowrap">{{data.transferto_name}}</td>
                                                <td ng-switch="data.approval_status">
                                                    <label class="label label-info" ng-switch-when=Pending>Pending..</label>
                                                    <label class="label label-success" ng-switch-when=Approved>Approved..</label>
                                                    <label class="label label-danger" ng-switch-when=Rejected>Rejected..</label>
                                                    <label ng-switch-default>-</label>
                                                </td>
                                                <td class="text-nowrap">
                                                    <button title="Allocation Details" class="btn btn-info btn-sm"
                                                            ng-click="TransferApprovalHistory(data.allocationdtl_gid,data.customer_gid,data.allocation_transfergid)">
                                                        <em class="fa fa-retweet"></em>
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <br />
                                </div>
                            </div>
                        </tab>
                    </tabset>
                </div>
            </div>
        </div>
    </div>


</div>