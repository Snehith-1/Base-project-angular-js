<style>
    .space {
        margin: 10px 0px;
    }
</style>
<h3>
    Initiated Waiver Details
</h3>
<div ng-controller="MstRMWaiverApprovalViewController">
    <div class="panel">
        <div class="panel-heading bg-primary">
            <h5><i class="fa fa-eye"></i> &nbsp; View Initiated Waiver - {{lblcustomer_info}} </h5>
        </div>
        <div class="modal-body ng-scope">
            <div class="row">
                <div class="col-lg-12 col-sm-12 col-md-12">
                    <div class="col-md-4 col-lg-4 col-sm-4">
                        <label> Waiver Category</label><br>
                        {{lblwaivercategory}}
                    </div>
                    <div class="col-md-4 col-lg-4 col-sm-4" ng-show="lblwaivercategory == 'Sanction Waiver'">
                        <label>Santion Reference Number</label><br>
                        {{lblsanctionref_no}}
                    </div>
                    <div class="col-md-4 col-lg-4 col-sm-4" ng-show="lblwaivercategory == 'LAN Waiver'">
                        <label>LAN</label><br>
                        {{lbllan}}
                    </div>
                    <div class="col-md-4 col-lg-4 col-sm-4">
                        <label>URN</label><br>
                        {{lblurn}}
                    </div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-lg-12 col-sm-12 col-md-12">
                    <div class="col-md-4 col-lg-4 col-sm-4">
                        <label>Sanction Waiver Category</label><br>
                        {{sanctionwaiver_namelist}}
                    </div>
                    <div class="col-md-4 col-lg-4 col-sm-4">
                        <label>LAN Waiver Category </label><br>
                        {{lanwaiver_namelist}}
                    </div>
                    <div class="col-md-4 col-lg-4 col-sm-4">
                        <label>Customer Info</label><br>
                        {{lblcustomer_info}}
                    </div> 
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-lg-12 col-sm-12 col-md-12">
                    <div class="col-md-4 col-lg-4 col-sm-4">
                        <label>Waiver Title</label><br>
                        {{lblwaiver_title}}
                    </div>
                    <div class="col-md-4 col-lg-4 col-sm-4">
                        <label for="">Waiver Amount </label><br>
                        {{lblwaiver_amount}}
                    </div>
                    <div class="col-md-4 col-lg-4 col-sm-4">
                        <label>Waiver Group</label><br>
                        {{waivergroup_namelist}}
                    </div>
              <!--      <div class="col-md-3 col-lg-3 col-sm-3">
                        <label>Get Approval</label><br>
                        {{lblget_approval}}
                    </div>
                    <div class="col-md-3 col-lg-3 col-sm-3">
                        <label>Approval Person</label><br>
                        {{lblapproval_person}}
                    </div> -->
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-lg-12 col-sm-12 col-md-12">
                    <div class="col-lg-12 col-sm-12 col-md-12">
                        <label>Waiver Description</label><br>
                        {{lblwaiver_description}}
                    </div>
                </div>
            </div>
            <br>
            <div class="dd-handle ng-scope">
                <p class="text-primary" style="font-size:14px;"><b> Document Details </b></p>
                <hr class="space" />
                <div class="row">
                    <div class="col-lg-12 col-sm-12 col-md-12">
                        <div class="table-responsive table-bordered">
                            <div style="max-height:200px;overflow:auto;">
                                <table class="table">
                                    <thead class="bg-gray text-white">
                                        <tr width="100%">
                                            <th scope="col">S.No</th>
                                            <th scope="col"> Document Title </th>
                                            <th scope="col"> Document Name </th>
                                            <th> Action </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="data in uploadwaiverdoc_list" width="100%">
                                            <td title="S.No">{{$index+1}}</td>
                                            <td title="Document Title">{{data.document_title}}</td>
                                            <td title="Document Name">{{data.document_name}}</td>
                                            <td title="Action">
                                                <button title="Download" class="btn btn-green btn-sm"
                                                        ng-click="doc_downloads(data.document_path,data.document_name)">
                                                    <em class="fa fa-download"></em><a download="" href="" id="btnpdf" style="display:none;"></a>
                                                </button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br />
            <div class="dd-handle ng-scope">
                <div class="row">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <p class="text-primary" style="font-size:14px;"><b> Approval Details</b></p>
                        <hr class="space" />
                        <div class="row">
                            <div class="col-lg-12 col-sm-12 col-md-12">
                                <div class="table-responsive">
                                    <table class="table table-striped table-secondary">
                                        <thead class="bg-gray text-white">
                                            <tr width="100%">
                                                <th align="center" scope="col">S.No</th>
                                                <th align="center" scope="col">Approval Person</th>
                                                <th align="center" scope="col">Approval Type</th>
                                                <th align="center" scope="col">Approval Status</th>
                                                <th align="center" scope="col">Approved / Rejected Date</th>
                                                <th align="center" scope="col">Approval Initiated By</th>
                                                <th align="center" scope="col">Approval Remarks</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="data in waiverapprovaldetail_list" width="100%">
                                                <td align="left" scope="col" title="S.No">
                                                    {{$index+1}}
                                                </td>
                                                <td align="left" scope="col" title="Approval Person">
                                                    {{data.approvalmember_name}}
                                                </td>
                                                <td align="left" scope="col" title="Approval Person">
                                                    {{data.approval_type}}
                                                </td>
                                                <td align="left" scope="col" title="Approval Status">
                                                    {{data.approval_status}}
                                                </td>
                                                <td align="left" scope="col" title="Approved / Rejected Date">
                                                    {{data.apprej_date}}
                                                </td>
                                                <td align="left" scope="col" title="Approval Initiated By">
                                                    {{data.initiated_by}}
                                                </td>
                                                <td title="Approval Remarks" align="left" scope="col">
                                                    <button title="View" ng-click="approval_remarks(data.approval_remarks)" class="btn btn-info">
                                                        <em class="fa fa-eye"></em>
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br />
            <div id="panelDemo6" class="panel panel-default">
                <div ng-class="{'panel-heading-collapsed':panelDemo3}" class="panel-heading panel-heading-collapsed" >
                    <em class="fa fa-history"></em>&emsp;<b>History</b>
                    <paneltool tool-collapse="tool-collapse" ng-init="panelDemo6=true" class="pull-right">
                        <a href="#" tooltip="Expand / Collapse" ng-click="panelDemo6 = !panelDemo6" class="ng-scope" tabindex="0">
                            <em ng-show="panelDemo6" class="glyphicon glyphicon-chevron-down" aria-hidden="false" ></em>
                            <em ng-show="!panelDemo6" class="glyphicon glyphicon-chevron-up ng-hide" aria-hidden="true" ></em>
                        </a>
                    </paneltool>
                </div>
                <div collapse="panelDemo6" class="panel-wrapper collapse" style="height: 0px;">
                    <div class="panel-body">
                        <div class="dd-handle ng-scope">
                            <div class="row">
                                <div class="col-lg-12 col-sm-12 col-md-12">
                                    <p class="text-primary" style="font-size:14px;"><b>&nbsp;&nbsp;  Waiver Details </b></p>
                                    <hr />
                                    <div class="table-responsive">
                                        <table class="table table-striped table-bordered table-success">
                                            <thead style="background-color:#dde6e9;">
                                                <tr>
                                                    <th style="width:5%;text-align:center;">S.No</th>
                                                    <th> Waiver Category </th>
                                                    <th> Santion Ref No </th>
                                                    <th> LAN </th>
                                                    <th> URN </th>
                                                    <th> Customer Info </th>
                                                    <th> Waiver Details </th>
                                                    <th> Approval Status </th>
                                                    <th> Waiver Description / Documents / Approval Persons </th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="data in waiverapprovalhistory_list" width="100%">
                                                    <td title="S.No" style="text-align:center;">{{$index+1}}</td>
                                                    <td title="Waiver Category">{{data.waiver_category}} </td>
                                                    <td title="Santion Ref No">{{data.sanction_refno}} </td>
                                                    <td title="LAN">{{data.lan}}</td>
                                                    <td title="URN">{{data.urn}} </td>
                                                    <td title="Customer Info">{{data.customer_info}} </td>
                                                    <td title="Waiver Details">
                                                        <b>Waiver Title : </b> {{data.waiver_title}} <br />
                                                        <b>Waiver Amount : </b>{{data.waiver_amount}} <br />
                                                        <b>Waiver Group : </b> {{data.waivergroup_name}}
                                                    </td>
                                                    <td title="Approval Status ">{{data.approval_status}} </td>
                                                    <td title="Waiver Description / Documents / Approval Persons" class="text-center">
                                                        <button title="View" ng-click="descdoc_view(data.rmpostccwaiver_gid)" class="btn btn-info">
                                                            <em class="fa fa-eye"></em>
                                                        </button>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> 

            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <label><b>Remarks : <span class="text-danger">*</span></b></label>
                    <textarea ng-model="txtapproval_remarks" class="form-control" style="resize:vertical;" rows="4" />
                </div>
            </div>
            <br /><br />
            <div class="row text-center">
                <button class="btn btn-sm btn-success" ng-click="approve_submit()" ng-disabled="!txtapproval_remarks"
                        style="font-size:14px;" type="submit">
                    <i class="fa fa-check"></i>&nbsp; Approve
                </button>
                <button class="btn btn-sm btn-danger"  ng-click="reject_submit()" ng-disabled="!txtapproval_remarks"
                        style="font-size:14px;" type="submit">
                    <i class="fa icon-close"></i>&nbsp; Reject
                </button>
                <button class="btn btn-sm btn-info" ng-click="Back()"
                        style="font-size:14px;" type="submit">
                    <i class="fa fa-arrow-circle-left"></i>&nbsp; Back
                </button>
            </div>
            <br />
        </div>

    </div>
    <script type="text/ng-template" id="/ApprovalRemarks.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <em style="font-size:16px" class="fa fa-file-text-o"></em>&nbsp;<label style="font-size:16px">Approval Remarks</label>
                <span flex></span>
                <button ng-click="ok()" class="pull-right btn btn-primary"><i class="fa fa-close"></i></button>
            </div>

        </md-toolbar>
        <div class="modal-content">
            <div class="modal-body ng-scope">

                <form novalidate="" name="userform1" ng-submit="form.submitLoan()" autocomplete="off" class="form-validate mb-lg">
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div class="dd-handle ng-scope">
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <label> Approval Remarks</label>
                                        <br />
                                        <p>{{approval_remarks}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="text-center">
                        <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                    </div>
                </form>
            </div>
        </div>
    </script>
    <script type="text/ng-template" id="/waiverdescdoc_view.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <em style="font-size:16px" class="fa fa-file-text-o"></em>&nbsp;<label style="font-size:16px"> Waiver Description / Documents / Approval Persons </label>
                <span flex></span>
                <button ng-click="ok()" class="pull-right btn btn-primary"><i class="fa fa-close"></i></button>
            </div>

        </md-toolbar>
        <div class="modal-content">
            <div class="modal-body ng-scope">
                <form novalidate="" name="userform1" ng-submit="form.submitLoan()" autocomplete="off" class="form-validate mb-lg">
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <label> Waiver Description : </label>
                                        <br />
                                        <p>{{lblwaiver_description}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="dd-handle ng-scope">
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                            <p class="text-primary" style="font-size:14px;"><b> Document Details </b></p>
                                            <hr class="space" />
                                            <div class="row">
                                                <div class="col-lg-12 col-sm-12 col-md-12">
                                                    <div class="table-responsive table-bordered">
                                                        <div style="max-height:200px;overflow:auto;">
                                                            <table class="table table-striped table-bordered table-success">
                                                                <thead class="bg-gray text-white">
                                                                    <tr width="100%">
                                                                        <th scope="col"> S.No </th>
                                                                        <th scope="col"> Document Title </th>
                                                                        <th scope="col"> Document Name </th>
                                                                        <th> Action </th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-repeat="data in uploadwaiverdoc_list" width="100%">
                                                                        <td title="S.No">{{$index+1}}</td>
                                                                        <td title="Document Title">{{data.document_title}}</td>
                                                                        <td title="Document Name">{{data.document_name}}</td>
                                                                        <td title="Action">
                                                                            <button title="Download" class="btn btn-green btn-sm"
                                                                                    ng-click="recproof_downloads(data.document_path,data.document_name)">
                                                                                <em class="fa fa-download"></em>
                                                                            </button>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                    </div>
                                </div>
                            </div>
                            <br>
                            <div class="dd-handle ng-scope">
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                            <p class="text-primary" style="font-size:14px;"><b> Approval Members List </b></p>
                                            <hr class="space" />
                                            <div class="row">
                                                <div class="col-lg-12 col-sm-12 col-md-12">
                                                    <div class="table-responsive table-bordered">
                                                        <div style="max-height:200px;overflow:auto;">
                                                            <table class="table table-striped table-bordered table-success">
                                                                <thead class="bg-gray text-white">
                                                                    <tr width="100%">
                                                                        <th scope="col"> S.No </th>
                                                                        <th scope="col"> Member Name </th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr ng-repeat="data in waiverapprovalmember_list" width="100%">
                                                                        <td title="S.No" align="left">{{$index+1}}</td>
                                                                        <td title="Member Name" align="left">{{data.approvalmember_name}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                    </div>
                                </div>
                            </div>
                            <br>
                        </div>
                    </div>
                    <br />
                    
                    <div class="text-center">
                        <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                    </div>
                </form>
            </div>
        </div>
    </script>
</div>