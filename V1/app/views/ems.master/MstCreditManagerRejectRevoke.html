<h3>
    Credit Manager Revoke
</h3>

<div ng-controller="MstCreditManagerRejectRevokeController">
    <div class="panel">
        <div class="panel-heading" style="background-color:rgb(19,14,89);color:#ffffff">
            <h5>Credit Manager Revoke </h5>
        </div>
        <br />
        <form novalidate="" name="Rejectrevokeform" ng-submit="form.Rejectrevokeform()" autocomplete="off" class="form-validate mb-lg">
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="dd-handle ng-scope">
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <p class="text-primary" style="font-size:14px;"><b> Application Details - {{lblapplicant_name}}</b></p>
                                    <hr />
                                    <div class="col-lg-3 col-sm-3 col-md-3">
                                        <label style="font-weight:bold">Application Reference Number</label>
                                        <br />
                                        <p>{{lblapplref_no}}</p>
                                    </div>
                                    <div class="col-lg-3 col-sm-3 col-md-3">
                                        <label style="font-weight:bold"> Application Region </label>
                                        <br />
                                        <p>{{lblappl_state}}</p>
                                    </div>
                                    <div class="col-lg-3 col-sm-3 col-md-3">
                                        <label style="font-weight:bold">Overall Limit Requested</label>
                                        <br />
                                        <p>{{lbloveralllimit_request}}</p>
                                    </div>
                                    <div class="col-lg-3 col-sm-3 col-md-3">
                                        <label style="font-weight:bold"> Current Application Stage </label>
                                        <br />
                                        <p>{{lblcurrentappl_stage}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <div class="dd-handle ng-scope">
                                        <p class="text-primary" style="font-size:14px;"><b> Product Details </b></p>
                                        <hr />
                                        <div class="table-responsive">
                                            <table class="table table-hover table-striped">
                                                <thead>
                                                    <tr class="text-white" style="background-color:#dbdddf;color:black;">
                                                        <th class="text-center" style="width:5%;"> S.No </th>
                                                        <th> Product Name </th>
                                                        <th> Facility Limit </th>
                                                        <th> Tenure Limit </th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="data in productlist">
                                                        <td data-title="'S.No'" class="text-center" style="width:5%;"> {{$index+1}}</td>
                                                        <td data-title="'Product Name'"> {{data.product_name}} </td>
                                                        <td data-title="'Facility Limit'"> {{data.facility_limit}} </td>
                                                        <td data-title="'Tenure Limit'"> {{data.tenure_limit}} </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="dd-handle ng-scope">
                            <p class="text-primary" style="font-size:14px;"><b> Approval Hierarchy Details </b></p>
                            <hr />
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                        <label style="font-weight:bold;color:#141478;font-size: 13px;">Credit Group</label><br />
                                        {{txtcredit_group}}
                                    </div>
                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                        <label style="font-weight:bold;color:#db2525;font-size: 13px;">L0 - CM</label> <span style="width:90px;text-align: right;font-weight: bold;" class="pull-right"> ---- > </span><br />
                                        {{txtcredit_manager}}
                                    </div>
                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                        <label style="font-weight:bold;color:#871490;font-size: 13px;">L1 - RCM </label> <span style="width:90px;text-align: right;font-weight: bold;" class="pull-right">&nbsp;&nbsp;&nbsp;&nbsp; ---- > </span><br />
                                        {{txtregional_manager}}
                                    </div>
                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                        <label style="font-weight:bold;color:#12574f;font-size: 13px;">L2 - NCM </label> <span style="width:90px;text-align: right;font-weight: bold;" class="pull-right">&nbsp;&nbsp;&nbsp;&nbsp; ---- ></span><br />
                                        {{txtnational_manager}}
                                    </div>
                                    <div class="col-lg-2 col-sm-2 col-md-2">
                                        <label style="font-weight:bold;color:#f17a0b;font-size: 13px;">L3 - CH </label> <br />
                                        {{txtcredit_head}}
                                    </div>
                                    <div class="col-lg-2 col-sm-2 col-md-2">

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="row">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                <div class="dd-handle ng-scope">
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12">
                                            <div class="dd-handle ng-scope">
                                                <p class="text-primary" style="font-size:14px;"><b> Query Assigned to Credit Summary </b></p>
                                                <hr />
                                                <div class="table-responsive">
                                                    <table class="table table-hover table-striped">
                                                        <thead>
                                                            <tr class="text-white" style="background-color:#09385f;">
                                                                <th class="text-center" style="width:5%;"> S.No </th>
                                                                <th> Query To </th>
                                                                <th> Query Title </th>
                                                                <th> Query Description </th>
                                                                <th> Query created by </th>
                                                                <th> Query created on </th>
                                                                <th> Query Closed Remarks</th>
                                                                <th> Query Status </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr ng-repeat="data in creditquery_list">
                                                                <td data-title="'S.No'" class="text-center" style="width:5%;"> {{$index+1}}</td>
                                                                <td data-title="' Query To'"> {{data.query_to}} </td>
                                                                <td data-title="'Query Title'"> {{data.querytitle}} </td>
                                                                <td data-title="'Query Description'">
                                                                    <button title="View Query Description'" ng-click="view_querydesc(data.appcreditquery_gid)" class="btn btn-info">
                                                                        <em class="fa fa-eye"></em>
                                                                    </button>
                                                                </td>
                                                                <td data-title="'Created by'"> {{data.created_by}} </td>
                                                                <td data-title="'Created on'"> {{data.created_date}} </td>
                                                                <td data-title="'Close Remarks'"> {{data.close_remarks}} </td>
                                                                <td data-title="'Query Status'"> {{data.querystatus}} </td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-12 col-md-12 col-sm-12">
                                            <div class="dd-handle ng-scope">
                                                <p class="text-primary" style="font-size:14px;"><b> Query Assigned to RM Summary </b></p>
                                                <hr />
                                                <div class="table-responsive">
                                                    <table class="table table-hover table-striped">
                                                        <thead>
                                                            <tr class="text-white" style="background-color:#09385f;">
                                                                <th class="text-center" style="width:5%;"> S.No </th>
                                                                <th> Query Title </th>
                                                                <th> Query Description </th>
                                                                <th> Levels </th>
                                                                <th> Query Created by </th>
                                                                <th> Query Created on </th>
                                                                <th> Query Closed Remarks</th>
                                                                <th> Action </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <tr ng-repeat="data in rmquery_list">
                                                                <td data-title="'S.No'" class="text-center" style="width:5%;"> {{$index+1}}</td>
                                                                <td data-title="'Query Title'"> {{data.querytitle}} </td>
                                                                <td data-title="'Query Description'">
                                                                    <button title="View Query Description'" ng-click="view_querydesc(data.appcreditquery_gid)" class="btn btn-info">
                                                                        <em class="fa fa-eye"></em>
                                                                    </button>
                                                                </td>
                                                                <td data-title="'Levels'"> L {{data.hierary_level}} </td>
                                                                <td data-title="'Created by'"> {{data.created_by}} </td>
                                                                <td data-title="'Created on'"> {{data.created_date}} </td>
                                                                <td data-title="'Close Remarks'"> {{data.close_remarks}} </td>
                                                                <td>
                                                                    <button title="Close'" ng-show="data.querystatus=='Open'" ng-click="query_close(data.appcreditquery_gid)" class="btn btn-danger">
                                                                        Close
                                                                    </button>
                                                                    <label ng-show="data.querystatus!=='Open'">
                                                                        <label class="label label-default" style="color:black;">Closed</label>
                                                                    </label>
                                                                </td>
                                                            </tr>

                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row" ng-show="rejectstatus_flag=='N'">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="dd-handle ng-scope">
                            <p class="text-primary" style="font-size:14px;"><b>Credit Manager Rejected Summary </b></p>
                            <hr />
                            <div class="table-responsive">
                                <table class="table table-hover table-striped">
                                    <thead>
                                        <tr class="text-white" style="background-color:#09385f;">
                                            <th class="text-center" style="width:5%;"> S.No </th>
                                            <th class="text-center"> Levels </th>
                                            <th> User Name </th>
                                            <th class="text-center"> Rejected Status </th>
                                            <th> Rejected Remarks </th>
                                            <th> Rejected Date </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="data in creditrejected_list">
                                            <td data-title="'S.No'" class="text-center" style="width:5%;"> {{$index+1}}</td>
                                            <td class="text-center" data-title="'Levels'">L0 </td>
                                            <td data-title="'User Name'"> {{data.rejected_by}} </td>
                                            <td class="text-center" data-title="'Rejected Status'" ng-switch="data.rejected_status">
                                                <label class="label label-danger" ng-switch-when='Rejected by Credit Manager' style="font-size:10px;">Rejected by Credit Manager</label>
                                            </td>
                                            <td data-title="'Rejected Remarks'"> {{data.rejected_remarks}} </td>
                                            <td data-title="'Rejected Date'">
                                                {{data.rejected_date}}
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="dd-handle ng-scope">
                            <p class="text-primary" style="font-size:14px;"><b> Approval Summary </b></p>
                            <hr />
                            <div class="table-responsive">
                                <table class="table table-hover table-striped">
                                    <thead>
                                        <tr class="text-white" style="background-color:#09385f;">
                                            <th class="text-center" style="width:5%;"> S.No </th>
                                            <th class="text-center"> Levels </th>
                                            <th> Approval Name </th>
                                            <th class="text-center"> Approval Status </th>
                                            <th> Approval Remarks </th>
                                            <th> Approval Date </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="data in creditapproval_list">
                                            <td data-title="'S.No'" class="text-center" style="width:5%;"> {{$index+1}}</td>
                                            <td class="text-center" data-title="'Levels'">L{{data.hierary_level}} </td>
                                            <td data-title="'User Name'"> {{data.approval_name}} </td>
                                            <td class="text-center" data-title="'Approval Status'" ng-switch="data.approval_status">

                                                <label class="label label-success" ng-switch-when='Approved' style="font-size:10px;">Approved</label>
                                                <label class="label label-warning" ng-switch-when='Pending' style="font-size:10px;">Pending</label>
                                                <label class="label label-danger" ng-switch-when='Rejected' style="font-size:10px;">Rejected</label>
                                                <label class="label label-primary" ng-switch-when='Hold' style="font-size:10px;">Hold</label>
                                                <label ng-switch-when='-'>-</label>
                                            </td>
                                            <td data-title="'Approval Remarks'"> {{data.approval_remarks}} </td>
                                            <td data-title="'Approval Date'" ng-switch="data.approval_status">
                                                <p ng-switch-when='Approved'>{{data.approved_date}} </p>
                                                <p ng-switch-when='Pending'>-</p>
                                                <p ng-switch-when='Rejected'>{{data.rejected_date}} </p>
                                                <p ng-switch-when='Hold'>{{data.hold_date}} </p>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="dd-handle ng-scope">
                            <p class="text-primary" style="font-size:14px;"><b> Revoke Remarks </b></p>
                            <hr />
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <label class="col-form-label"> Remarks : <span style="color:red"> *</span> </label>
                                        <br />
                                        <textarea ng-model="txtrevoke_remarks" rows="4" class="form-control" style="resize:vertical;" required
                                                  id="input_13" ng-trim="false" aria-multiline="true" tabindex="0" aria-invalid="true"></textarea>
                                        <br />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="text-center">
                    <br /><br />
                    <button type="button" class="btn btn-success" ng-disabled="Rejectrevokeform.$invalid"
                            ng-click="revoke_submit()">
                        <i class="fa fa-arrow-circle-right"></i>&nbsp;&nbsp;Submit
                    </button>
                    <button ng-click="Back()" class="btn btn-info"><i class="fa fa-arrow-circle-left"></i>&nbsp;&nbsp;Back</button>
                </div>
                <br />
            </div>
        </form>
    </div>
    <br />
    <script type="text/ng-template" id="/queryDescriptionView.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <em class="fa fa-eye"></em>&nbsp;<label style="font-size:16px">Query Description View</label>
                <span flex></span>
                <button ng-click="ok()" class="pull-right btn btn-primary"><i class="fa fa-close"></i></button>
            </div>

        </md-toolbar>
        <div class="modal-content">
            <div class="modal-body ng-scope">
                <form novalidate="" name="userform1" ng-submit="form.submitLoan()" autocomplete="off" class="form-validate mb-lg">
                    <div class="row">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div class="dd-handle ng-scope">
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12">
                                        <label> Query Description : </label>
                                        <br />
                                        <p>{{lblquery_desc}}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <br />
                    <div class="text-center">
                        <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                    </div>
                </form>
            </div>
        </div>
    </script>
</div>
