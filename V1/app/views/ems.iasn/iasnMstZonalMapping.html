<h3>
    RM to Zone Mapping
</h3>
<div ng-controller="iasnMstZonalMapping as dp">
    <div>
        <!--Add Team Button-->
        <button title="Zonal Map" class="btn btn-info btn-sm"
                ng-click="addZone()">
            <em class="fa fa-plus"></em>&nbsp;Add Zone
        </button>

    </div>
    <br />
    <!--Summary Grid Starts-->
    <div class="panel">
        <div class="panel-body">

            <div class="row">
                <form name="pageloadform" ng-submit="form.submitForm1()" novalidate="" autocomplete="off" class="form-validate form-horizontal">
                    <div class="col-lg-12 col-md-12 col-sm-12">
                        <div class="col-lg-4 col-md-4 col-sm-4">
                            Showing 1 to {{totalDisplayed}} of {{total}} Entries
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4">

                            Show <input ng-model="$parent.pagecountwi" id="pagecountwi" type="text"
                                        ng-pattern="/^\d+$/" />
                            <button class="btn btn-info" id="loadmoreci" ng-disabled="!$parent.pagecountwi"
                                    ng-click="loadMore($parent.pagecountwi)">
                                <em class="fa fa-spinner"></em> Load More
                            </button>
                        </div>
                        <div class="col-lg-4 col-md-4 col-sm-4">
                            <div class="input-group">
                                <input type="text" ng-model="searchtxt" placeholder="Search Here .." class="form-control input-sm" />
                                <span class="input-group-btn">
                                    <button type="submit" class="btn btn-default btn-sm">
                                        <i class="fa fa-search"></i>
                                    </button>
                                </span>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <br>
            <div class="table-responsive">
                <table ng-table="tableParams2" class="table hover table-striped ">
                    <thead>
                        <tr class="bg-primary-light text-white">
                            <th width="5%">S.No</th>
                            <th width="10%">Zone Code</th>
                            <th width="10%">Zone</th>
                            <th width="10%">RM Name</th>
                            <th width="10%">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="data in ZoneSummary| filter : searchtxt | limitTo:totalDisplayed">
                            <td data-title="S.No" align="center">{{$index+1}}</td>
                            <td data-title="Zone Code<" align="center">{{data.zoneref_no}}</td>
                            <td data-title="Zone" class="text-center">{{data.zone_name}}</td>
                            <td class="text-center" style="text-decoration:underline;text-decoration-color:#49afcd;">
                                <label style="padding-right:25px; font-size: 15px;text-decoration:underline;text-decoration-color:#49afcd;"
                                       ng-click="showPopover(data.zone_gid,data.zone_name)">
                                    <em class="fa fa-question-circle" style="font-size:24px;"></em>
                                </label>
                            </td>
                            <td align="center">
                                <button title="Edit" class="btn btn-green btn-sm"
                                        ng-click="editZone(data.zone_gid,data.zone_name)">
                                    <em class="fa fa-pencil"></em>
                                </button>
                                <button title="Delete" class="btn btn-sm btn-danger" ng-click="deleteZone(data.zone_gid)">
                                    <span class="icon icon-trash"></span>
                                </button>
                            </td>
                        </tr>
                    </tbody>

                </table>

            </div>
        </div>
    </div>
    <script type="text/ng-template" id="/addZone.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <h2><em class="fa fa-plus"></em>&nbsp;Add Zone</h2>
                <span flex></span>

            </div>
        </md-toolbar>

        <div class="modal-body ng-scope">
            <div class="pd-sm-10">

                <div class="row">
                    <form name="zoneAddform" id="zoneAddform" novalidate="" ng-submit="form.submitForm1()" class="form-validate mb-lg" autocomplete="off">
                        <div class="row">
                            <div class="col-md-12 col-lg-12 col-sm-12">
                                <div class="col-md-12 col-lg-12 col-sm-12">
                                    <div>

                                        <label>Zone Code  </label>
                                        <br />
                                        <label style="color:darkblue ;">Auto Generated</label>

                                    </div>

                                </div>

                            </div>
                        </div>
                        <br />
                        <div class="row">
                            <div class="col-md-12 col-lg-12 col-sm-12">
                                <div class="col-md-12 col-lg-12 col-sm-12">
                                    <div>
                                        <label>Zone Name  </label>&nbsp;<span style="color:red">*</span>
                                        <input type="text" ng-model="zoneName" maxlength="512" tabindex="0"
                                               class="form-control" required />
                                    </div>
                                </div>
                            </div>
                        </div>
               <br/>
                <div class="row">
                    <div class="col-md-12 col-lg-12 col-sm-12">
                        <div class="col-md-12 col-lg-12 col-sm-12">
                            <div>
                                <label>RM List  </label>&nbsp;<span style="color:red">*</span>
                                <select name="rmlist_name" id="rmlist" chosen=""
                                        ng-options="m.employee_gid as m.employee_name for m in employee_list"
                                        ng-model="rmlist" class="chosen-select form-control" required></select>
                            </div>
                        </div>
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <div class="col-sm-12 col-md-12 col-lg-12">
                            <div>
                                <label><strong>Mail Trigger</strong><span style="color:red"> *</span></label>
                                <div class="radio c-radio">
                                    <label>
                                        <input type="radio" name="rdb_acks" value="Y" ng-model="rdb_acks" ng-click="rdbacks_yes()" required />
                                        &nbsp;&nbsp;<span class="fa fa-circle"></span>Yes
                                    </label>
                                    <label>
                                        <input type="radio" name="rdb_acks" value="N" ng-model="rdb_acks" ng-click="rdbacks_no()" required />
                                        <span class="fa fa-circle"></span>No
                                    </label>
                                </div>
                            </div>
                        </div>
                   </div>
                </div>
                </form>
                <div class="row">
                    <div class="col-lg-12 col-sm-12 col-md-12">
                        <div class="col-lg-12 col-sm-12 col-md-12">
                            <div>
                                <div class="table-responsive">
                                    <div style="max-height:100px;overflow:auto;">
                                        <table class="table table-striped table-secondary">
                                            <thead class="bg-gray text-white">
                                                <tr width="100%">
                                                    <th align="center" scope="col">S.No</th>
                                                    <th align="center" scope="col">RM Name</th>
                                                    <th align="center" scope="col">Mail Trigger</th>
                                                    <th align="center" scope="col">Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="data in rmstatus_list" width="100%">
                                                    <td align="left" scope="col" title="S.No">{{$index+1}}</td>
                                                    <td align="left" scope="col" title="RM Name">{{data.employee_name}}</td>
                                                    <td align="left" scope="col" title="Mail Trigger">{{data.acknowledgement_status}}</td>
                                                    <td align="left" scope="col" title="Delete RM">
                                                        <a class="btn btn-sm btn-danger" ng-click="deleteRM(data.employee_gid)">
                                                            <span class="fa fa-close"></span>
                                                        </a>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                    <br/>
                    <div>
                        <div class="text-center">
                            <button ng-click="Add()" class="btn btn-success" ng-disabled="zoneAddform.$invalid">
                                <i class="fa fa-plus">
                                </i>&nbsp;&nbsp;Add
                            </button>
                            <button ng-show="rmlist_status" ng-click="Submit()" class="btn btn-success">
                                <i class="fa fa-check">
                                </i>&nbsp;&nbsp;Submit
                            </button>
                            <button ng-click="close()" class="btn btn-danger">
                                <i class="fa icon-close"></i>&nbsp;&nbsp;Close
                            </button>
                        </div>
                    </div>
                    <br />
            </div>

        </div>

</div>
    </script>

<script type="text/ng-template" id="/editZone.html">
    <md-toolbar>
        <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
            <h2><em class="fa fa-plus"></em>&nbsp;Edit Zone</h2>
            <span flex></span>

        </div>
    </md-toolbar>

    <div class="modal-body ng-scope">
        <div class="pd-sm-10">

            <div class="row">
                <form novalidate="" name="zoneformEdit" id="zoneformEdit" ng-submit="form.submitForm1()" autocomplete="off" class="form-validate form-horizontal">
                    <div class="row">
                        <div class="col-md-12 col-lg-12 col-sm-12">
                            <div class="col-md-12 col-lg-12 col-sm-12">
                                <div>

                                    <label>Zone Code  </label>
                                    <br />
                                    {{zoneref_code}}

                                </div>

                            </div>

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 col-lg-12 col-sm-12">
                            <div class="col-md-12 col-lg-12 col-sm-12">
                                <div class="mda-form-group float-label">

                                    <label>Zone Name  </label>&nbsp;<span style="color:red">*</span>
                                    <input type="text" ng-model="zoneNameEdit" ng-disabled="true" maxlength="512"
                                           tabindex="0" class="form-control" required />

                                </div>

                            </div>

                        </div>
                    </div>
            

            <div class="row">
                <div class="col-md-12 col-lg-12 col-sm-12">
                    <div class="col-md-12 col-lg-12 col-sm-12">
                        <div>
                            <label>RM List </label> &nbsp;<span style="color:red">*</span>
                            <select name="rmlistEdit_name" id="rm_listEdit" chosen="" ng-options="m.employee_gid as m.employee_name for m in employee_list"
                                    ng-model="rm_listEdit" class="chosen-select form-control" required></select>
                        </div>
                    </div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-sm-12 col-md-12 col-lg-12">
                    <div class="col-sm-12 col-md-12 col-lg-12">
                        <div>
                            <label><strong>Mail Trigger</strong><span style="color:red"> *</span></label>
                            <div class="radio c-radio">
                                <label>
                                    <input type="radio" name="rdb_acks" value="Y" ng-model="rdb_acksedit" ng-click="rdbacks_yes()" required />
                                    &nbsp;&nbsp;<span class="fa fa-circle"></span>Yes
                                </label>
                                <label>
                                    <input type="radio" name="rdb_acks" value="N" ng-model="rdb_acksedit" ng-click="rdbacks_no()" required />
                                    <span class="fa fa-circle"></span>No
                                </label>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            </form>
            <div>
                <div class="text-center">

                    <button ng-click="Update()" class="btn btn-success" ng-disabled="zoneformEdit.$invalid">
                        <i class="fa fa-check"></i>&nbsp;&nbsp;Update
                    </button>
                    <button ng-click="close()" class="btn btn-danger">
                        <i class="fa icon-close"></i>&nbsp;&nbsp;Close
                    </button>
                </div>
            </div>
            <br />
            <div class="row">
                <div class="col-lg-12 col-sm-12 col-md-12">
                    <div class="col-lg-12 col-sm-12 col-md-12">
                        <div>
                            <div class="table-responsive">
                                <div style="max-height:100px;overflow:auto;">
                                    <table class="table table-striped table-secondary">
                                        <thead class="bg-gray text-white">
                                            <tr width="100%">
                                                <th align="center" scope="col">S.No</th>
                                                <th align="center" scope="col">RM Name</th>
                                                <th align="center" scope="col">Mail Trigger</th>
                                                <th align="center" scope="col">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="data in rmstatus_list" width="100%">
                                                <td align="left" scope="col" title="S.No">{{$index+1}}</td>
                                                <td align="left" scope="col" title="RM Name">{{data.employee_name}}</td>
                                                <td align="left" scope="col" title="Mail Trigger">{{data.acknowledgement_status}}</td>
                                                <td align="left" scope="col" title="Delete RM">
                                                    <a class="btn btn-sm btn-danger" ng-click="deleteRM(data.employee_gid)">
                                                        <span class="fa fa-close "></span>
                                                    </a>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <br />
        </div>

    </div>

    </div>
</script>

<script type="text/ng-template" id="/showpopupModal.html">

    <div class="panel-body text-center">
        <div class="table-responsive" style="max-height:500px;overflow:auto;">
            <table class="table hover table-striped row-border">

                <thead>
                    <tr style="text-align: center;height:40px;">
                        <th style="color:white;background:#7986cb;width:2%;text-align:left;"><b>RM Name  </b> <br /></th>
                        <th style="color:white;background:#7986cb;width:2%;text-align:left;"><b>Mail Trigger  </b> <br /></th>
                        <!--<th style="color:white;background:#7986cb;width:2%;text-align:center;">{{zone_name}}</th>-->
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="data in MdlRmList"
                        style="text-align: left;height:20px;">
                        <td data-title="RM Name" style="width:2%; text-align:left"> {{data.employee_name}}</td>
                        <td data-title="Mail Trigger" style="width:2%; text-align:left"> {{data.acknowledgement_status}}</td>
                    </tr>
                </tbody>

            </table>
        </div>
        <div>
            <div class="text-center">

                <button ng-click="ok()" class="btn btn-danger"><i class="fa icon-close">&nbsp;&nbsp;</i>Close</button>
            </div>
        </div>
    </div>
</script>
</div>