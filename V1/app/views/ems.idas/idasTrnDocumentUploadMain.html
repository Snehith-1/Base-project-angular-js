<h3>
   Document Upload Management
</h3>

<div ng-controller="idasTrnDocumentUploadMain">
   <div class="panel">
      <div class="panel-body">
         <div class="row">
            <br>
            <div class="col-lg-12 ">
               <div class="col-lg-3">
                  <button type="button" ng-click="PopupFolder()" class="btn btn-warning btn-xs">
                     <span class="fa fa-plus"></span>&nbsp;&nbsp;New Folder</button>
                  &nbsp;&nbsp;&nbsp;&nbsp;
                  <button type="button" ng-click="FileShow()" class="btn btn-info btn-xs">
                     <span class="fa fa-plus"></span>&nbsp;&nbsp;New File</button>
               </div>

               <div class="col-lg-6" ng-show="DivFile">

                  <form id="myForm" method="post">
                     <div class="row">
                        <div class="col-lg-4">
                           <p>
                              <input type="file" id="file"  multiple required />
                           </p>
                           <p id="fp"></p>
                        </div>
                        <div class="col-lg-6">
                           <button type="button"  ng-click="FileDetails()" ng-dis class="btn btn-info btn-xs">
                              <span class="fa fa-upload"></span>&nbsp;&nbsp;Upload
                           </button>
                        </div>
                     </div>
                  </form>

                  <!-- <input type="file" ng-show="DivFile" id="addupload" ng-model="test_document"
                     onchange="angular.element(this).scope().uploadallocation(this.files, angular.element(this).scope().documentupload, this.name)"
                     data-classbutton="btn btn-default" data-classinput="form-control inline" data-button-text="Select"
                     accept="images/jpg,images/jpeg,images/tif,images/tiff,images/pdf" /> -->

               </div>



            </div>

         </div>
         <br>
        
         <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="col-lg-4 col-md-4 col-sm-4">
                    Showing 1 to {{totalDisplayed}} of {{total}} Entries
                </div>
                <div class="col-lg-4 col-md-4 col-sm-4">

                    Show <input ng-model="pagecount" id="pagecount" type="number" />
                    <button class="btn" id="loadmore" ng-click="loadMore(pagecount)">Load More</button>

                </div>
                <div class="col-lg-4 col-md-4 col-sm-4">
                    <div class="input-group">
                        <input type="text" ng-model="searchtxt" placeholder="Search Here .."
                            class="form-control input-sm" />
                        <span class="input-group-btn">
                            <button type="submit" class="btn btn-default btn-sm">
                                <i class="fa fa-search"></i>
                            </button>
                        </span>
                    </div>
                </div>
            </div>
        </div>
        <hr>
         <div class="row">
            <div class="col-lg-12">

               <div>
                  <div>
                     <table class="table m0">
                        <thead>
                           <tr>
                              <th class="col-sm-1">Type</th>
                              <th class="col-sm-3">Name</th>
                              <th class="col-sm-2">Created By</th>
                              <th class="col-sm-2">Created On</th>
                              <th class="col-sm-1">
                                 Action
                              </th>

                           </tr>
                        </thead>
                        <tbody>
                           <tr ng-repeat="data in DirectoryDtls_list|filter:searchtxt">
                              <td>
                                 <em class="fa fa-folder text-warning fa-2x" ng-if="data.directory_type=='Folder'"></em>
                                 <em class="fa fa-file text-info fa-2x" ng-if="data.directory_type=='File'"></em>
                              </td>
                              <td>

                                 <a ng-if="data.directory_type=='Folder'"
                                    ng-click="goChild(data.fileupload_gid)">{{data.folder_name}}</a>
                                 <a ng-if="data.directory_type=='File'" download="" href="" id="btnpdf" 
                                    ng-click="downloadsdocument(data.document_path,data.document_name)">{{data.document_name}}</a>
                              </td>

                              <td>
                                 {{data.created_by}}
                              </td>
                              <td>
                                 {{data.created_date}}
                              </td>
                              <td>
                                 <button title="Rename" ng-if="data.directory_type=='File'" class="btn btn-green btn-sm"
                                    ng-click="RenameFolder(data.fileupload_gid,data.directory_type,data.document_name)">
                                    <em class="icon icon-pencil"></em>
                                 </button>
                                 <button title="Rename" ng-if="data.directory_type=='Folder'"
                                    class="btn btn-green btn-sm"
                                    ng-click="RenameFolder(data.fileupload_gid,data.directory_type,data.folder_name)">
                                    <em class="icon icon-pencil"></em>
                                 </button>
                                 <button title="Delete" class="btn btn-danger btn-sm"
                                    ng-click="deleteDocument(data.fileupload_gid)">
                                    <em class="fa fa-trash"></em>
                                 </button>
                                

                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>


   <script type="text/ng-template" id="/myModalContent.html">
         <div class="modal-body ng-scope">
            <strong>
               <h3 class="mt0">Create Folder</h3>
            </strong>
            <div class="controls">
               <input type="text" name="FolderName" ng-model="folderName" maxlength="128" placeholder="Enter the Folder Name" class="form-control" />
            </div>
<br>
         <button type="button" ng-click="createFolder()" ng-disabled="!folderName" class="btn btn-primary">Create</button>&nbsp;
         <button type="button" ng-click="close()" class="btn btn-danger">Close</button>
      </div>
</script>

   <script type="text/ng-template" id="/myModalContent1.html">
   <div class="modal-body ng-scope">
      <strong>
         <h3 class="mt0">Rename</h3>
      </strong>
      <div class="controls">
         <input type="text" name="renameFolder" ng-model="renameFolder" maxlength="128"  class="form-control" />
      </div>
<br>
   <button type="button" ng-click="renameSave()" ng-disabled="!renameFolder" class="btn btn-primary">Save</button>&nbsp;
   <button type="button" ng-click="close()" class="btn btn-danger">Close</button>
</div>
</script>
</div>