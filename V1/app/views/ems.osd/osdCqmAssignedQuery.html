<style type="text/css">
    .picColor:hover {
        background-color: transparent;
        box-shadow: none;
        color: #144A6E;
        border: 1px solid #A59F9D;
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        text-decoration: underline;
        text-decoration-color: #141478;
    }
</style>
<h3>
    Assigned Query
</h3>
<div ng-controller="osdCqmAssignedQueryController">
    <div class="row">
        <div class="col-lg-1 col-md-1 col-sm-1"></div>
        <div class="col-lg-2 col-sm-2 col-md-2">
            <div class="list-group-item picColor" style="height:76px;border: 1px solid #bdb9b8;">
                <div class="media-box">
                    <div class="pull-left" style="padding-top:15px;">
                        <span>
                            <em class="fa fa-dropbox fa-2x" style="color:#141478;"></em>
                        </span>
                    </div>
                    <div class="media-box-body clearfix">
                        <div class="media-box-heading" style="padding-top:15px;">
                            <div class="pull-right label" style="background-color:#141478;padding-top:5px;padding-bottom:5px;">{{assigned_count}}</div>
                            <div style="font-size:14px;color:#141478;text-align:center;" ng-click="Assigned()"><b>Assigned Query</b></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-2 col-sm-2 col-md-2">
            <div class="list-group-item picColor" style="height:76px;border: 1px solid #bdb9b8;">
                <div class="media-box">
                    <div class="pull-left" style="padding-top:15px;">
                        <span>
                            <em class="fa fa-reply-all fa-2x" style="color:#AE1151;"></em>
                        </span>
                    </div>
                    <div class="media-box-body clearfix">
                        <div class="media-box-heading" style="padding-top:15px;">
                            <div class="pull-right label" style="background-color:#AE1151;padding-top:5px;padding-bottom:5px;">{{reply_count}}</div>
                            <div style="font-size:14px;color:#AE1151;text-align:center;" ng-click="Replay()"><b>Reply/Forward</b></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
       <!--  <div class="col-lg-2 col-sm-2 col-md-2">
            <div class="list-group-item picColor" style="height:76px;border: 1px solid #bdb9b8;">
                <div class="media-box">
                    <div class="pull-left" style="padding-top:15px;">
                        <span>
                            <em class="fa fa-share-square-o fa-2x" style="color:#871490;"></em>
                        </span>
                    </div>
                    <div class="media-box-body clearfix">
                        <div class="media-box-heading" style="padding-top:15px;">
                            <div class="pull-right label" style="background-color:#871490;padding-top:5px;padding-bottom:5px;">{{forward_count}}</div>
                            <div style="font-size:14px;color:#871490;text-align:center;" ng-click="Forward()"><b>Forward</b></div>
                        </div>
                    </div>
                </div>
            </div>
        </div> -->
        <div class="col-lg-2 col-sm-2 col-md-2">
            <div class="list-group-item picColor" style="height:76px;border: 1px solid #bdb9b8;">
                <div class="media-box">
                    <div class="pull-left" style="padding-top:15px;">
                        <span>
                            <em class="fa fa-external-link fa-2x" style="color:#1976d2;"></em>
                        </span>
                    </div>
                    <div class="media-box-body clearfix">
                        <div class="media-box-heading" style="padding-top:15px;">
                            <div class="pull-right label" style="background-color:#1976d2;padding-top:5px;padding-bottom:5px;">{{transfer_count}}</div>
                            <div style="font-size:14px;color:#1976d2;text-align:center;" ng-click="Transfer()"><b>Transfer</b></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-lg-2 col-sm-2 col-md-2">
            <div class="list-group-item picColor" style="height:76px;border: 1px solid #bdb9b8;">
                <div class="media-box">
                    <div class="pull-left" style="padding-top:15px;">
                        <span>
                            <em class="fa fa-times-circle text-white fa-2x" style="color:#FF0000;"></em>
                        </span>
                    </div>
                    <div class="media-box-body clearfix">
                        <div class="media-box-heading" style="padding-top:15px;">
                            <div class="pull-right label" style="background-color:#FF0000;padding-top:5px;padding-bottom:5px;">{{close_count}}</div>
                            <div style="font-size:14px;color:#FF0000;text-align:center;" ng-click="Closed()"><b>Closed</b></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
       <!--<div class="col-lg-2 col-sm-2 col-md-2">
            <div class="list-group-item picColor" style="height:76px;border: 1px solid #bdb9b8;">
                <div class="media-box">
                    <div class="pull-left" style="padding-top:15px;">
                        <span>
                            <em class="fa fa-file-o fa-2x" style="color:#871490;"></em>
                        </span>
                    </div>
                    <div class="media-box-body clearfix">
                        <div class="media-box-heading" style="padding-top:15px;">
                            <div class="pull-right label" style="background-color:#871490;padding-top:5px;padding-bottom:5px;"> 0 </div>
                            <div style="font-size:14px;color:#871490;text-align:center;" ><b> Report</b></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>-->
        <div class="col-sm-2 col-lg-2 col-md-2">
            <div class="panel widget" style="height:76px;">
                <div class="row row-table">
                    <div class="col-xs-4 text-center bg-gray-dark pv-lg">

                        <now format="MMMM" class="text-sm"></now>

                        <now format="d" class="h4 mt0"></now>
                    </div>
                    <div class="col-xs-8 pv-lg bg-gray-500">
                        <now format="EEEE" class="text-sm"></now>

                        <now format="h:mm" class="h4 mt0"></now>
                        <now format="a" class="text-sm"></now>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br/>
    <div class="panel">
        <div class="row">
            <div class="col-lg-12 col-sm-12 col-md-12">
                <h3 style="color:#141478;"> &nbsp;&nbsp; Assigned Query </h3>
            </div>
        </div>
        <br/>
        <div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="table-responsive">
                    <table datatable="ng" class="table table-hover table-striped">
                        <thead>
                            <tr class="text-white" style="background-color:#09385f;">
                                <th>S.No</th>
                                <th>Ticket Ref.No</th>
                                <th>Assigned By</th>
                                <th>Assigned Date</th>
                                <th class="text-center">Aging</th>
                                <th>Subject</th>
                                <th class="text-center">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="data in AssignedQueryList">
                                <td data-title="'S.No'" class="text-center" >{{$index+1}}</td>
                                <td data-title="'Ticket Ref.No'">{{data.ticketref_no}}</td>
                                <td data-title="'Assigned By'">{{data.assigned_by}}</td>
                                <td data-title="'Assigned Date'">{{data.assigned_date}}</td>
                                <td data-title="'Mail Sent Date'" class="text-center">{{data.aging}}</td>
                                <td data-title="'Mail Details'">
                                    <div class="mb-mail-meta">
                                        <div class="pull-left">
                                            <div> {{data.email_subject}}</div>
                                        </div>
                                    </div>
                                </td>
                                <td class="nowrap" data-title="'Action'" style="text-align: center;">
                                    <button title="AssignedQuery360" ng-click="AssignedQuery360(data.email_gid)" class="btn btn-primary btn-sm">
                                        <em class="fa fa-retweet"></em>
                                    </button>
                                    <button title="Transfer" ng-click="transfer(data.email_gid,data.ticketref_no,data.from_mailaddress,data.email_subject,data.assigned_to)" class="btn bg-pink-400">
                                        <em class="fa fa-external-link text-white"></em>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        </div>
    <br />
    </div>
    <script type="text/ng-template" id="/transferContent.html">
        <md-toolbar>
            <div class="md-toolbar-tools" style="background-color:rgb(63, 110, 181);">
                <h2><em class="icon icon-share-alt"></em>&nbsp;Transfer</h2>
                <span flex></span>

            </div>
        </md-toolbar>
        <div class="modal-body ng-scope">
            <form novalidate="" name="transferformsubmit" ng-submit="form.transferformsubmit()" autocomplete="off" class="form-validate form-horizontal">
                <div class="pd-sm-10">

                    <div class="row ">
                        <div class="col-sm-12 col-lg-12 col-md-12">
                            <label>Ticket Ref No</label>
                            <br />
                            {{ticketref_no}}
                        </div>
                    </div>
                    <br>
                    <div class="row ">
                        <div class="col-sm-12 col-lg-12 col-md-12">
                            <label>From </label><br>
                            {{from_mailaddress}}
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col-sm-12 col-lg-12 col-md-12">
                            <label>Assign To </label><br>
                            {{assigned_to}}
                        </div>
                    </div>
                    <br>
                    <div class="row ">
                        <div class="col-sm-12 col-lg-12 col-md-12">
                            <label>Subject </label><br>
                            {{email_subject}}
                        </div>
                    </div>
                    <br />

                    <div class="row">
                        <div class="col-sm-12 col-lg-12 col-md-12">
                            <label>Transfer To <span style="color:red">*</span></label><br>
                            <select name="transfer_to" id="transfer_to" chosen="" ng-options="m.employee_gid as m.employee_name for m in TransferEmployeeList"
                                    ng-model="transfer_to" class="chosen-select form-control" required></select>
                        </div>
                    </div>
                    <br />
                    <div class="row">
                        <div class="col-sm-12 col-lg-12 col-md-12">
                            <label>Remarks<span style="color:red">*</span> </label>
                            <!--<textarea ng-model="transfer_remarks" placeholder="Enter Remarks" rows="3" class="form-control"
                                      id="input_13" ng-trim="false" aria-multiline="true" tabindex="0" aria-invalid="true"></textarea>-->
                            <textarea style="resize:vertical;" ng-model="transfer_remarks" required rows="4" aria-multiline="true" tabindex="0" aria-invalid="false" class="form-control"></textarea>
                        </div>
                    </div>
                </div>
                <br />
                <div>
                    <div class="text-center">
                        <button type="button" class="btn btn-success btn-md" ng-disabled="transferformsubmit.$invalid" ng-click="transferWIUpdate()"><i class="fa fa-arrow-circle-right"></i>&nbsp;&nbsp;Submit</button>&nbsp;&nbsp;
                        <button ng-click="close()" class="btn btn-danger"><i class="fa icon-close"></i>&nbsp;&nbsp;Close</button>
                    </div>
                </div>
            </form>
            <br>
            <div class="table-responsive">
                <div style="max-height:300px;overflow:auto;" >
                    <table class="table table-striped table-secondary">
                        <thead class="bg-gray text-white">
                            <tr width="100%">
                                <th align="center" scope="col">S.No</th>
                                <th align="center" scope="col">Transfer From</th>
                                <th align="center" scope="col">Transfer To</th>
                                <th align="center" scope="col">Allotted By/On</th>
                                <th align="center" scope="col">Transfer Date</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="data in MdlTransferLog" width="100%">
                                <td align="left" scope="col" title="'S.No'">{{$index+1}}</td>
                                <td align="left" scope="col" title="Transfer From">{{data.assignedby_name}}</td>
                                <td align="left" scope="col" title="Transfer To'">{{data.transferby_name}}</td>
                                <td align="left" scope="col" title="Allotted By/On'">{{data.created_by}}/{{data.created_date}}</td>
                                <td align="left" scope="col" title="Transfer Date'">{{data.transfered_date}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </script>
</div>